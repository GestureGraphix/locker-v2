module.exports=[97140,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={isHangingPromiseRejectionError:function(){return f},makeDevtoolsIOAwarePromise:function(){return l},makeHangingPromise:function(){return j}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});function f(a){return"object"==typeof a&&null!==a&&"digest"in a&&a.digest===g}let g="HANGING_PROMISE_REJECTION";class h extends Error{constructor(a,b){super(`During prerendering, ${b} rejects when the prerender is complete. Typically these errors are handled by React but if you move ${b} to a different context by using \`setTimeout\`, \`after\`, or similar functions you may observe this error and you should handle it in that context. This occurred at route "${a}".`),this.route=a,this.expression=b,this.digest=g}}let i=new WeakMap;function j(a,b,c){if(a.aborted)return Promise.reject(new h(b,c));{let d=new Promise((d,e)=>{let f=e.bind(null,new h(b,c)),g=i.get(a);if(g)g.push(f);else{let b=[f];i.set(a,b),a.addEventListener("abort",()=>{for(let a=0;a<b.length;a++)b[a]()},{once:!0})}});return d.catch(k),d}}function k(){}function l(a,b,c){return b.stagedRendering?b.stagedRendering.delayUntilStage(c,void 0,a):new Promise(b=>{setTimeout(()=>{b(a)},0)})}},28110,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={BailoutToCSRError:function(){return g},isBailoutToCSRError:function(){return h}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f="BAILOUT_TO_CLIENT_SIDE_RENDERING";class g extends Error{constructor(a){super(`Bail out to client-side rendering: ${a}`),this.reason=a,this.digest=f}}function h(a){return"object"==typeof a&&null!==a&&"digest"in a&&a.digest===f}},18341,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={DynamicServerError:function(){return g},isDynamicServerError:function(){return h}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f="DYNAMIC_SERVER_USAGE";class g extends Error{constructor(a){super(`Dynamic server usage: ${a}`),this.description=a,this.digest=f}}function h(a){return"object"==typeof a&&null!==a&&"digest"in a&&"string"==typeof a.digest&&a.digest===f}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},6649,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={StaticGenBailoutError:function(){return g},isStaticGenBailoutError:function(){return h}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f="NEXT_STATIC_GEN_BAILOUT";class g extends Error{constructor(...a){super(...a),this.code=f}}function h(a){return"object"==typeof a&&null!==a&&"code"in a&&a.code===f}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},88026,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={METADATA_BOUNDARY_NAME:function(){return f},OUTLET_BOUNDARY_NAME:function(){return h},ROOT_LAYOUT_BOUNDARY_NAME:function(){return i},VIEWPORT_BOUNDARY_NAME:function(){return g}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f="__next_metadata_boundary__",g="__next_viewport_boundary__",h="__next_outlet_boundary__",i="__next_root_layout_boundary__"},85379,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={atLeastOneTask:function(){return h},scheduleImmediate:function(){return g},scheduleOnNextTick:function(){return f},waitAtLeastOneReactRenderTask:function(){return i}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a=>{Promise.resolve().then(()=>{process.nextTick(a)})},g=a=>{setImmediate(a)};function h(){return new Promise(a=>g(a))}function i(){return new Promise(a=>setImmediate(a))}},9558,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"InvariantError",{enumerable:!0,get:function(){return d}});class d extends Error{constructor(a,b){super(`Invariant: ${a.endsWith(".")?a:a+"."} This is a bug in Next.js.`,b),this.name="InvariantError"}}},63677,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d,e,f={Postpone:function(){return B},PreludeState:function(){return $},abortAndThrowOnSynchronousRequestDataAccess:function(){return A},abortOnSynchronousPlatformIOAccess:function(){return z},accessedDynamicData:function(){return J},annotateDynamicAccess:function(){return O},consumeDynamicAccess:function(){return K},createDynamicTrackingState:function(){return s},createDynamicValidationState:function(){return t},createHangingInputAbortSignal:function(){return N},createRenderInBrowserAbortSignal:function(){return M},delayUntilRuntimeStage:function(){return ac},formatDynamicAPIAccesses:function(){return L},getFirstDynamicReason:function(){return u},getStaticShellDisallowedDynamicReasons:function(){return ab},isDynamicPostpone:function(){return E},isPrerenderInterruptedError:function(){return I},logDisallowedDynamicError:function(){return _},markCurrentScopeAsDynamic:function(){return v},postponeWithTracking:function(){return C},throwIfDisallowedDynamic:function(){return aa},throwToInterruptStaticGeneration:function(){return w},trackAllowedDynamicAccess:function(){return W},trackDynamicDataInDynamicRender:function(){return x},trackDynamicHoleInRuntimeShell:function(){return X},trackDynamicHoleInStaticShell:function(){return Y},useDynamicRouteParams:function(){return P},useDynamicSearchParams:function(){return Q}};for(var g in f)Object.defineProperty(c,g,{enumerable:!0,get:f[g]});let h=(d=a.r(57098))&&d.__esModule?d:{default:d},i=a.r(18341),j=a.r(6649),k=a.r(32319),l=a.r(56704),m=a.r(97140),n=a.r(88026),o=a.r(85379),p=a.r(28110),q=a.r(9558),r="function"==typeof h.default.unstable_postpone;function s(a){return{isDebugDynamicAccesses:a,dynamicAccesses:[],syncDynamicErrorWithStack:null}}function t(){return{hasSuspenseAboveBody:!1,hasDynamicMetadata:!1,dynamicMetadata:null,hasDynamicViewport:!1,hasAllowedDynamic:!1,dynamicErrors:[]}}function u(a){var b;return null==(b=a.dynamicAccesses[0])?void 0:b.expression}function v(a,b,c){if(b)switch(b.type){case"cache":case"unstable-cache":case"private-cache":return}if(!a.forceDynamic&&!a.forceStatic){if(a.dynamicShouldError)throw Object.defineProperty(new j.StaticGenBailoutError(`Route ${a.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${c}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E553",enumerable:!1,configurable:!0});if(b)switch(b.type){case"prerender-ppr":return C(a.route,c,b.dynamicTracking);case"prerender-legacy":b.revalidate=0;let d=Object.defineProperty(new i.DynamicServerError(`Route ${a.route} couldn't be rendered statically because it used ${c}. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E550",enumerable:!1,configurable:!0});throw a.dynamicUsageDescription=c,a.dynamicUsageStack=d.stack,d}}}function w(a,b,c){let d=Object.defineProperty(new i.DynamicServerError(`Route ${b.route} couldn't be rendered statically because it used \`${a}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E558",enumerable:!1,configurable:!0});throw c.revalidate=0,b.dynamicUsageDescription=a,b.dynamicUsageStack=d.stack,d}function x(a){switch(a.type){case"cache":case"unstable-cache":case"private-cache":return}}function y(a,b,c){let d=H(`Route ${a} needs to bail out of prerendering at this point because it used ${b}.`);c.controller.abort(d);let e=c.dynamicTracking;e&&e.dynamicAccesses.push({stack:e.isDebugDynamicAccesses?Error().stack:void 0,expression:b})}function z(a,b,c,d){let e=d.dynamicTracking;y(a,b,d),e&&null===e.syncDynamicErrorWithStack&&(e.syncDynamicErrorWithStack=c)}function A(a,b,c,d){if(!1===d.controller.signal.aborted){y(a,b,d);let e=d.dynamicTracking;e&&null===e.syncDynamicErrorWithStack&&(e.syncDynamicErrorWithStack=c)}throw H(`Route ${a} needs to bail out of prerendering at this point because it used ${b}.`)}function B({reason:a,route:b}){let c=k.workUnitAsyncStorage.getStore();C(b,a,c&&"prerender-ppr"===c.type?c.dynamicTracking:null)}function C(a,b,c){(function(){if(!r)throw Object.defineProperty(Error("Invariant: React.unstable_postpone is not defined. This suggests the wrong version of React was loaded. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E224",enumerable:!1,configurable:!0})})(),c&&c.dynamicAccesses.push({stack:c.isDebugDynamicAccesses?Error().stack:void 0,expression:b}),h.default.unstable_postpone(D(a,b))}function D(a,b){return`Route ${a} needs to bail out of prerendering at this point because it used ${b}. React throws this special object to indicate where. It should not be caught by your own try/catch. Learn more: https://nextjs.org/docs/messages/ppr-caught-error`}function E(a){return"object"==typeof a&&null!==a&&"string"==typeof a.message&&F(a.message)}function F(a){return a.includes("needs to bail out of prerendering at this point because it used")&&a.includes("Learn more: https://nextjs.org/docs/messages/ppr-caught-error")}if(!1===F(D("%%%","^^^")))throw Object.defineProperty(Error("Invariant: isDynamicPostpone misidentified a postpone reason. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E296",enumerable:!1,configurable:!0});let G="NEXT_PRERENDER_INTERRUPTED";function H(a){let b=Object.defineProperty(Error(a),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return b.digest=G,b}function I(a){return"object"==typeof a&&null!==a&&a.digest===G&&"name"in a&&"message"in a&&a instanceof Error}function J(a){return a.length>0}function K(a,b){return a.dynamicAccesses.push(...b.dynamicAccesses),a.dynamicAccesses}function L(a){return a.filter(a=>"string"==typeof a.stack&&a.stack.length>0).map(({expression:a,stack:b})=>(b=b.split("\n").slice(4).filter(a=>!(a.includes("node_modules/next/")||a.includes(" (<anonymous>)")||a.includes(" (node:"))).join("\n"),`Dynamic API Usage Debug - ${a}:
${b}`))}function M(){let a=new AbortController;return a.abort(Object.defineProperty(new p.BailoutToCSRError("Render in Browser"),"__NEXT_ERROR_CODE",{value:"E721",enumerable:!1,configurable:!0})),a.signal}function N(a){switch(a.type){case"prerender":case"prerender-runtime":let b=new AbortController;if(a.cacheSignal)a.cacheSignal.inputReady().then(()=>{b.abort()});else{let c=(0,k.getRuntimeStagePromise)(a);c?c.then(()=>(0,o.scheduleOnNextTick)(()=>b.abort())):(0,o.scheduleOnNextTick)(()=>b.abort())}return b.signal;case"prerender-client":case"prerender-ppr":case"prerender-legacy":case"request":case"cache":case"private-cache":case"unstable-cache":return}}function O(a,b){let c=b.dynamicTracking;c&&c.dynamicAccesses.push({stack:c.isDebugDynamicAccesses?Error().stack:void 0,expression:a})}function P(a){let b=l.workAsyncStorage.getStore(),c=k.workUnitAsyncStorage.getStore();if(b&&c)switch(c.type){case"prerender-client":case"prerender":{let d=c.fallbackRouteParams;d&&d.size>0&&h.default.use((0,m.makeHangingPromise)(c.renderSignal,b.route,a));break}case"prerender-ppr":{let d=c.fallbackRouteParams;if(d&&d.size>0)return C(b.route,a,c.dynamicTracking);break}case"prerender-runtime":throw Object.defineProperty(new q.InvariantError(`\`${a}\` was called during a runtime prerender. Next.js should be preventing ${a} from being included in server components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E771",enumerable:!1,configurable:!0});case"cache":case"private-cache":throw Object.defineProperty(new q.InvariantError(`\`${a}\` was called inside a cache scope. Next.js should be preventing ${a} from being included in server components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E745",enumerable:!1,configurable:!0})}}function Q(a){let b=l.workAsyncStorage.getStore(),c=k.workUnitAsyncStorage.getStore();if(b)switch(!c&&(0,k.throwForMissingRequestStore)(a),c.type){case"prerender-client":h.default.use((0,m.makeHangingPromise)(c.renderSignal,b.route,a));break;case"prerender-legacy":case"prerender-ppr":if(b.forceStatic)return;throw Object.defineProperty(new p.BailoutToCSRError(a),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});case"prerender":case"prerender-runtime":throw Object.defineProperty(new q.InvariantError(`\`${a}\` was called from a Server Component. Next.js should be preventing ${a} from being included in server components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E795",enumerable:!1,configurable:!0});case"cache":case"unstable-cache":case"private-cache":throw Object.defineProperty(new q.InvariantError(`\`${a}\` was called inside a cache scope. Next.js should be preventing ${a} from being included in server components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E745",enumerable:!1,configurable:!0});case"request":return}}let R=/\n\s+at Suspense \(<anonymous>\)/,S=RegExp(`\\n\\s+at Suspense \\(<anonymous>\\)(?:(?!\\n\\s+at (?:body|div|main|section|article|aside|header|footer|nav|form|p|span|h1|h2|h3|h4|h5|h6) \\(<anonymous>\\))[\\s\\S])*?\\n\\s+at ${n.ROOT_LAYOUT_BOUNDARY_NAME} \\([^\\n]*\\)`),T=RegExp(`\\n\\s+at ${n.METADATA_BOUNDARY_NAME}[\\n\\s]`),U=RegExp(`\\n\\s+at ${n.VIEWPORT_BOUNDARY_NAME}[\\n\\s]`),V=RegExp(`\\n\\s+at ${n.OUTLET_BOUNDARY_NAME}[\\n\\s]`);function W(a,b,c,d){if(!V.test(b)){if(T.test(b)){c.hasDynamicMetadata=!0;return}if(U.test(b)){c.hasDynamicViewport=!0;return}if(S.test(b)){c.hasAllowedDynamic=!0,c.hasSuspenseAboveBody=!0;return}else if(R.test(b)){c.hasAllowedDynamic=!0;return}else{if(d.syncDynamicErrorWithStack)return void c.dynamicErrors.push(d.syncDynamicErrorWithStack);let e=Z(`Route "${a.route}": Uncached data was accessed outside of <Suspense>. This delays the entire page from rendering, resulting in a slow user experience. Learn more: https://nextjs.org/docs/messages/blocking-route`,b);return void c.dynamicErrors.push(e)}}}function X(a,b,c,d){if(!V.test(b)){if(T.test(b)){c.dynamicMetadata=Z(`Route "${a.route}": Uncached data or \`connection()\` was accessed inside \`generateMetadata\`. Except for this instance, the page would have been entirely prerenderable which may have been the intended behavior. See more info here: https://nextjs.org/docs/messages/next-prerender-dynamic-metadata`,b);return}if(U.test(b)){let d=Z(`Route "${a.route}": Uncached data or \`connection()\` was accessed inside \`generateViewport\`. This delays the entire page from rendering, resulting in a slow user experience. Learn more: https://nextjs.org/docs/messages/next-prerender-dynamic-viewport`,b);c.dynamicErrors.push(d);return}if(S.test(b)){c.hasAllowedDynamic=!0,c.hasSuspenseAboveBody=!0;return}else if(R.test(b)){c.hasAllowedDynamic=!0;return}else{if(d.syncDynamicErrorWithStack)return void c.dynamicErrors.push(d.syncDynamicErrorWithStack);let e=Z(`Route "${a.route}": Uncached data or \`connection()\` was accessed outside of \`<Suspense>\`. This delays the entire page from rendering, resulting in a slow user experience. Learn more: https://nextjs.org/docs/messages/blocking-route`,b);return void c.dynamicErrors.push(e)}}}function Y(a,b,c,d){if(!V.test(b)){if(T.test(b)){c.dynamicMetadata=Z(`Route "${a.route}": Runtime data such as \`cookies()\`, \`headers()\`, \`params\`, or \`searchParams\` was accessed inside \`generateMetadata\` or you have file-based metadata such as icons that depend on dynamic params segments. Except for this instance, the page would have been entirely prerenderable which may have been the intended behavior. See more info here: https://nextjs.org/docs/messages/next-prerender-dynamic-metadata`,b);return}if(U.test(b)){let d=Z(`Route "${a.route}": Runtime data such as \`cookies()\`, \`headers()\`, \`params\`, or \`searchParams\` was accessed inside \`generateViewport\`. This delays the entire page from rendering, resulting in a slow user experience. Learn more: https://nextjs.org/docs/messages/next-prerender-dynamic-viewport`,b);c.dynamicErrors.push(d);return}if(S.test(b)){c.hasAllowedDynamic=!0,c.hasSuspenseAboveBody=!0;return}else if(R.test(b)){c.hasAllowedDynamic=!0;return}else{if(d.syncDynamicErrorWithStack)return void c.dynamicErrors.push(d.syncDynamicErrorWithStack);let e=Z(`Route "${a.route}": Runtime data such as \`cookies()\`, \`headers()\`, \`params\`, or \`searchParams\` was accessed outside of \`<Suspense>\`. This delays the entire page from rendering, resulting in a slow user experience. Learn more: https://nextjs.org/docs/messages/blocking-route`,b);return void c.dynamicErrors.push(e)}}}function Z(a,b){let c=Object.defineProperty(Error(a),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return c.stack=c.name+": "+a+b,c}var $=((e={})[e.Full=0]="Full",e[e.Empty=1]="Empty",e[e.Errored=2]="Errored",e);function _(a,b){console.error(b),a.dev||(a.hasReadableErrorStacks?console.error(`To get a more detailed stack trace and pinpoint the issue, start the app in development mode by running \`next dev\`, then open "${a.route}" in your browser to investigate the error.`):console.error(`To get a more detailed stack trace and pinpoint the issue, try one of the following:
  - Start the app in development mode by running \`next dev\`, then open "${a.route}" in your browser to investigate the error.
  - Rerun the production build with \`next build --debug-prerender\` to generate better stack traces.`))}function aa(a,b,c,d){if(d.syncDynamicErrorWithStack)throw _(a,d.syncDynamicErrorWithStack),new j.StaticGenBailoutError;if(0!==b){if(c.hasSuspenseAboveBody)return;let d=c.dynamicErrors;if(d.length>0){for(let b=0;b<d.length;b++)_(a,d[b]);throw new j.StaticGenBailoutError}if(c.hasDynamicViewport)throw console.error(`Route "${a.route}" has a \`generateViewport\` that depends on Request data (\`cookies()\`, etc...) or uncached external data (\`fetch(...)\`, etc...) without explicitly allowing fully dynamic rendering. See more info here: https://nextjs.org/docs/messages/next-prerender-dynamic-viewport`),new j.StaticGenBailoutError;if(1===b)throw console.error(`Route "${a.route}" did not produce a static shell and Next.js was unable to determine a reason. This is a bug in Next.js.`),new j.StaticGenBailoutError}else if(!1===c.hasAllowedDynamic&&c.hasDynamicMetadata)throw console.error(`Route "${a.route}" has a \`generateMetadata\` that depends on Request data (\`cookies()\`, etc...) or uncached external data (\`fetch(...)\`, etc...) when the rest of the route does not. See more info here: https://nextjs.org/docs/messages/next-prerender-dynamic-metadata`),new j.StaticGenBailoutError}function ab(a,b,c){if(c.hasSuspenseAboveBody)return[];if(0!==b){let d=c.dynamicErrors;if(d.length>0)return d;if(1===b)return[Object.defineProperty(new q.InvariantError(`Route "${a.route}" did not produce a static shell and Next.js was unable to determine a reason.`),"__NEXT_ERROR_CODE",{value:"E936",enumerable:!1,configurable:!0})]}else if(!1===c.hasAllowedDynamic&&0===c.dynamicErrors.length&&c.dynamicMetadata)return[c.dynamicMetadata];return[]}function ac(a,b){return a.runtimeStagePromise?a.runtimeStagePromise.then(()=>b):b}},74401,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={RequestCookies:function(){return f.RequestCookies},ResponseCookies:function(){return f.ResponseCookies},stringifyCookie:function(){return f.stringifyCookie}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(39401)},49944,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"ReflectAdapter",{enumerable:!0,get:function(){return d}});class d{static get(a,b,c){let d=Reflect.get(a,b,c);return"function"==typeof d?d.bind(a):d}static set(a,b,c,d){return Reflect.set(a,b,c,d)}static has(a,b){return Reflect.has(a,b)}static deleteProperty(a,b){return Reflect.deleteProperty(a,b)}}},21162,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={ActionDidNotRevalidate:function(){return f},ActionDidRevalidateDynamicOnly:function(){return h},ActionDidRevalidateStaticAndDynamic:function(){return g}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=0,g=1,h=2},16183,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={MutableRequestCookiesAdapter:function(){return o},ReadonlyRequestCookiesError:function(){return j},RequestCookiesAdapter:function(){return k},appendMutableCookies:function(){return n},areCookiesMutableInCurrentPhase:function(){return q},createCookiesWithMutableAccessCheck:function(){return p},getModifiedCookieValues:function(){return m},responseCookiesToRequestCookies:function(){return s}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(74401),g=a.r(49944),h=a.r(56704),i=a.r(21162);class j extends Error{constructor(){super("Cookies can only be modified in a Server Action or Route Handler. Read more: https://nextjs.org/docs/app/api-reference/functions/cookies#options")}static callable(){throw new j}}class k{static seal(a){return new Proxy(a,{get(a,b,c){switch(b){case"clear":case"delete":case"set":return j.callable;default:return g.ReflectAdapter.get(a,b,c)}}})}}let l=Symbol.for("next.mutated.cookies");function m(a){let b=a[l];return b&&Array.isArray(b)&&0!==b.length?b:[]}function n(a,b){let c=m(b);if(0===c.length)return!1;let d=new f.ResponseCookies(a),e=d.getAll();for(let a of c)d.set(a);for(let a of e)d.set(a);return!0}class o{static wrap(a,b){let c=new f.ResponseCookies(new Headers);for(let b of a.getAll())c.set(b);let d=[],e=new Set,j=()=>{let a=h.workAsyncStorage.getStore();if(a&&(a.pathWasRevalidated=i.ActionDidRevalidateStaticAndDynamic),d=c.getAll().filter(a=>e.has(a.name)),b){let a=[];for(let b of d){let c=new f.ResponseCookies(new Headers);c.set(b),a.push(c.toString())}b(a)}},k=new Proxy(c,{get(a,b,c){switch(b){case l:return d;case"delete":return function(...b){e.add("string"==typeof b[0]?b[0]:b[0].name);try{return a.delete(...b),k}finally{j()}};case"set":return function(...b){e.add("string"==typeof b[0]?b[0]:b[0].name);try{return a.set(...b),k}finally{j()}};default:return g.ReflectAdapter.get(a,b,c)}}});return k}}function p(a){let b=new Proxy(a.mutableCookies,{get(c,d,e){switch(d){case"delete":return function(...d){return r(a,"cookies().delete"),c.delete(...d),b};case"set":return function(...d){return r(a,"cookies().set"),c.set(...d),b};default:return g.ReflectAdapter.get(c,d,e)}}});return b}function q(a){return"action"===a.phase}function r(a,b){if(!q(a))throw new j}function s(a){let b=new f.RequestCookies(new Headers);for(let c of a.getAll())b.set(c);return b}},31188,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"createDedupedByCallsiteServerErrorLoggerDev",{enumerable:!0,get:function(){return i}});let d=function(a,b){if(a&&a.__esModule)return a;if(null===a||"object"!=typeof a&&"function"!=typeof a)return{default:a};var c=e(void 0);if(c&&c.has(a))return c.get(a);var d={__proto__:null},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in a)if("default"!==g&&Object.prototype.hasOwnProperty.call(a,g)){var h=f?Object.getOwnPropertyDescriptor(a,g):null;h&&(h.get||h.set)?Object.defineProperty(d,g,h):d[g]=a[g]}return d.default=a,c&&c.set(a,d),d}(a.r(57098));function e(a){if("function"!=typeof WeakMap)return null;var b=new WeakMap,c=new WeakMap;return(e=function(a){return a?c:b})(a)}let f={current:null},g="function"==typeof d.cache?d.cache:a=>a,h=console.warn;function i(a){return function(...b){h(a(...b))}}g(a=>{try{h(f.current)}finally{f.current=null}})},28701,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={isRequestAPICallableInsideAfter:function(){return j},throwForSearchParamsAccessInUseCache:function(){return i},throwWithStaticGenerationBailoutErrorWithDynamicError:function(){return h}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(6649),g=a.r(24725);function h(a,b){throw Object.defineProperty(new f.StaticGenBailoutError(`Route ${a} with \`dynamic = "error"\` couldn't be rendered statically because it used ${b}. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E543",enumerable:!1,configurable:!0})}function i(a,b){let c=Object.defineProperty(Error(`Route ${a.route} used \`searchParams\` inside "use cache". Accessing dynamic request data inside a cache scope is not supported. If you need some search params inside a cached function await \`searchParams\` outside of the cached function and pass only the required search params as arguments to the cached function. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E842",enumerable:!1,configurable:!0});throw Error.captureStackTrace(c,b),a.invalidDynamicUsageError??=c,c}function j(){let a=g.afterTaskAsyncStorage.getStore();return(null==a?void 0:a.rootTaskSpawnPhase)==="action"}},90813,(a,b,c)=>{"use strict";function d(){let a,b,c=new Promise((c,d)=>{a=c,b=d});return{resolve:a,reject:b,promise:c}}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"createPromiseWithResolvers",{enumerable:!0,get:function(){return d}})},24300,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d,e={RenderStage:function(){return i},StagedRenderingController:function(){return j}};for(var f in e)Object.defineProperty(c,f,{enumerable:!0,get:e[f]});let g=a.r(9558),h=a.r(90813);var i=((d={})[d.Before=1]="Before",d[d.Static=2]="Static",d[d.Runtime=3]="Runtime",d[d.Dynamic=4]="Dynamic",d[d.Abandoned=5]="Abandoned",d);class j{constructor(a=null,b){this.abortSignal=a,this.hasRuntimePrefetch=b,this.currentStage=1,this.staticInterruptReason=null,this.runtimeInterruptReason=null,this.staticStageEndTime=1/0,this.runtimeStageEndTime=1/0,this.runtimeStageListeners=[],this.dynamicStageListeners=[],this.runtimeStagePromise=(0,h.createPromiseWithResolvers)(),this.dynamicStagePromise=(0,h.createPromiseWithResolvers)(),this.mayAbandon=!1,a&&(a.addEventListener("abort",()=>{let{reason:b}=a;this.currentStage<3&&(this.runtimeStagePromise.promise.catch(k),this.runtimeStagePromise.reject(b)),(this.currentStage<4||5===this.currentStage)&&(this.dynamicStagePromise.promise.catch(k),this.dynamicStagePromise.reject(b))},{once:!0}),this.mayAbandon=!0)}onStage(a,b){if(this.currentStage>=a)b();else if(3===a)this.runtimeStageListeners.push(b);else if(4===a)this.dynamicStageListeners.push(b);else throw Object.defineProperty(new g.InvariantError(`Invalid render stage: ${a}`),"__NEXT_ERROR_CODE",{value:"E881",enumerable:!1,configurable:!0})}canSyncInterrupt(){if(1===this.currentStage)return!1;let a=this.hasRuntimePrefetch?4:3;return this.currentStage<a}syncInterruptCurrentStageWithReason(a){if(1!==this.currentStage){if(this.mayAbandon)return this.abandonRenderImpl();switch(this.currentStage){case 2:this.staticInterruptReason=a,this.advanceStage(4);return;case 3:this.hasRuntimePrefetch&&(this.runtimeInterruptReason=a,this.advanceStage(4));return}}}getStaticInterruptReason(){return this.staticInterruptReason}getRuntimeInterruptReason(){return this.runtimeInterruptReason}getStaticStageEndTime(){return this.staticStageEndTime}getRuntimeStageEndTime(){return this.runtimeStageEndTime}abandonRender(){if(!this.mayAbandon)throw Object.defineProperty(new g.InvariantError("`abandonRender` called on a stage controller that cannot be abandoned."),"__NEXT_ERROR_CODE",{value:"E938",enumerable:!1,configurable:!0});this.abandonRenderImpl()}abandonRenderImpl(){let{currentStage:a}=this;switch(a){case 2:this.currentStage=5,this.resolveRuntimeStage();return;case 3:this.currentStage=5;return}}advanceStage(a){if(a<=this.currentStage)return;let b=this.currentStage;if(this.currentStage=a,b<3&&a>=3&&(this.staticStageEndTime=performance.now()+performance.timeOrigin,this.resolveRuntimeStage()),b<4&&a>=4){this.runtimeStageEndTime=performance.now()+performance.timeOrigin,this.resolveDynamicStage();return}}resolveRuntimeStage(){let a=this.runtimeStageListeners;for(let b=0;b<a.length;b++)a[b]();a.length=0,this.runtimeStagePromise.resolve()}resolveDynamicStage(){let a=this.dynamicStageListeners;for(let b=0;b<a.length;b++)a[b]();a.length=0,this.dynamicStagePromise.resolve()}getStagePromise(a){switch(a){case 3:return this.runtimeStagePromise.promise;case 4:return this.dynamicStagePromise.promise;default:throw Object.defineProperty(new g.InvariantError(`Invalid render stage: ${a}`),"__NEXT_ERROR_CODE",{value:"E881",enumerable:!1,configurable:!0})}}waitForStage(a){return this.getStagePromise(a)}delayUntilStage(a,b,c){var d,e,f;let g,h=(d=this.getStagePromise(a),e=b,f=c,g=new Promise((a,b)=>{d.then(a.bind(null,f),b)}),void 0!==e&&(g.displayName=e),g);return this.abortSignal&&h.catch(k),h}}function k(){}},48294,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"cookies",{enumerable:!0,get:function(){return n}});let d=a.r(16183),e=a.r(74401),f=a.r(56704),g=a.r(32319),h=a.r(63677),i=a.r(6649),j=a.r(97140),k=a.r(31188),l=a.r(28701),m=a.r(9558);function n(){let a="cookies",b=f.workAsyncStorage.getStore(),c=g.workUnitAsyncStorage.getStore();if(b){if(c&&"after"===c.phase&&!(0,l.isRequestAPICallableInsideAfter)())throw Object.defineProperty(Error(`Route ${b.route} used \`cookies()\` inside \`after()\`. This is not supported. If you need this data inside an \`after()\` callback, use \`cookies()\` outside of the callback. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E843",enumerable:!1,configurable:!0});if(b.forceStatic)return p(d.RequestCookiesAdapter.seal(new e.RequestCookies(new Headers({}))));if(b.dynamicShouldError)throw Object.defineProperty(new i.StaticGenBailoutError(`Route ${b.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`cookies()\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E849",enumerable:!1,configurable:!0});if(c)switch(c.type){case"cache":let f=Object.defineProperty(Error(`Route ${b.route} used \`cookies()\` inside "use cache". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use \`cookies()\` outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E831",enumerable:!1,configurable:!0});throw Error.captureStackTrace(f,n),b.invalidDynamicUsageError??=f,f;case"unstable-cache":throw Object.defineProperty(Error(`Route ${b.route} used \`cookies()\` inside a function cached with \`unstable_cache()\`. Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use \`cookies()\` outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E846",enumerable:!1,configurable:!0});case"prerender":var k=b,q=c;let g=o.get(q);if(g)return g;let r=(0,j.makeHangingPromise)(q.renderSignal,k.route,"`cookies()`");return o.set(q,r),r;case"prerender-client":let s="`cookies`";throw Object.defineProperty(new m.InvariantError(`${s} must not be used within a Client Component. Next.js should be preventing ${s} from being included in Client Components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E832",enumerable:!1,configurable:!0});case"prerender-ppr":return(0,h.postponeWithTracking)(b.route,a,c.dynamicTracking);case"prerender-legacy":return(0,h.throwToInterruptStaticGeneration)(a,b,c);case"prerender-runtime":return(0,h.delayUntilRuntimeStage)(c,p(c.cookies));case"private-cache":return p(c.cookies);case"request":return(0,h.trackDynamicDataInDynamicRender)(c),p((0,d.areCookiesMutableInCurrentPhase)(c)?c.userspaceMutableCookies:c.cookies)}}(0,g.throwForMissingRequestStore)(a)}a.r(24300);let o=new WeakMap;function p(a){let b=o.get(a);if(b)return b;let c=Promise.resolve(a);return o.set(a,c),c}(0,k.createDedupedByCallsiteServerErrorLoggerDev)(function(a,b){let c=a?`Route "${a}" `:"This route ";return Object.defineProperty(Error(`${c}used ${b}. \`cookies()\` returns a Promise and must be unwrapped with \`await\` or \`React.use()\` before accessing its properties. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E830",enumerable:!1,configurable:!0})})},24391,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={HeadersAdapter:function(){return h},ReadonlyHeadersError:function(){return g}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(49944);class g extends Error{constructor(){super("Headers cannot be modified. Read more: https://nextjs.org/docs/app/api-reference/functions/headers")}static callable(){throw new g}}class h extends Headers{constructor(a){super(),this.headers=new Proxy(a,{get(b,c,d){if("symbol"==typeof c)return f.ReflectAdapter.get(b,c,d);let e=c.toLowerCase(),g=Object.keys(a).find(a=>a.toLowerCase()===e);if(void 0!==g)return f.ReflectAdapter.get(b,g,d)},set(b,c,d,e){if("symbol"==typeof c)return f.ReflectAdapter.set(b,c,d,e);let g=c.toLowerCase(),h=Object.keys(a).find(a=>a.toLowerCase()===g);return f.ReflectAdapter.set(b,h??c,d,e)},has(b,c){if("symbol"==typeof c)return f.ReflectAdapter.has(b,c);let d=c.toLowerCase(),e=Object.keys(a).find(a=>a.toLowerCase()===d);return void 0!==e&&f.ReflectAdapter.has(b,e)},deleteProperty(b,c){if("symbol"==typeof c)return f.ReflectAdapter.deleteProperty(b,c);let d=c.toLowerCase(),e=Object.keys(a).find(a=>a.toLowerCase()===d);return void 0===e||f.ReflectAdapter.deleteProperty(b,e)}})}static seal(a){return new Proxy(a,{get(a,b,c){switch(b){case"append":case"delete":case"set":return g.callable;default:return f.ReflectAdapter.get(a,b,c)}}})}merge(a){return Array.isArray(a)?a.join(", "):a}static from(a){return a instanceof Headers?a:new h(a)}append(a,b){let c=this.headers[a];"string"==typeof c?this.headers[a]=[c,b]:Array.isArray(c)?c.push(b):this.headers[a]=b}delete(a){delete this.headers[a]}get(a){let b=this.headers[a];return void 0!==b?this.merge(b):null}has(a){return void 0!==this.headers[a]}set(a,b){this.headers[a]=b}forEach(a,b){for(let[c,d]of this.entries())a.call(b,d,c,this)}*entries(){for(let a of Object.keys(this.headers)){let b=a.toLowerCase(),c=this.get(b);yield[b,c]}}*keys(){for(let a of Object.keys(this.headers)){let b=a.toLowerCase();yield b}}*values(){for(let a of Object.keys(this.headers)){let b=this.get(a);yield b}}[Symbol.iterator](){return this.entries()}}},60390,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"headers",{enumerable:!0,get:function(){return m}});let d=a.r(24391),e=a.r(56704),f=a.r(32319),g=a.r(63677),h=a.r(6649),i=a.r(97140),j=a.r(31188),k=a.r(28701),l=a.r(9558);function m(){let a="headers",b=e.workAsyncStorage.getStore(),c=f.workUnitAsyncStorage.getStore();if(b){if(c&&"after"===c.phase&&!(0,k.isRequestAPICallableInsideAfter)())throw Object.defineProperty(Error(`Route ${b.route} used \`headers()\` inside \`after()\`. This is not supported. If you need this data inside an \`after()\` callback, use \`headers()\` outside of the callback. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E839",enumerable:!1,configurable:!0});if(b.forceStatic)return o(d.HeadersAdapter.seal(new Headers({})));if(c)switch(c.type){case"cache":{let a=Object.defineProperty(Error(`Route ${b.route} used \`headers()\` inside "use cache". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use \`headers()\` outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E833",enumerable:!1,configurable:!0});throw Error.captureStackTrace(a,m),b.invalidDynamicUsageError??=a,a}case"unstable-cache":throw Object.defineProperty(Error(`Route ${b.route} used \`headers()\` inside a function cached with \`unstable_cache()\`. Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use \`headers()\` outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E838",enumerable:!1,configurable:!0})}if(b.dynamicShouldError)throw Object.defineProperty(new h.StaticGenBailoutError(`Route ${b.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`headers()\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E828",enumerable:!1,configurable:!0});if(c)switch(c.type){case"prerender":var j=b,p=c;let e=n.get(p);if(e)return e;let f=(0,i.makeHangingPromise)(p.renderSignal,j.route,"`headers()`");return n.set(p,f),f;case"prerender-client":let q="`headers`";throw Object.defineProperty(new l.InvariantError(`${q} must not be used within a client component. Next.js should be preventing ${q} from being included in client components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E693",enumerable:!1,configurable:!0});case"prerender-ppr":return(0,g.postponeWithTracking)(b.route,a,c.dynamicTracking);case"prerender-legacy":return(0,g.throwToInterruptStaticGeneration)(a,b,c);case"prerender-runtime":return(0,g.delayUntilRuntimeStage)(c,o(c.headers));case"private-cache":return o(c.headers);case"request":return(0,g.trackDynamicDataInDynamicRender)(c),o(c.headers)}}(0,f.throwForMissingRequestStore)(a)}a.r(24300);let n=new WeakMap;function o(a){let b=n.get(a);if(b)return b;let c=Promise.resolve(a);return n.set(a,c),c}(0,j.createDedupedByCallsiteServerErrorLoggerDev)(function(a,b){let c=a?`Route "${a}" `:"This route ";return Object.defineProperty(Error(`${c}used ${b}. \`headers()\` returns a Promise and must be unwrapped with \`await\` or \`React.use()\` before accessing its properties. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E836",enumerable:!1,configurable:!0})})},41274,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"draftMode",{enumerable:!0,get:function(){return k}});let d=a.r(32319),e=a.r(56704),f=a.r(63677),g=a.r(31188),h=a.r(6649),i=a.r(18341),j=a.r(9558);function k(){let a=e.workAsyncStorage.getStore(),b=d.workUnitAsyncStorage.getStore();switch((!a||!b)&&(0,d.throwForMissingRequestStore)("draftMode"),b.type){case"prerender-runtime":return(0,f.delayUntilRuntimeStage)(b,l(b.draftMode,a));case"request":return l(b.draftMode,a);case"cache":case"private-cache":case"unstable-cache":let c=(0,d.getDraftModeProviderForCacheScope)(a,b);if(c)return l(c,a);case"prerender":case"prerender-client":case"prerender-ppr":case"prerender-legacy":return l(null,a);default:return b}}function l(a,b){let c=n.get(a??m);return c||Promise.resolve(new o(a))}a.r(49944);let m={},n=new WeakMap;class o{constructor(a){this._provider=a}get isEnabled(){return null!==this._provider&&this._provider.isEnabled}enable(){p("draftMode().enable()",this.enable),null!==this._provider&&this._provider.enable()}disable(){p("draftMode().disable()",this.disable),null!==this._provider&&this._provider.disable()}}function p(a,b){let c=e.workAsyncStorage.getStore(),g=d.workUnitAsyncStorage.getStore();if(c){if((null==g?void 0:g.phase)==="after")throw Object.defineProperty(Error(`Route ${c.route} used "${a}" inside \`after()\`. The enabled status of \`draftMode()\` can be read inside \`after()\` but you cannot enable or disable \`draftMode()\`. See more info here: https://nextjs.org/docs/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E845",enumerable:!1,configurable:!0});if(c.dynamicShouldError)throw Object.defineProperty(new h.StaticGenBailoutError(`Route ${c.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${a}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E553",enumerable:!1,configurable:!0});if(g)switch(g.type){case"cache":case"private-cache":{let d=Object.defineProperty(Error(`Route ${c.route} used "${a}" inside "use cache". The enabled status of \`draftMode()\` can be read in caches but you must not enable or disable \`draftMode()\` inside a cache. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E829",enumerable:!1,configurable:!0});throw Error.captureStackTrace(d,b),c.invalidDynamicUsageError??=d,d}case"unstable-cache":throw Object.defineProperty(Error(`Route ${c.route} used "${a}" inside a function cached with \`unstable_cache()\`. The enabled status of \`draftMode()\` can be read in caches but you must not enable or disable \`draftMode()\` inside a cache. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E844",enumerable:!1,configurable:!0});case"prerender":case"prerender-runtime":{let b=Object.defineProperty(Error(`Route ${c.route} used ${a} without first calling \`await connection()\`. See more info here: https://nextjs.org/docs/messages/next-prerender-sync-headers`),"__NEXT_ERROR_CODE",{value:"E126",enumerable:!1,configurable:!0});return(0,f.abortAndThrowOnSynchronousRequestDataAccess)(c.route,a,b,g)}case"prerender-client":let d="`draftMode`";throw Object.defineProperty(new j.InvariantError(`${d} must not be used within a Client Component. Next.js should be preventing ${d} from being included in Client Components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E832",enumerable:!1,configurable:!0});case"prerender-ppr":return(0,f.postponeWithTracking)(c.route,a,g.dynamicTracking);case"prerender-legacy":g.revalidate=0;let e=Object.defineProperty(new i.DynamicServerError(`Route ${c.route} couldn't be rendered statically because it used \`${a}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E558",enumerable:!1,configurable:!0});throw c.dynamicUsageDescription=a,c.dynamicUsageStack=e.stack,e;case"request":(0,f.trackDynamicDataInDynamicRender)(g)}}}(0,g.createDedupedByCallsiteServerErrorLoggerDev)(function(a,b){let c=a?`Route "${a}" `:"This route ";return Object.defineProperty(Error(`${c}used ${b}. \`draftMode()\` returns a Promise and must be unwrapped with \`await\` or \`React.use()\` before accessing its properties. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E835",enumerable:!1,configurable:!0})})},87972,(a,b,c)=>{b.exports.cookies=a.r(48294).cookies,b.exports.headers=a.r(60390).headers,b.exports.draftMode=a.r(41274).draftMode},82241,a=>{"use strict";let b,c,d,e,f,g,h,i,j,k,l,m,n,o=import("node:async_hooks").then(a=>a.AsyncLocalStorage).catch(a=>{if("AsyncLocalStorage"in globalThis)return globalThis.AsyncLocalStorage;throw console.warn("[better-auth] Warning: AsyncLocalStorage is not available in this environment. Some features may not work as expected."),console.warn("[better-auth] Please read more about this warning at https://better-auth.com/docs/installation#mount-handler"),console.warn("[better-auth] If you are using Cloudflare Workers, please see: https://developers.cloudflare.com/workers/configuration/compatibility-flags/#nodejs-compatibility-flag"),a});async function p(){let a=await o;if(null!==a)return a;throw Error("getAsyncLocalStorage is only available in server code")}let q=null,r=async()=>(q||(q=new(await p())),q);async function s(){let a=(await r()).getStore();if(!a)throw Error("No auth context found. Please make sure you are calling this function within a `runWithEndpointContext` callback.");return a}async function t(a,b){return(await r()).run(a,b)}let u=null,v=async()=>(u||(u=new(await p())),u);async function w(){return void 0!==(await v()).getStore()}async function x(){let a=(await v()).getStore();if(!a)throw Error("No request state found. Please make sure you are calling this function within a `runWithRequestState` callback.");return a}async function y(a,b){return(await v()).run(a,b)}let z=null,A=async()=>(z||(z=new(await p())),z),B=async a=>A().then(b=>b.getStore()||a).catch(()=>a),C=async(a,b)=>A().then(c=>c.run(a,b)).catch(a=>{throw a}),D=async(a,b)=>A().then(c=>a.transaction(async a=>c.run(a,b))).catch(a=>{throw a}),{get:E,set:F}=(K=()=>null,g=Object.freeze({}),{get ref(){return g},async get(){let a=await x();if(!a.has(g)){let b=await K();return a.set(g,b),b}return a.get(g)},async set(a){(await x()).set(g,a)}});var G,H,I,J,K,L,M,N=a.i(60573);let O=(0,N.createRandomStringGenerator)("a-z","0-9","A-Z","-_");function P(a,b=""){if(!Number.isSafeInteger(a)||a<0){let c=b&&`"${b}" `;throw Error(`${c}expected integer >= 0, got ${a}`)}}function Q(a,b,c=""){let d=a instanceof Uint8Array||ArrayBuffer.isView(a)&&"Uint8Array"===a.constructor.name,e=a?.length,f=void 0!==b;if(!d||f&&e!==b)throw Error((c&&`"${c}" `)+"expected Uint8Array"+(f?` of length ${b}`:"")+", got "+(d?`length=${e}`:`type=${typeof a}`));return a}function R(a){if("function"!=typeof a||"function"!=typeof a.create)throw Error("Hash must wrapped by utils.createHasher");P(a.outputLen),P(a.blockLen)}function S(a,b=!0){if(a.destroyed)throw Error("Hash instance has been destroyed");if(b&&a.finished)throw Error("Hash#digest() has already been called")}function T(a){return new Uint32Array(a.buffer,a.byteOffset,Math.floor(a.byteLength/4))}function U(...a){for(let b=0;b<a.length;b++)a[b].fill(0)}function V(a){return new DataView(a.buffer,a.byteOffset,a.byteLength)}function W(a,b){return a<<32-b|a>>>b}function X(a,b){return a<<b|a>>>32-b>>>0}let Y=68===new Uint8Array(new Uint32Array([0x11223344]).buffer)[0]?a=>a:function(a){for(let c=0;c<a.length;c++){var b;a[c]=(b=a[c])<<24&0xff000000|b<<8&0xff0000|b>>>8&65280|b>>>24&255}return a},Z="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex;function $(a){return a>=48&&a<=57?a-48:a>=65&&a<=70?a-55:a>=97&&a<=102?a-87:void 0}let _=async()=>{};async function aa(a,b,c){let d=Date.now();for(let e=0;e<a;e++){c(e);let a=Date.now()-d;a>=0&&a<b||(await _(),d+=a)}}function ab(a,b=""){if("string"==typeof a){if("string"!=typeof a)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(a))}return Q(a,void 0,b)}function ac(a,b){if(void 0!==b&&"[object Object]"!==({}).toString.call(b))throw Error("options must be object or undefined");return Object.assign(a,b)}class ad{oHash;iHash;blockLen;outputLen;finished=!1;destroyed=!1;constructor(a,b){if(R(a),Q(b,void 0,"key"),this.iHash=a.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const c=this.blockLen,d=new Uint8Array(c);d.set(b.length>c?a.create().update(b).digest():b);for(let a=0;a<d.length;a++)d[a]^=54;this.iHash.update(d),this.oHash=a.create();for(let a=0;a<d.length;a++)d[a]^=106;this.oHash.update(d),U(d)}update(a){return S(this),this.iHash.update(a),this}digestInto(a){S(this),Q(a,this.outputLen,"output"),this.finished=!0,this.iHash.digestInto(a),this.oHash.update(a),this.oHash.digestInto(a),this.destroy()}digest(){let a=new Uint8Array(this.oHash.outputLen);return this.digestInto(a),a}_cloneInto(a){a||=Object.create(Object.getPrototypeOf(this),{});let{oHash:b,iHash:c,finished:d,destroyed:e,blockLen:f,outputLen:g}=this;return a.finished=d,a.destroyed=e,a.blockLen=f,a.outputLen=g,a.oHash=b._cloneInto(a.oHash),a.iHash=c._cloneInto(a.iHash),a}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let ae=(a,b,c)=>new ad(a,b).update(c).digest();ae.create=(a,b)=>new ad(a,b);let af=Uint8Array.of(0),ag=Uint8Array.of(),ah=(a,b,c,d,e)=>{var f;return function(a,b,c,d=32){R(a),P(d,"length");let e=a.outputLen;if(d>255*e)throw Error("Length must be <= 255*HashLen");let f=Math.ceil(d/e);void 0===c?c=ag:Q(c,void 0,"info");let g=new Uint8Array(f*e),h=ae.create(a,b),i=h._cloneInto(),j=new Uint8Array(h.outputLen);for(let a=0;a<f;a++)af[0]=a+1,i.update(0===a?ag:j).update(c).update(af).digestInto(j),g.set(j,e*a),h._cloneInto(i);return h.destroy(),i.destroy(),U(j,af),g.slice(0,d)}(a,(f=c,R(a),void 0===f&&(f=new Uint8Array(a.outputLen)),ae(a,f,b)),d,e)};class ai{blockLen;outputLen;padOffset;isLE;buffer;view;finished=!1;length=0;pos=0;destroyed=!1;constructor(a,b,c,d){this.blockLen=a,this.outputLen=b,this.padOffset=c,this.isLE=d,this.buffer=new Uint8Array(a),this.view=V(this.buffer)}update(a){S(this),Q(a);let{view:b,buffer:c,blockLen:d}=this,e=a.length;for(let f=0;f<e;){let g=Math.min(d-this.pos,e-f);if(g===d){let b=V(a);for(;d<=e-f;f+=d)this.process(b,f);continue}c.set(a.subarray(f,f+g),this.pos),this.pos+=g,f+=g,this.pos===d&&(this.process(b,0),this.pos=0)}return this.length+=a.length,this.roundClean(),this}digestInto(a){S(this);Q(a,void 0,"digestInto() output");let b=this.outputLen;if(a.length<b)throw Error('"digestInto() output" expected to be of length >='+b);this.finished=!0;let{buffer:c,view:d,blockLen:e,isLE:f}=this,{pos:g}=this;c[g++]=128,U(this.buffer.subarray(g)),this.padOffset>e-g&&(this.process(d,0),g=0);for(let a=g;a<e;a++)c[a]=0;d.setBigUint64(e-8,BigInt(8*this.length),f),this.process(d,0);let h=V(a),i=this.outputLen;if(i%4)throw Error("_sha2: outputLen must be aligned to 32bit");let j=i/4,k=this.get();if(j>k.length)throw Error("_sha2: outputLen bigger than state");for(let a=0;a<j;a++)h.setUint32(4*a,k[a],f)}digest(){let{buffer:a,outputLen:b}=this;this.digestInto(a);let c=a.slice(0,b);return this.destroy(),c}_cloneInto(a){(a||=new this.constructor).set(...this.get());let{blockLen:b,buffer:c,length:d,finished:e,destroyed:f,pos:g}=this;return a.destroyed=f,a.finished=e,a.length=d,a.pos=g,d%b&&a.buffer.set(c),a}clone(){return this._cloneInto()}}let aj=Uint32Array.from([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]),ak=Uint32Array.from([0xc1059ed8,0x367cd507,0x3070dd17,0xf70e5939,0xffc00b31,0x68581511,0x64f98fa7,0xbefa4fa4]),al=Uint32Array.from([0xcbbb9d5d,0xc1059ed8,0x629a292a,0x367cd507,0x9159015a,0x3070dd17,0x152fecd8,0xf70e5939,0x67332667,0xffc00b31,0x8eb44a87,0x68581511,0xdb0c2e0d,0x64f98fa7,0x47b5481d,0xbefa4fa4]),am=Uint32Array.from([0x6a09e667,0xf3bcc908,0xbb67ae85,0x84caa73b,0x3c6ef372,0xfe94f82b,0xa54ff53a,0x5f1d36f1,0x510e527f,0xade682d1,0x9b05688c,0x2b3e6c1f,0x1f83d9ab,0xfb41bd6b,0x5be0cd19,0x137e2179]),an=BigInt(0x100000000-1),ao=BigInt(32),ap=Uint32Array.from([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),aq=new Uint32Array(64);class ar extends ai{constructor(a){super(64,a,8,!1)}get(){let{A:a,B:b,C:c,D:d,E:e,F:f,G:g,H:h}=this;return[a,b,c,d,e,f,g,h]}set(a,b,c,d,e,f,g,h){this.A=0|a,this.B=0|b,this.C=0|c,this.D=0|d,this.E=0|e,this.F=0|f,this.G=0|g,this.H=0|h}process(a,b){for(let c=0;c<16;c++,b+=4)aq[c]=a.getUint32(b,!1);for(let a=16;a<64;a++){let b=aq[a-15],c=aq[a-2],d=W(b,7)^W(b,18)^b>>>3,e=W(c,17)^W(c,19)^c>>>10;aq[a]=e+aq[a-7]+d+aq[a-16]|0}let{A:c,B:d,C:e,D:f,E:g,F:h,G:i,H:j}=this;for(let a=0;a<64;a++){var k,l,m,n;let b=j+(W(g,6)^W(g,11)^W(g,25))+((k=g)&h^~k&i)+ap[a]+aq[a]|0,o=(W(c,2)^W(c,13)^W(c,22))+((l=c)&(m=d)^l&(n=e)^m&n)|0;j=i,i=h,h=g,g=f+b|0,f=e,e=d,d=c,c=b+o|0}c=c+this.A|0,d=d+this.B|0,e=e+this.C|0,f=f+this.D|0,g=g+this.E|0,h=h+this.F|0,i=i+this.G|0,j=j+this.H|0,this.set(c,d,e,f,g,h,i,j)}roundClean(){U(aq)}destroy(){this.set(0,0,0,0,0,0,0,0),U(this.buffer)}}class as extends ar{A=0|aj[0];B=0|aj[1];C=0|aj[2];D=0|aj[3];E=0|aj[4];F=0|aj[5];G=0|aj[6];H=0|aj[7];constructor(){super(32)}}let at=function(a,b=!1){let c=a.length,d=new Uint32Array(c),e=new Uint32Array(c);for(let f=0;f<c;f++){let{h:c,l:g}=function(a,b=!1){return b?{h:Number(a&an),l:Number(a>>ao&an)}:{h:0|Number(a>>ao&an),l:0|Number(a&an)}}(a[f],b);[d[f],e[f]]=[c,g]}return[d,e]}(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(a=>BigInt(a))),au=at[0],av=at[1],aw=new Uint32Array(80),ax=new Uint32Array(80);let ay=function(a,b={}){let c=(b,c)=>a(c).update(b).digest(),d=a(void 0);return c.outputLen=d.outputLen,c.blockLen=d.blockLen,c.create=b=>a(b),Object.assign(c,b),Object.freeze(c)}(()=>new as,{oid:Uint8Array.from([6,9,96,134,72,1,101,3,4,2,1])}),az=new TextEncoder,aA=new TextDecoder;function aB(...a){let b=new Uint8Array(a.reduce((a,{length:b})=>a+b,0)),c=0;for(let d of a)b.set(d,c),c+=d.length;return b}function aC(a,b,c){if(b<0||b>=0x100000000)throw RangeError(`value must be >= 0 and <= ${0x100000000-1}. Received ${b}`);a.set([b>>>24,b>>>16,b>>>8,255&b],c)}function aD(a){let b=Math.floor(a/0x100000000),c=new Uint8Array(8);return aC(c,b,0),aC(c,a%0x100000000,4),c}function aE(a){let b=new Uint8Array(4);return aC(b,a),b}function aF(a){let b=new Uint8Array(a.length);for(let c=0;c<a.length;c++){let d=a.charCodeAt(c);if(d>127)throw TypeError("non-ASCII string encountered in encode()");b[c]=d}return b}function aG(a){if(Uint8Array.fromBase64)return Uint8Array.fromBase64("string"==typeof a?a:aA.decode(a),{alphabet:"base64url"});let b=a;b instanceof Uint8Array&&(b=aA.decode(b)),b=b.replace(/-/g,"+").replace(/_/g,"/");try{var c=b;if(Uint8Array.fromBase64)return Uint8Array.fromBase64(c);let a=atob(c),d=new Uint8Array(a.length);for(let b=0;b<a.length;b++)d[b]=a.charCodeAt(b);return d}catch{throw TypeError("The input to be decoded is not correctly encoded.")}}function aH(a){let b=a;return("string"==typeof b&&(b=az.encode(b)),Uint8Array.prototype.toBase64)?b.toBase64({alphabet:"base64url",omitPadding:!0}):(function(a){if(Uint8Array.prototype.toBase64)return a.toBase64();let b=[];for(let c=0;c<a.length;c+=32768)b.push(String.fromCharCode.apply(null,a.subarray(c,c+32768)));return btoa(b.join(""))})(b).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}a.s(["decode",()=>aG,"encode",()=>aH],76340);let aI=Symbol();class aJ extends Error{static code="ERR_JOSE_GENERIC";code="ERR_JOSE_GENERIC";constructor(a,b){super(a,b),this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}class aK extends aJ{static code="ERR_JWT_CLAIM_VALIDATION_FAILED";code="ERR_JWT_CLAIM_VALIDATION_FAILED";claim;reason;payload;constructor(a,b,c="unspecified",d="unspecified"){super(a,{cause:{claim:c,reason:d,payload:b}}),this.claim=c,this.reason=d,this.payload=b}}class aL extends aJ{static code="ERR_JWT_EXPIRED";code="ERR_JWT_EXPIRED";claim;reason;payload;constructor(a,b,c="unspecified",d="unspecified"){super(a,{cause:{claim:c,reason:d,payload:b}}),this.claim=c,this.reason=d,this.payload=b}}class aM extends aJ{static code="ERR_JOSE_ALG_NOT_ALLOWED";code="ERR_JOSE_ALG_NOT_ALLOWED"}class aN extends aJ{static code="ERR_JOSE_NOT_SUPPORTED";code="ERR_JOSE_NOT_SUPPORTED"}class aO extends aJ{static code="ERR_JWE_DECRYPTION_FAILED";code="ERR_JWE_DECRYPTION_FAILED";constructor(a="decryption operation failed",b){super(a,b)}}class aP extends aJ{static code="ERR_JWE_INVALID";code="ERR_JWE_INVALID"}class aQ extends aJ{static code="ERR_JWS_INVALID";code="ERR_JWS_INVALID"}class aR extends aJ{static code="ERR_JWT_INVALID";code="ERR_JWT_INVALID"}class aS extends aJ{static code="ERR_JWK_INVALID";code="ERR_JWK_INVALID"}class aT extends aJ{static code="ERR_JWKS_INVALID";code="ERR_JWKS_INVALID"}class aU extends aJ{static code="ERR_JWKS_NO_MATCHING_KEY";code="ERR_JWKS_NO_MATCHING_KEY";constructor(a="no applicable key found in the JSON Web Key Set",b){super(a,b)}}class aV extends aJ{[Symbol.asyncIterator];static code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";constructor(a="multiple matching keys found in the JSON Web Key Set",b){super(a,b)}}class aW extends aJ{static code="ERR_JWKS_TIMEOUT";code="ERR_JWKS_TIMEOUT";constructor(a="request timed out",b){super(a,b)}}class aX extends aJ{static code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";constructor(a="signature verification failed",b){super(a,b)}}function aY(a){switch(a){case"A128GCM":case"A128GCMKW":case"A192GCM":case"A192GCMKW":case"A256GCM":case"A256GCMKW":return 96;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return 128;default:throw new aN(`Unsupported JWE Algorithm: ${a}`)}}function aZ(a,b){if(b.length<<3!==aY(a))throw new aP("Invalid Initialization Vector length")}function a$(a,b){let c=a.byteLength<<3;if(c!==b)throw new aP(`Invalid Content Encryption Key length. Expected ${b} bits, got ${c} bits`)}let a_=(a,b="algorithm.name")=>TypeError(`CryptoKey does not support this operation, its ${b} must be ${a}`);function a0(a){return parseInt(a.name.slice(4),10)}function a1(a,b){if(b&&!a.usages.includes(b))throw TypeError(`CryptoKey does not support this operation, its usages must include ${b}.`)}function a2(a,b,c){switch(b){case"A128GCM":case"A192GCM":case"A256GCM":{if("AES-GCM"!==a.algorithm.name)throw a_("AES-GCM");let c=parseInt(b.slice(1,4),10);if(a.algorithm.length!==c)throw a_(c,"algorithm.length");break}case"A128KW":case"A192KW":case"A256KW":{if("AES-KW"!==a.algorithm.name)throw a_("AES-KW");let c=parseInt(b.slice(1,4),10);if(a.algorithm.length!==c)throw a_(c,"algorithm.length");break}case"ECDH":switch(a.algorithm.name){case"ECDH":case"X25519":break;default:throw a_("ECDH or X25519")}break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":if("PBKDF2"!==a.algorithm.name)throw a_("PBKDF2");break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if("RSA-OAEP"!==a.algorithm.name)throw a_("RSA-OAEP");let c=parseInt(b.slice(9),10)||1;if(a0(a.algorithm.hash)!==c)throw a_(`SHA-${c}`,"algorithm.hash");break}default:throw TypeError("CryptoKey does not support this operation")}a1(a,c)}function a3(a,b,...c){if((c=c.filter(Boolean)).length>2){let b=c.pop();a+=`one of type ${c.join(", ")}, or ${b}.`}else 2===c.length?a+=`one of type ${c[0]} or ${c[1]}.`:a+=`of type ${c[0]}.`;return null==b?a+=` Received ${b}`:"function"==typeof b&&b.name?a+=` Received function ${b.name}`:"object"==typeof b&&null!=b&&b.constructor?.name&&(a+=` Received an instance of ${b.constructor.name}`),a}let a4=(a,...b)=>a3("Key must be ",a,...b),a5=(a,b,...c)=>a3(`Key for the ${a} algorithm must be `,b,...c);function a6(a){if(!a7(a))throw Error("CryptoKey instance expected")}let a7=a=>{if(a?.[Symbol.toStringTag]==="CryptoKey")return!0;try{return a instanceof CryptoKey}catch{return!1}},a8=a=>a?.[Symbol.toStringTag]==="KeyObject",a9=a=>a7(a)||a8(a);async function ba(a,b,c,d,e){if(!(c instanceof Uint8Array))throw TypeError(a4(c,"Uint8Array"));let f=parseInt(a.slice(1,4),10),g=await crypto.subtle.importKey("raw",c.subarray(f>>3),"AES-CBC",!1,["encrypt"]),h=await crypto.subtle.importKey("raw",c.subarray(0,f>>3),{hash:`SHA-${f<<1}`,name:"HMAC"},!1,["sign"]),i=new Uint8Array(await crypto.subtle.encrypt({iv:d,name:"AES-CBC"},g,b)),j=aB(e,d,i,aD(e.length<<3));return{ciphertext:i,tag:new Uint8Array((await crypto.subtle.sign("HMAC",h,j)).slice(0,f>>3)),iv:d}}async function bb(a,b,c,d,e){let f;c instanceof Uint8Array?f=await crypto.subtle.importKey("raw",c,"AES-GCM",!1,["encrypt"]):(a2(c,a,"encrypt"),f=c);let g=new Uint8Array(await crypto.subtle.encrypt({additionalData:e,iv:d,name:"AES-GCM",tagLength:128},f,b)),h=g.slice(-16);return{ciphertext:g.slice(0,-16),tag:h,iv:d}}async function bc(a,b,c,d,e){if(!a7(c)&&!(c instanceof Uint8Array))throw TypeError(a4(c,"CryptoKey","KeyObject","Uint8Array","JSON Web Key"));if(d)aZ(a,d);else d=crypto.getRandomValues(new Uint8Array(aY(a)>>3));switch(a){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return c instanceof Uint8Array&&a$(c,parseInt(a.slice(-3),10)),ba(a,b,c,d,e);case"A128GCM":case"A192GCM":case"A256GCM":return c instanceof Uint8Array&&a$(c,parseInt(a.slice(1,4),10)),bb(a,b,c,d,e);default:throw new aN("Unsupported JWE Content Encryption Algorithm")}}function bd(a,b){if(a.algorithm.length!==parseInt(b.slice(1,4),10))throw TypeError(`Invalid key size for alg: ${b}`)}function be(a,b,c){return a instanceof Uint8Array?crypto.subtle.importKey("raw",a,"AES-KW",!0,[c]):(a2(a,b,c),a)}async function bf(a,b,c){let d=await be(b,a,"wrapKey");bd(d,a);let e=await crypto.subtle.importKey("raw",c,{hash:"SHA-256",name:"HMAC"},!0,["sign"]);return new Uint8Array(await crypto.subtle.wrapKey("raw",e,d,"AES-KW"))}async function bg(a,b,c){let d=await be(b,a,"unwrapKey");bd(d,a);let e=await crypto.subtle.unwrapKey("raw",c,d,"AES-KW",{hash:"SHA-256",name:"HMAC"},!0,["sign"]);return new Uint8Array(await crypto.subtle.exportKey("raw",e))}async function bh(a,b){let c=`SHA-${a.slice(-3)}`;return new Uint8Array(await crypto.subtle.digest(c,b))}function bi(a){return aB(aE(a.length),a)}async function bj(a,b,c){let d=b>>3,e=Math.ceil(d/32),f=new Uint8Array(32*e);for(let b=1;b<=e;b++){let d=new Uint8Array(4+a.length+c.length);d.set(aE(b),0),d.set(a,4),d.set(c,4+a.length);let e=await bh("sha256",d);f.set(e,(b-1)*32)}return f.slice(0,d)}async function bk(a,b,c,d,e=new Uint8Array,f=new Uint8Array){var g;a2(a,"ECDH"),a2(b,"ECDH","deriveBits");let h=aB(bi(aF(c)),bi(e),bi(f),aE(d),new Uint8Array);return bj(new Uint8Array(await crypto.subtle.deriveBits({name:a.algorithm.name,public:a},b,"X25519"===(g=a).algorithm.name?256:Math.ceil(parseInt(g.algorithm.namedCurve.slice(-3),10)/8)<<3)),d,h)}function bl(a){switch(a.algorithm.namedCurve){case"P-256":case"P-384":case"P-521":return!0;default:return"X25519"===a.algorithm.name}}async function bm(a,b,c,d){if(!(a instanceof Uint8Array)||a.length<8)throw new aP("PBES2 Salt Input must be 8 or more octets");let e=aB(aF(b),Uint8Array.of(0),a),f=parseInt(b.slice(13,16),10),g={hash:`SHA-${b.slice(8,11)}`,iterations:c,name:"PBKDF2",salt:e},h=await (d instanceof Uint8Array?crypto.subtle.importKey("raw",d,"PBKDF2",!1,["deriveBits"]):(a2(d,b,"deriveBits"),d));return new Uint8Array(await crypto.subtle.deriveBits(g,h,f))}async function bn(a,b,c,d=2048,e=crypto.getRandomValues(new Uint8Array(16))){let f=await bm(e,a,d,b);return{encryptedKey:await bf(a.slice(-6),f,c),p2c:d,p2s:aH(e)}}async function bo(a,b,c,d,e){let f=await bm(e,a,d,b);return bg(a.slice(-6),f,c)}function bp(a,b){if(a.startsWith("RS")||a.startsWith("PS")){let{modulusLength:c}=b.algorithm;if("number"!=typeof c||c<2048)throw TypeError(`${a} requires key modulusLength to be 2048 bits or larger`)}}let bq=a=>{switch(a){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return"RSA-OAEP";default:throw new aN(`alg ${a} is not supported either by JOSE or your javascript runtime`)}};async function br(a,b,c){return a2(b,a,"encrypt"),bp(a,b),new Uint8Array(await crypto.subtle.encrypt(bq(a),b,c))}async function bs(a,b,c){return a2(b,a,"decrypt"),bp(a,b),new Uint8Array(await crypto.subtle.decrypt(bq(a),b,c))}function bt(a){if("object"!=typeof a||null===a||"[object Object]"!==Object.prototype.toString.call(a))return!1;if(null===Object.getPrototypeOf(a))return!0;let b=a;for(;null!==Object.getPrototypeOf(b);)b=Object.getPrototypeOf(b);return Object.getPrototypeOf(a)===b}let bu=a=>bt(a)&&"string"==typeof a.kty;async function bv(a){if(!a.alg)throw TypeError('"alg" argument is required when "jwk.alg" is not present');let{algorithm:b,keyUsages:c}=function(a){let b,c;switch(a.kty){case"AKP":switch(a.alg){case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":b={name:a.alg},c=a.priv?["sign"]:["verify"];break;default:throw new aN('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"RSA":switch(a.alg){case"PS256":case"PS384":case"PS512":b={name:"RSA-PSS",hash:`SHA-${a.alg.slice(-3)}`},c=a.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":b={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${a.alg.slice(-3)}`},c=a.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":b={name:"RSA-OAEP",hash:`SHA-${parseInt(a.alg.slice(-3),10)||1}`},c=a.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new aN('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"EC":switch(a.alg){case"ES256":b={name:"ECDSA",namedCurve:"P-256"},c=a.d?["sign"]:["verify"];break;case"ES384":b={name:"ECDSA",namedCurve:"P-384"},c=a.d?["sign"]:["verify"];break;case"ES512":b={name:"ECDSA",namedCurve:"P-521"},c=a.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":b={name:"ECDH",namedCurve:a.crv},c=a.d?["deriveBits"]:[];break;default:throw new aN('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"OKP":switch(a.alg){case"Ed25519":case"EdDSA":b={name:"Ed25519"},c=a.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":b={name:a.crv},c=a.d?["deriveBits"]:[];break;default:throw new aN('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;default:throw new aN('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:b,keyUsages:c}}(a),d={...a};return"AKP"!==d.kty&&delete d.alg,delete d.use,crypto.subtle.importKey("jwk",d,b,a.ext??(!a.d&&!a.priv),a.key_ops??c)}let bw=async(a,c,d,e=!1)=>{let f=(b||=new WeakMap).get(a);if(f?.[d])return f[d];let g=await bv({...c,alg:d});return e&&Object.freeze(a),f?f[d]=g:b.set(a,{[d]:g}),g};async function bx(a,c){if(a instanceof Uint8Array||a7(a))return a;if(a8(a)){if("secret"===a.type)return a.export();if("toCryptoKey"in a&&"function"==typeof a.toCryptoKey)try{return((a,c)=>{let d,e=(b||=new WeakMap).get(a);if(e?.[c])return e[c];let f="public"===a.type,g=!!f;if("x25519"===a.asymmetricKeyType){switch(c){case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":break;default:throw TypeError("given KeyObject instance cannot be used for this algorithm")}d=a.toCryptoKey(a.asymmetricKeyType,g,f?[]:["deriveBits"])}if("ed25519"===a.asymmetricKeyType){if("EdDSA"!==c&&"Ed25519"!==c)throw TypeError("given KeyObject instance cannot be used for this algorithm");d=a.toCryptoKey(a.asymmetricKeyType,g,[f?"verify":"sign"])}switch(a.asymmetricKeyType){case"ml-dsa-44":case"ml-dsa-65":case"ml-dsa-87":if(c!==a.asymmetricKeyType.toUpperCase())throw TypeError("given KeyObject instance cannot be used for this algorithm");d=a.toCryptoKey(a.asymmetricKeyType,g,[f?"verify":"sign"])}if("rsa"===a.asymmetricKeyType){let b;switch(c){case"RSA-OAEP":b="SHA-1";break;case"RS256":case"PS256":case"RSA-OAEP-256":b="SHA-256";break;case"RS384":case"PS384":case"RSA-OAEP-384":b="SHA-384";break;case"RS512":case"PS512":case"RSA-OAEP-512":b="SHA-512";break;default:throw TypeError("given KeyObject instance cannot be used for this algorithm")}if(c.startsWith("RSA-OAEP"))return a.toCryptoKey({name:"RSA-OAEP",hash:b},g,f?["encrypt"]:["decrypt"]);d=a.toCryptoKey({name:c.startsWith("PS")?"RSA-PSS":"RSASSA-PKCS1-v1_5",hash:b},g,[f?"verify":"sign"])}if("ec"===a.asymmetricKeyType){let b=new Map([["prime256v1","P-256"],["secp384r1","P-384"],["secp521r1","P-521"]]).get(a.asymmetricKeyDetails?.namedCurve);if(!b)throw TypeError("given KeyObject instance cannot be used for this algorithm");"ES256"===c&&"P-256"===b&&(d=a.toCryptoKey({name:"ECDSA",namedCurve:b},g,[f?"verify":"sign"])),"ES384"===c&&"P-384"===b&&(d=a.toCryptoKey({name:"ECDSA",namedCurve:b},g,[f?"verify":"sign"])),"ES512"===c&&"P-521"===b&&(d=a.toCryptoKey({name:"ECDSA",namedCurve:b},g,[f?"verify":"sign"])),c.startsWith("ECDH-ES")&&(d=a.toCryptoKey({name:"ECDH",namedCurve:b},g,f?[]:["deriveBits"]))}if(!d)throw TypeError("given KeyObject instance cannot be used for this algorithm");return e?e[c]=d:b.set(a,{[c]:d}),d})(a,c)}catch(a){if(a instanceof TypeError)throw a}let d=a.export({format:"jwk"});return bw(a,d,c)}if(bu(a))return a.k?aG(a.k):bw(a,a,c,!0);throw Error("unreachable")}function by(a){switch(a){case"A128GCM":return 128;case"A192GCM":return 192;case"A256GCM":case"A128CBC-HS256":return 256;case"A192CBC-HS384":return 384;case"A256CBC-HS512":return 512;default:throw new aN(`Unsupported JWE Algorithm: ${a}`)}}let bz=a=>crypto.getRandomValues(new Uint8Array(by(a)>>3));async function bA(a){if(a8(a))if("secret"!==a.type)return a.export({format:"jwk"});else a=a.export();if(a instanceof Uint8Array)return{kty:"oct",k:aH(a)};if(!a7(a))throw TypeError(a4(a,"CryptoKey","KeyObject","Uint8Array"));if(!a.extractable)throw TypeError("non-extractable CryptoKey cannot be exported as a JWK");let{ext:b,key_ops:c,alg:d,use:e,...f}=await crypto.subtle.exportKey("jwk",a);return"AKP"===f.kty&&(f.alg=d),f}async function bB(a){return bA(a)}async function bC(a,b){if(!(a instanceof Uint8Array))throw TypeError("First argument must be a buffer");if(!(b instanceof Uint8Array))throw TypeError("Second argument must be a buffer");let c={name:"HMAC",hash:"SHA-256"},d=await crypto.subtle.generateKey(c,!1,["sign"]),e=new Uint8Array(await crypto.subtle.sign(c,d,a)),f=new Uint8Array(await crypto.subtle.sign(c,d,b)),g=0,h=-1;for(;++h<32;)g|=e[h]^f[h];return 0===g}async function bD(a,b,c,d,e,f){let g,h;if(!(b instanceof Uint8Array))throw TypeError(a4(b,"Uint8Array"));let i=parseInt(a.slice(1,4),10),j=await crypto.subtle.importKey("raw",b.subarray(i>>3),"AES-CBC",!1,["decrypt"]),k=await crypto.subtle.importKey("raw",b.subarray(0,i>>3),{hash:`SHA-${i<<1}`,name:"HMAC"},!1,["sign"]),l=aB(f,d,c,aD(f.length<<3)),m=new Uint8Array((await crypto.subtle.sign("HMAC",k,l)).slice(0,i>>3));try{g=await bC(e,m)}catch{}if(!g)throw new aO;try{h=new Uint8Array(await crypto.subtle.decrypt({iv:d,name:"AES-CBC"},j,c))}catch{}if(!h)throw new aO;return h}async function bE(a,b,c,d,e,f){let g;b instanceof Uint8Array?g=await crypto.subtle.importKey("raw",b,"AES-GCM",!1,["decrypt"]):(a2(b,a,"decrypt"),g=b);try{return new Uint8Array(await crypto.subtle.decrypt({additionalData:f,iv:d,name:"AES-GCM",tagLength:128},g,aB(c,e)))}catch{throw new aO}}async function bF(a,b,c,d,e,f){if(!a7(b)&&!(b instanceof Uint8Array))throw TypeError(a4(b,"CryptoKey","KeyObject","Uint8Array","JSON Web Key"));if(!d)throw new aP("JWE Initialization Vector missing");if(!e)throw new aP("JWE Authentication Tag missing");switch(aZ(a,d),a){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return b instanceof Uint8Array&&a$(b,parseInt(a.slice(-3),10)),bD(a,b,c,d,e,f);case"A128GCM":case"A192GCM":case"A256GCM":return b instanceof Uint8Array&&a$(b,parseInt(a.slice(1,4),10)),bE(a,b,c,d,e,f);default:throw new aN("Unsupported JWE Content Encryption Algorithm")}}async function bG(a,b,c,d){let e=a.slice(0,7),f=await bc(e,c,b,d,new Uint8Array);return{encryptedKey:f.ciphertext,iv:aH(f.iv),tag:aH(f.tag)}}async function bH(a,b,c,d,e){return bF(a.slice(0,7),b,c,d,e,new Uint8Array)}async function bI(a,b,c,d,e={}){let f,g,h;switch(a){case"dir":h=c;break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{let i;if(a6(c),!bl(c))throw new aN("ECDH with the provided key is not allowed or not supported by your javascript runtime");let{apu:j,apv:k}=e;i=e.epk?await bx(e.epk,a):(await crypto.subtle.generateKey(c.algorithm,!0,["deriveBits"])).privateKey;let{x:l,y:m,crv:n,kty:o}=await bB(i),p=await bk(c,i,"ECDH-ES"===a?b:a,"ECDH-ES"===a?by(b):parseInt(a.slice(-5,-2),10),j,k);if(g={epk:{x:l,crv:n,kty:o}},"EC"===o&&(g.epk.y=m),j&&(g.apu=aH(j)),k&&(g.apv=aH(k)),"ECDH-ES"===a){h=p;break}h=d||bz(b);let q=a.slice(-6);f=await bf(q,p,h);break}case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":h=d||bz(b),a6(c),f=await br(a,c,h);break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{h=d||bz(b);let{p2c:i,p2s:j}=e;({encryptedKey:f,...g}=await bn(a,c,h,i,j));break}case"A128KW":case"A192KW":case"A256KW":h=d||bz(b),f=await bf(a,c,h);break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{h=d||bz(b);let{iv:i}=e;({encryptedKey:f,...g}=await bG(a,c,h,i));break}default:throw new aN('Invalid or unsupported "alg" (JWE Algorithm) header value')}return{cek:h,encryptedKey:f,parameters:g}}function bJ(...a){let b,c=a.filter(Boolean);if(0===c.length||1===c.length)return!0;for(let a of c){let c=Object.keys(a);if(!b||0===b.size){b=new Set(c);continue}for(let a of c){if(b.has(a))return!1;b.add(a)}}return!0}function bK(a,b,c,d,e){let f;if(void 0!==e.crit&&d?.crit===void 0)throw new a('"crit" (Critical) Header Parameter MUST be integrity protected');if(!d||void 0===d.crit)return new Set;if(!Array.isArray(d.crit)||0===d.crit.length||d.crit.some(a=>"string"!=typeof a||0===a.length))throw new a('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');for(let g of(f=void 0!==c?new Map([...Object.entries(c),...b.entries()]):b,d.crit)){if(!f.has(g))throw new aN(`Extension Header Parameter "${g}" is not recognized`);if(void 0===e[g])throw new a(`Extension Header Parameter "${g}" is missing`);if(f.get(g)&&void 0===d[g])throw new a(`Extension Header Parameter "${g}" MUST be integrity protected`)}return new Set(d.crit)}let bL=a=>a?.[Symbol.toStringTag],bM=(a,b,c)=>{if(void 0!==b.use){let a;switch(c){case"sign":case"verify":a="sig";break;case"encrypt":case"decrypt":a="enc"}if(b.use!==a)throw TypeError(`Invalid key for this operation, its "use" must be "${a}" when present`)}if(void 0!==b.alg&&b.alg!==a)throw TypeError(`Invalid key for this operation, its "alg" must be "${a}" when present`);if(Array.isArray(b.key_ops)){let d;switch(!0){case"sign"===c||"verify"===c:case"dir"===a:case a.includes("CBC-HS"):d=c;break;case a.startsWith("PBES2"):d="deriveBits";break;case/^A\d{3}(?:GCM)?(?:KW)?$/.test(a):d=!a.includes("GCM")&&a.endsWith("KW")?"encrypt"===c?"wrapKey":"unwrapKey":c;break;case"encrypt"===c&&a.startsWith("RSA"):d="wrapKey";break;case"decrypt"===c:d=a.startsWith("RSA")?"unwrapKey":"deriveBits"}if(d&&b.key_ops?.includes?.(d)===!1)throw TypeError(`Invalid key for this operation, its "key_ops" must include "${d}" when present`)}return!0};function bN(a,b,c){switch(a.substring(0,2)){case"A1":case"A2":case"di":case"HS":case"PB":((a,b,c)=>{if(!(b instanceof Uint8Array)){if(bu(b)){if("oct"===b.kty&&"string"==typeof b.k&&bM(a,b,c))return;throw TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!a9(b))throw TypeError(a5(a,b,"CryptoKey","KeyObject","JSON Web Key","Uint8Array"));if("secret"!==b.type)throw TypeError(`${bL(b)} instances for symmetric algorithms must be of type "secret"`)}})(a,b,c);break;default:((a,b,c)=>{if(bu(b))switch(c){case"decrypt":case"sign":if("oct"!==b.kty&&("AKP"===b.kty&&"string"==typeof b.priv||"string"==typeof b.d)&&bM(a,b,c))return;throw TypeError("JSON Web Key for this operation must be a private JWK");case"encrypt":case"verify":if("oct"!==b.kty&&void 0===b.d&&void 0===b.priv&&bM(a,b,c))return;throw TypeError("JSON Web Key for this operation must be a public JWK")}if(!a9(b))throw TypeError(a5(a,b,"CryptoKey","KeyObject","JSON Web Key"));if("secret"===b.type)throw TypeError(`${bL(b)} instances for asymmetric algorithms must not be of type "secret"`);if("public"===b.type)switch(c){case"sign":throw TypeError(`${bL(b)} instances for asymmetric algorithm signing must be of type "private"`);case"decrypt":throw TypeError(`${bL(b)} instances for asymmetric algorithm decryption must be of type "private"`)}if("private"===b.type)switch(c){case"verify":throw TypeError(`${bL(b)} instances for asymmetric algorithm verifying must be of type "public"`);case"encrypt":throw TypeError(`${bL(b)} instances for asymmetric algorithm encryption must be of type "public"`)}})(a,b,c)}}class bO{#a;#b;#c;#d;#e;#f;#g;#h;constructor(a){if(!(a instanceof Uint8Array))throw TypeError("plaintext must be an instance of Uint8Array");this.#a=a}setKeyManagementParameters(a){if(this.#h)throw TypeError("setKeyManagementParameters can only be called once");return this.#h=a,this}setProtectedHeader(a){if(this.#b)throw TypeError("setProtectedHeader can only be called once");return this.#b=a,this}setSharedUnprotectedHeader(a){if(this.#c)throw TypeError("setSharedUnprotectedHeader can only be called once");return this.#c=a,this}setUnprotectedHeader(a){if(this.#d)throw TypeError("setUnprotectedHeader can only be called once");return this.#d=a,this}setAdditionalAuthenticatedData(a){return this.#e=a,this}setContentEncryptionKey(a){if(this.#f)throw TypeError("setContentEncryptionKey can only be called once");return this.#f=a,this}setInitializationVector(a){if(this.#g)throw TypeError("setInitializationVector can only be called once");return this.#g=a,this}async encrypt(a,b){let c,d,e,f,g,h;if(!this.#b&&!this.#d&&!this.#c)throw new aP("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()");if(!bJ(this.#b,this.#d,this.#c))throw new aP("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");let i={...this.#b,...this.#d,...this.#c};if(bK(aP,new Map,b?.crit,this.#b,i),void 0!==i.zip)throw new aN('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');let{alg:j,enc:k}=i;if("string"!=typeof j||!j)throw new aP('JWE "alg" (Algorithm) Header Parameter missing or invalid');if("string"!=typeof k||!k)throw new aP('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');if(this.#f&&("dir"===j||"ECDH-ES"===j))throw TypeError(`setContentEncryptionKey cannot be called with JWE "alg" (Algorithm) Header ${j}`);bN("dir"===j?k:j,a,"encrypt");{let e,f=await bx(a,j);({cek:d,encryptedKey:c,parameters:e}=await bI(j,k,f,this.#f,this.#h)),e&&(b&&aI in b?this.#d?this.#d={...this.#d,...e}:this.setUnprotectedHeader(e):this.#b?this.#b={...this.#b,...e}:this.setProtectedHeader(e))}if(this.#b?g=aF(f=aH(JSON.stringify(this.#b))):(f="",g=new Uint8Array),this.#e){let a=aF(h=aH(this.#e));e=aB(g,aF("."),a)}else e=g;let{ciphertext:l,tag:m,iv:n}=await bc(k,this.#a,d,this.#g,e),o={ciphertext:aH(l)};return n&&(o.iv=aH(n)),m&&(o.tag=aH(m)),c&&(o.encrypted_key=aH(c)),h&&(o.aad=h),this.#b&&(o.protected=f),this.#c&&(o.unprotected=this.#c),this.#d&&(o.header=this.#d),o}}class bP{#i;constructor(a){this.#i=new bO(a)}setContentEncryptionKey(a){return this.#i.setContentEncryptionKey(a),this}setInitializationVector(a){return this.#i.setInitializationVector(a),this}setProtectedHeader(a){return this.#i.setProtectedHeader(a),this}setKeyManagementParameters(a){return this.#i.setKeyManagementParameters(a),this}async encrypt(a,b){let c=await this.#i.encrypt(a,b);return[c.protected,c.encrypted_key,c.iv,c.ciphertext,c.tag].join(".")}}let bQ=a=>Math.floor(a.getTime()/1e3),bR=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i;function bS(a){let b,c=bR.exec(a);if(!c||c[4]&&c[1])throw TypeError("Invalid time period format");let d=parseFloat(c[2]);switch(c[3].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":b=Math.round(d);break;case"minute":case"minutes":case"min":case"mins":case"m":b=Math.round(60*d);break;case"hour":case"hours":case"hr":case"hrs":case"h":b=Math.round(3600*d);break;case"day":case"days":case"d":b=Math.round(86400*d);break;case"week":case"weeks":case"w":b=Math.round(604800*d);break;default:b=Math.round(0x1e187e0*d)}return"-"===c[1]||"ago"===c[4]?-b:b}function bT(a,b){if(!Number.isFinite(b))throw TypeError(`Invalid ${a} input`);return b}let bU=a=>a.includes("/")?a.toLowerCase():`application/${a.toLowerCase()}`;function bV(a,b,c={}){var d,e;let f,g;try{f=JSON.parse(aA.decode(b))}catch{}if(!bt(f))throw new aR("JWT Claims Set must be a top-level JSON object");let{typ:h}=c;if(h&&("string"!=typeof a.typ||bU(a.typ)!==bU(h)))throw new aK('unexpected "typ" JWT header value',f,"typ","check_failed");let{requiredClaims:i=[],issuer:j,subject:k,audience:l,maxTokenAge:m}=c,n=[...i];for(let a of(void 0!==m&&n.push("iat"),void 0!==l&&n.push("aud"),void 0!==k&&n.push("sub"),void 0!==j&&n.push("iss"),new Set(n.reverse())))if(!(a in f))throw new aK(`missing required "${a}" claim`,f,a,"missing");if(j&&!(Array.isArray(j)?j:[j]).includes(f.iss))throw new aK('unexpected "iss" claim value',f,"iss","check_failed");if(k&&f.sub!==k)throw new aK('unexpected "sub" claim value',f,"sub","check_failed");if(l&&(d=f.aud,e="string"==typeof l?[l]:l,"string"==typeof d?!e.includes(d):!(Array.isArray(d)&&e.some(Set.prototype.has.bind(new Set(d))))))throw new aK('unexpected "aud" claim value',f,"aud","check_failed");switch(typeof c.clockTolerance){case"string":g=bS(c.clockTolerance);break;case"number":g=c.clockTolerance;break;case"undefined":g=0;break;default:throw TypeError("Invalid clockTolerance option type")}let{currentDate:o}=c,p=bQ(o||new Date);if((void 0!==f.iat||m)&&"number"!=typeof f.iat)throw new aK('"iat" claim must be a number',f,"iat","invalid");if(void 0!==f.nbf){if("number"!=typeof f.nbf)throw new aK('"nbf" claim must be a number',f,"nbf","invalid");if(f.nbf>p+g)throw new aK('"nbf" claim timestamp check failed',f,"nbf","check_failed")}if(void 0!==f.exp){if("number"!=typeof f.exp)throw new aK('"exp" claim must be a number',f,"exp","invalid");if(f.exp<=p-g)throw new aL('"exp" claim timestamp check failed',f,"exp","check_failed")}if(m){let a=p-f.iat;if(a-g>("number"==typeof m?m:bS(m)))throw new aL('"iat" claim timestamp check failed (too far in the past)',f,"iat","check_failed");if(a<0-g)throw new aK('"iat" claim timestamp check failed (it should be in the past)',f,"iat","check_failed")}return f}class bW{#j;constructor(a){if(!bt(a))throw TypeError("JWT Claims Set MUST be an object");this.#j=structuredClone(a)}data(){return az.encode(JSON.stringify(this.#j))}get iss(){return this.#j.iss}set iss(a){this.#j.iss=a}get sub(){return this.#j.sub}set sub(a){this.#j.sub=a}get aud(){return this.#j.aud}set aud(a){this.#j.aud=a}set jti(a){this.#j.jti=a}set nbf(a){"number"==typeof a?this.#j.nbf=bT("setNotBefore",a):a instanceof Date?this.#j.nbf=bT("setNotBefore",bQ(a)):this.#j.nbf=bQ(new Date)+bS(a)}set exp(a){"number"==typeof a?this.#j.exp=bT("setExpirationTime",a):a instanceof Date?this.#j.exp=bT("setExpirationTime",bQ(a)):this.#j.exp=bQ(new Date)+bS(a)}set iat(a){void 0===a?this.#j.iat=bQ(new Date):a instanceof Date?this.#j.iat=bT("setIssuedAt",bQ(a)):"string"==typeof a?this.#j.iat=bT("setIssuedAt",bQ(new Date)+bS(a)):this.#j.iat=bT("setIssuedAt",a)}}class bX{#f;#g;#h;#b;#k;#l;#m;#n;constructor(a={}){this.#n=new bW(a)}setIssuer(a){return this.#n.iss=a,this}setSubject(a){return this.#n.sub=a,this}setAudience(a){return this.#n.aud=a,this}setJti(a){return this.#n.jti=a,this}setNotBefore(a){return this.#n.nbf=a,this}setExpirationTime(a){return this.#n.exp=a,this}setIssuedAt(a){return this.#n.iat=a,this}setProtectedHeader(a){if(this.#b)throw TypeError("setProtectedHeader can only be called once");return this.#b=a,this}setKeyManagementParameters(a){if(this.#h)throw TypeError("setKeyManagementParameters can only be called once");return this.#h=a,this}setContentEncryptionKey(a){if(this.#f)throw TypeError("setContentEncryptionKey can only be called once");return this.#f=a,this}setInitializationVector(a){if(this.#g)throw TypeError("setInitializationVector can only be called once");return this.#g=a,this}replicateIssuerAsHeader(){return this.#k=!0,this}replicateSubjectAsHeader(){return this.#l=!0,this}replicateAudienceAsHeader(){return this.#m=!0,this}async encrypt(a,b){let c=new bP(this.#n.data());return this.#b&&(this.#k||this.#l||this.#m)&&(this.#b={...this.#b,iss:this.#k?this.#n.iss:void 0,sub:this.#l?this.#n.sub:void 0,aud:this.#m?this.#n.aud:void 0}),c.setProtectedHeader(this.#b),this.#g&&c.setInitializationVector(this.#g),this.#f&&c.setContentEncryptionKey(this.#f),this.#h&&c.setKeyManagementParameters(this.#h),c.encrypt(a,b)}}function bY(a,b){let c=`SHA-${a.slice(-3)}`;switch(a){case"HS256":case"HS384":case"HS512":return{hash:c,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:c,name:"RSA-PSS",saltLength:parseInt(a.slice(-3),10)>>3};case"RS256":case"RS384":case"RS512":return{hash:c,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:c,name:"ECDSA",namedCurve:b.namedCurve};case"Ed25519":case"EdDSA":return{name:"Ed25519"};case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":return{name:a};default:throw new aN(`alg ${a} is not supported either by JOSE or your javascript runtime`)}}async function bZ(a,b,c){if(b instanceof Uint8Array){if(!a.startsWith("HS"))throw TypeError(a4(b,"CryptoKey","KeyObject","JSON Web Key"));return crypto.subtle.importKey("raw",b,{hash:`SHA-${a.slice(-3)}`,name:"HMAC"},!1,[c])}return!function(a,b,c){switch(b){case"HS256":case"HS384":case"HS512":{if("HMAC"!==a.algorithm.name)throw a_("HMAC");let c=parseInt(b.slice(2),10);if(a0(a.algorithm.hash)!==c)throw a_(`SHA-${c}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if("RSASSA-PKCS1-v1_5"!==a.algorithm.name)throw a_("RSASSA-PKCS1-v1_5");let c=parseInt(b.slice(2),10);if(a0(a.algorithm.hash)!==c)throw a_(`SHA-${c}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if("RSA-PSS"!==a.algorithm.name)throw a_("RSA-PSS");let c=parseInt(b.slice(2),10);if(a0(a.algorithm.hash)!==c)throw a_(`SHA-${c}`,"algorithm.hash");break}case"Ed25519":case"EdDSA":if("Ed25519"!==a.algorithm.name)throw a_("Ed25519");break;case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":let d;if(d=a.algorithm,d.name!==b)throw a_(b);break;case"ES256":case"ES384":case"ES512":{if("ECDSA"!==a.algorithm.name)throw a_("ECDSA");let c=function(a){switch(a){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw Error("unreachable")}}(b);if(a.algorithm.namedCurve!==c)throw a_(c,"algorithm.namedCurve");break}default:throw TypeError("CryptoKey does not support this operation")}a1(a,c)}(b,a,c),b}async function b$(a,b,c){let d=await bZ(a,b,"sign");return bp(a,d),new Uint8Array(await crypto.subtle.sign(bY(a,d.algorithm),d,c))}class b_{#j;#b;#d;constructor(a){if(!(a instanceof Uint8Array))throw TypeError("payload must be an instance of Uint8Array");this.#j=a}setProtectedHeader(a){if(this.#b)throw TypeError("setProtectedHeader can only be called once");return this.#b=a,this}setUnprotectedHeader(a){if(this.#d)throw TypeError("setUnprotectedHeader can only be called once");return this.#d=a,this}async sign(a,b){let c,d,e,f;if(!this.#b&&!this.#d)throw new aQ("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!bJ(this.#b,this.#d))throw new aQ("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let g={...this.#b,...this.#d},h=bK(aQ,new Map([["b64",!0]]),b?.crit,this.#b,g),i=!0;if(h.has("b64")&&"boolean"!=typeof(i=this.#b.b64))throw new aQ('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:j}=g;if("string"!=typeof j||!j)throw new aQ('JWS "alg" (Algorithm) Header Parameter missing or invalid');bN(j,a,"sign"),i?d=aF(c=aH(this.#j)):(d=this.#j,c=""),this.#b?f=aF(e=aH(JSON.stringify(this.#b))):(e="",f=new Uint8Array);let k=aB(f,aF("."),d),l=await bx(a,j),m={signature:aH(await b$(j,l,k)),payload:c};return this.#d&&(m.header=this.#d),this.#b&&(m.protected=e),m}}class b0{#i;constructor(a){this.#i=new b_(a)}setProtectedHeader(a){return this.#i.setProtectedHeader(a),this}async sign(a,b){let c=await this.#i.sign(a,b);if(void 0===c.payload)throw TypeError("use the flattened module for creating JWS with b64: false");return`${c.protected}.${c.payload}.${c.signature}`}}class b1{#b;#n;constructor(a={}){this.#n=new bW(a)}setIssuer(a){return this.#n.iss=a,this}setSubject(a){return this.#n.sub=a,this}setAudience(a){return this.#n.aud=a,this}setJti(a){return this.#n.jti=a,this}setNotBefore(a){return this.#n.nbf=a,this}setExpirationTime(a){return this.#n.exp=a,this}setIssuedAt(a){return this.#n.iat=a,this}setProtectedHeader(a){return this.#b=a,this}async sign(a,b){let c=new b0(this.#n.data());if(c.setProtectedHeader(this.#b),Array.isArray(this.#b?.crit)&&this.#b.crit.includes("b64")&&!1===this.#b.b64)throw new aR("JWTs MUST NOT use unencoded payload");return c.sign(a,b)}}var b2=a.i(76340),b2=b2;let b3=(a,b)=>{if("string"!=typeof a||!a)throw new aS(`${b} missing or invalid`)};async function b4(a,b){let c,d;if(bu(a))c=a;else if(a9(a))c=await bB(a);else throw TypeError(a4(a,"CryptoKey","KeyObject","JSON Web Key"));if("sha256"!==(b??="sha256")&&"sha384"!==b&&"sha512"!==b)throw TypeError('digestAlgorithm must one of "sha256", "sha384", or "sha512"');switch(c.kty){case"AKP":b3(c.alg,'"alg" (Algorithm) Parameter'),b3(c.pub,'"pub" (Public key) Parameter'),d={alg:c.alg,kty:c.kty,pub:c.pub};break;case"EC":b3(c.crv,'"crv" (Curve) Parameter'),b3(c.x,'"x" (X Coordinate) Parameter'),b3(c.y,'"y" (Y Coordinate) Parameter'),d={crv:c.crv,kty:c.kty,x:c.x,y:c.y};break;case"OKP":b3(c.crv,'"crv" (Subtype of Key Pair) Parameter'),b3(c.x,'"x" (Public Key) Parameter'),d={crv:c.crv,kty:c.kty,x:c.x};break;case"RSA":b3(c.e,'"e" (Exponent) Parameter'),b3(c.n,'"n" (Modulus) Parameter'),d={e:c.e,kty:c.kty,n:c.n};break;case"oct":b3(c.k,'"k" (Key Value) Parameter'),d={k:c.k,kty:c.kty};break;default:throw new aN('"kty" (Key Type) Parameter missing or unsupported')}let e=aF(JSON.stringify(d));return aH(await bh(b,e))}async function b5(a,b,c){let d;if(!bt(a))throw TypeError("JWK must be an object");switch(b??=a.alg,d??=c?.extractable??a.ext,a.kty){case"oct":if("string"!=typeof a.k||!a.k)throw TypeError('missing "k" (Key Value) Parameter value');return aG(a.k);case"RSA":if("oth"in a&&void 0!==a.oth)throw new aN('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');return bv({...a,alg:b,ext:d});case"AKP":if("string"!=typeof a.alg||!a.alg)throw TypeError('missing "alg" (Algorithm) Parameter value');if(void 0!==b&&b!==a.alg)throw TypeError("JWK alg and alg option value mismatch");return bv({...a,ext:d});case"EC":case"OKP":return bv({...a,alg:b,ext:d});default:throw new aN('Unsupported "kty" (Key Type) Parameter value')}}async function b6(a,b,c,d,e){switch(a){case"dir":if(void 0!==c)throw new aP("Encountered unexpected JWE Encrypted Key");return b;case"ECDH-ES":if(void 0!==c)throw new aP("Encountered unexpected JWE Encrypted Key");case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{let e,f;if(!bt(d.epk))throw new aP('JOSE Header "epk" (Ephemeral Public Key) missing or invalid');if(a6(b),!bl(b))throw new aN("ECDH with the provided key is not allowed or not supported by your javascript runtime");let g=await b5(d.epk,a);if(a6(g),void 0!==d.apu){if("string"!=typeof d.apu)throw new aP('JOSE Header "apu" (Agreement PartyUInfo) invalid');try{e=aG(d.apu)}catch{throw new aP("Failed to base64url decode the apu")}}if(void 0!==d.apv){if("string"!=typeof d.apv)throw new aP('JOSE Header "apv" (Agreement PartyVInfo) invalid');try{f=aG(d.apv)}catch{throw new aP("Failed to base64url decode the apv")}}let h=await bk(g,b,"ECDH-ES"===a?d.enc:a,"ECDH-ES"===a?by(d.enc):parseInt(a.slice(-5,-2),10),e,f);if("ECDH-ES"===a)return h;if(void 0===c)throw new aP("JWE Encrypted Key missing");return bg(a.slice(-6),h,c)}case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":if(void 0===c)throw new aP("JWE Encrypted Key missing");return a6(b),bs(a,b,c);case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{let f;if(void 0===c)throw new aP("JWE Encrypted Key missing");if("number"!=typeof d.p2c)throw new aP('JOSE Header "p2c" (PBES2 Count) missing or invalid');let g=e?.maxPBES2Count||1e4;if(d.p2c>g)throw new aP('JOSE Header "p2c" (PBES2 Count) out is of acceptable bounds');if("string"!=typeof d.p2s)throw new aP('JOSE Header "p2s" (PBES2 Salt) missing or invalid');try{f=aG(d.p2s)}catch{throw new aP("Failed to base64url decode the p2s")}return bo(a,b,c,d.p2c,f)}case"A128KW":case"A192KW":case"A256KW":if(void 0===c)throw new aP("JWE Encrypted Key missing");return bg(a,b,c);case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{let e,f;if(void 0===c)throw new aP("JWE Encrypted Key missing");if("string"!=typeof d.iv)throw new aP('JOSE Header "iv" (Initialization Vector) missing or invalid');if("string"!=typeof d.tag)throw new aP('JOSE Header "tag" (Authentication Tag) missing or invalid');try{e=aG(d.iv)}catch{throw new aP("Failed to base64url decode the iv")}try{f=aG(d.tag)}catch{throw new aP("Failed to base64url decode the tag")}return bH(a,b,c,e,f)}default:throw new aN('Invalid or unsupported "alg" (JWE Algorithm) header value')}}function b7(a,b){if(void 0!==b&&(!Array.isArray(b)||b.some(a=>"string"!=typeof a)))throw TypeError(`"${a}" option must be an array of strings`);if(b)return new Set(b)}async function b8(a,b,c){let d,e,f,g,h,i,j;if(!bt(a))throw new aP("Flattened JWE must be an object");if(void 0===a.protected&&void 0===a.header&&void 0===a.unprotected)throw new aP("JOSE Header missing");if(void 0!==a.iv&&"string"!=typeof a.iv)throw new aP("JWE Initialization Vector incorrect type");if("string"!=typeof a.ciphertext)throw new aP("JWE Ciphertext missing or incorrect type");if(void 0!==a.tag&&"string"!=typeof a.tag)throw new aP("JWE Authentication Tag incorrect type");if(void 0!==a.protected&&"string"!=typeof a.protected)throw new aP("JWE Protected Header incorrect type");if(void 0!==a.encrypted_key&&"string"!=typeof a.encrypted_key)throw new aP("JWE Encrypted Key incorrect type");if(void 0!==a.aad&&"string"!=typeof a.aad)throw new aP("JWE AAD incorrect type");if(void 0!==a.header&&!bt(a.header))throw new aP("JWE Shared Unprotected Header incorrect type");if(void 0!==a.unprotected&&!bt(a.unprotected))throw new aP("JWE Per-Recipient Unprotected Header incorrect type");if(a.protected)try{let b=aG(a.protected);d=JSON.parse(aA.decode(b))}catch{throw new aP("JWE Protected Header is invalid")}if(!bJ(d,a.header,a.unprotected))throw new aP("JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint");let k={...d,...a.header,...a.unprotected};if(bK(aP,new Map,c?.crit,d,k),void 0!==k.zip)throw new aN('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');let{alg:l,enc:m}=k;if("string"!=typeof l||!l)throw new aP("missing JWE Algorithm (alg) in JWE Header");if("string"!=typeof m||!m)throw new aP("missing JWE Encryption Algorithm (enc) in JWE Header");let n=c&&b7("keyManagementAlgorithms",c.keyManagementAlgorithms),o=c&&b7("contentEncryptionAlgorithms",c.contentEncryptionAlgorithms);if(n&&!n.has(l)||!n&&l.startsWith("PBES2"))throw new aM('"alg" (Algorithm) Header Parameter value not allowed');if(o&&!o.has(m))throw new aM('"enc" (Encryption Algorithm) Header Parameter value not allowed');if(void 0!==a.encrypted_key)try{e=aG(a.encrypted_key)}catch{throw new aP("Failed to base64url decode the encrypted_key")}let p=!1;"function"==typeof b&&(b=await b(d,a),p=!0),bN("dir"===l?m:l,b,"decrypt");let q=await bx(b,l);try{f=await b6(l,q,e,k,c)}catch(a){if(a instanceof TypeError||a instanceof aP||a instanceof aN)throw a;f=bz(m)}if(void 0!==a.iv)try{g=aG(a.iv)}catch{throw new aP("Failed to base64url decode the iv")}if(void 0!==a.tag)try{h=aG(a.tag)}catch{throw new aP("Failed to base64url decode the tag")}let r=void 0!==a.protected?aF(a.protected):new Uint8Array;i=void 0!==a.aad?aB(r,aF("."),aF(a.aad)):r;try{j=aG(a.ciphertext)}catch{throw new aP("Failed to base64url decode the ciphertext")}let s={plaintext:await bF(m,f,j,g,h,i)};if(void 0!==a.protected&&(s.protectedHeader=d),void 0!==a.aad)try{s.additionalAuthenticatedData=aG(a.aad)}catch{throw new aP("Failed to base64url decode the aad")}return(void 0!==a.unprotected&&(s.sharedUnprotectedHeader=a.unprotected),void 0!==a.header&&(s.unprotectedHeader=a.header),p)?{...s,key:q}:s}async function b9(a,b,c){if(a instanceof Uint8Array&&(a=aA.decode(a)),"string"!=typeof a)throw new aP("Compact JWE must be a string or Uint8Array");let{0:d,1:e,2:f,3:g,4:h,length:i}=a.split(".");if(5!==i)throw new aP("Invalid Compact JWE");let j=await b8({ciphertext:g,iv:f||void 0,protected:d,tag:h||void 0,encrypted_key:e||void 0},b,c),k={plaintext:j.plaintext,protectedHeader:j.protectedHeader};return"function"==typeof b?{...k,key:j.key}:k}async function ca(a,b,c){let d=await b9(a,b,c),e=bV(d.protectedHeader,d.plaintext,c),{protectedHeader:f}=d;if(void 0!==f.iss&&f.iss!==e.iss)throw new aK('replicated "iss" claim header parameter mismatch',e,"iss","mismatch");if(void 0!==f.sub&&f.sub!==e.sub)throw new aK('replicated "sub" claim header parameter mismatch',e,"sub","mismatch");if(void 0!==f.aud&&JSON.stringify(f.aud)!==JSON.stringify(e.aud))throw new aK('replicated "aud" claim header parameter mismatch',e,"aud","mismatch");let g={payload:e,protectedHeader:f};return"function"==typeof b?{...g,key:d.key}:g}async function cb(a,b,c,d){let e=await bZ(a,b,"verify");bp(a,e);let f=bY(a,e.algorithm);try{return await crypto.subtle.verify(f,e,c,d)}catch{return!1}}async function cc(a,b,c){let d,e;if(!bt(a))throw new aQ("Flattened JWS must be an object");if(void 0===a.protected&&void 0===a.header)throw new aQ('Flattened JWS must have either of the "protected" or "header" members');if(void 0!==a.protected&&"string"!=typeof a.protected)throw new aQ("JWS Protected Header incorrect type");if(void 0===a.payload)throw new aQ("JWS Payload missing");if("string"!=typeof a.signature)throw new aQ("JWS Signature missing or incorrect type");if(void 0!==a.header&&!bt(a.header))throw new aQ("JWS Unprotected Header incorrect type");let f={};if(a.protected)try{let b=aG(a.protected);f=JSON.parse(aA.decode(b))}catch{throw new aQ("JWS Protected Header is invalid")}if(!bJ(f,a.header))throw new aQ("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let g={...f,...a.header},h=bK(aQ,new Map([["b64",!0]]),c?.crit,f,g),i=!0;if(h.has("b64")&&"boolean"!=typeof(i=f.b64))throw new aQ('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:j}=g;if("string"!=typeof j||!j)throw new aQ('JWS "alg" (Algorithm) Header Parameter missing or invalid');let k=c&&b7("algorithms",c.algorithms);if(k&&!k.has(j))throw new aM('"alg" (Algorithm) Header Parameter value not allowed');if(i){if("string"!=typeof a.payload)throw new aQ("JWS Payload must be a string")}else if("string"!=typeof a.payload&&!(a.payload instanceof Uint8Array))throw new aQ("JWS Payload must be a string or an Uint8Array instance");let l=!1;"function"==typeof b&&(b=await b(f,a),l=!0),bN(j,b,"verify");let m=aB(void 0!==a.protected?aF(a.protected):new Uint8Array,aF("."),"string"==typeof a.payload?i?aF(a.payload):az.encode(a.payload):a.payload);try{d=aG(a.signature)}catch{throw new aQ("Failed to base64url decode the signature")}let n=await bx(b,j);if(!await cb(j,n,d,m))throw new aX;if(i)try{e=aG(a.payload)}catch{throw new aQ("Failed to base64url decode the payload")}else e="string"==typeof a.payload?az.encode(a.payload):a.payload;let o={payload:e};return(void 0!==a.protected&&(o.protectedHeader=f),void 0!==a.header&&(o.unprotectedHeader=a.header),l)?{...o,key:n}:o}async function cd(a,b,c){if(a instanceof Uint8Array&&(a=aA.decode(a)),"string"!=typeof a)throw new aQ("Compact JWS must be a string or Uint8Array");let{0:d,1:e,2:f,length:g}=a.split(".");if(3!==g)throw new aQ("Invalid Compact JWS");let h=await cc({payload:e,protected:d,signature:f},b,c),i={payload:h.payload,protectedHeader:h.protectedHeader};return"function"==typeof b?{...i,key:h.key}:i}async function ce(a,b,c){let d=await cd(a,b,c);if(d.protectedHeader.crit?.includes("b64")&&!1===d.protectedHeader.b64)throw new aR("JWTs MUST NOT use unencoded payload");let e={payload:bV(d.protectedHeader,d.payload,c),protectedHeader:d.protectedHeader};return"function"==typeof b?{...e,key:d.key}:e}async function cf(a,b,c=3600){return await new b1(a).setProtectedHeader({alg:"HS256"}).setIssuedAt().setExpirationTime(Math.floor(Date.now()/1e3)+c).sign(new TextEncoder().encode(b))}async function cg(a,b){try{return(await ce(a,new TextEncoder().encode(b))).payload}catch{return null}}let ch=new Uint8Array([66,101,116,116,101,114,65,117,116,104,46,106,115,32,71,101,110,101,114,97,116,101,100,32,69,110,99,114,121,112,116,105,111,110,32,75,101,121]),ci="A256CBC-HS512";async function cj(a,b,c,d=3600){let e=ah(ay,new TextEncoder().encode(b),new TextEncoder().encode(c),ch,64),f=await b4({kty:"oct",k:b2.encode(e)},"sha256");return await new bX(a).setProtectedHeader({alg:"dir",enc:ci,kid:f}).setIssuedAt().setExpirationTime((Date.now()/1e3|0)+d).setJti(crypto.randomUUID()).encrypt(e)}async function ck(a,b,c){if(!a)return null;try{let{payload:d}=await ca(a,async({kid:a})=>{let d=ah(ay,new TextEncoder().encode(b),new TextEncoder().encode(c),ch,64);if(void 0===a||a===await b4({kty:"oct",k:b2.encode(d)},"sha256"))return d;throw Error("no matching decryption secret")},{clockTolerance:15,keyManagementAlgorithms:["dir"],contentEncryptionAlgorithms:[ci,"A256GCM"]});return d}catch{return null}}var cl=a.i(71120),cm=a.i(43336),cn=a.i(54645),co=cn;let cp=a=>{if("string"==typeof a&&(a=new TextEncoder().encode(a)),0===a.byteLength)return"";let b=new Uint8Array(a),c="";for(let a of b)c+=a.toString(16).padStart(2,"0");return c};function cq(a,b,c,d){var e;let f,{c:g,dkLen:h,DK:i,PRF:j,PRFSalt:k}=function(a,b,c,d){R(a);let{c:e,dkLen:f,asyncTick:g}=ac({dkLen:32,asyncTick:10},d);if(P(e,"c"),P(f,"dkLen"),P(g,"asyncTick"),e<1)throw Error("iterations (c) must be >= 1");let h=ab(b,"password"),i=ab(c,"salt"),j=new Uint8Array(f),k=ae.create(a,h),l=k._cloneInto().update(i);return{c:e,dkLen:f,asyncTick:g,DK:j,PRF:k,PRFSalt:l}}(a,b,c,d),l=new Uint8Array(4),m=V(l),n=new Uint8Array(j.outputLen);for(let a=1,b=0;b<h;a++,b+=j.outputLen){let c=i.subarray(b,b+j.outputLen);m.setInt32(0,a,!1),(f=k._cloneInto(f)).update(l).digestInto(n),c.set(n.subarray(0,c.length));for(let a=1;a<g;a++){j._cloneInto(f).update(n).digestInto(n);for(let a=0;a<c.length;a++)c[a]^=n[a]}}return e=f,j.destroy(),k.destroy(),e&&e.destroy(),U(n),i}function cr(a,b,c,d,e,f){let g=a[b++]^c[d++],h=a[b++]^c[d++],i=a[b++]^c[d++],j=a[b++]^c[d++],k=a[b++]^c[d++],l=a[b++]^c[d++],m=a[b++]^c[d++],n=a[b++]^c[d++],o=a[b++]^c[d++],p=a[b++]^c[d++],q=a[b++]^c[d++],r=a[b++]^c[d++],s=a[b++]^c[d++],t=a[b++]^c[d++],u=a[b++]^c[d++],v=a[b++]^c[d++],w=g,x=h,y=i,z=j,A=k,B=l,C=m,D=n,E=o,F=p,G=q,H=r,I=s,J=t,K=u,L=v;for(let a=0;a<8;a+=2)A^=X(w+I|0,7),E^=X(A+w|0,9),I^=X(E+A|0,13),w^=X(I+E|0,18),F^=X(B+x|0,7),J^=X(F+B|0,9),x^=X(J+F|0,13),B^=X(x+J|0,18),K^=X(G+C|0,7),y^=X(K+G|0,9),C^=X(y+K|0,13),G^=X(C+y|0,18),z^=X(L+H|0,7),D^=X(z+L|0,9),H^=X(D+z|0,13),L^=X(H+D|0,18),x^=X(w+z|0,7),y^=X(x+w|0,9),z^=X(y+x|0,13),w^=X(z+y|0,18),C^=X(B+A|0,7),D^=X(C+B|0,9),A^=X(D+C|0,13),B^=X(A+D|0,18),H^=X(G+F|0,7),E^=X(H+G|0,9),F^=X(E+H|0,13),G^=X(F+E|0,18),I^=X(L+K|0,7),J^=X(I+L|0,9),K^=X(J+I|0,13),L^=X(K+J|0,18);e[f++]=g+w|0,e[f++]=h+x|0,e[f++]=i+y|0,e[f++]=j+z|0,e[f++]=k+A|0,e[f++]=l+B|0,e[f++]=m+C|0,e[f++]=n+D|0,e[f++]=o+E|0,e[f++]=p+F|0,e[f++]=q+G|0,e[f++]=r+H|0,e[f++]=s+I|0,e[f++]=t+J|0,e[f++]=u+K|0,e[f++]=v+L|0}function cs(a,b,c,d,e){let f=d+0,g=d+16*e;for(let d=0;d<16;d++)c[g+d]=a[b+(2*e-1)*16+d];for(let d=0;d<e;d++,f+=16,b+=16)cr(c,g,a,b,c,f),d>0&&(g+=16),cr(c,f,a,b+=16,c,g)}async function ct(a,b,c){let d,{N:e,r:f,p:g,dkLen:h,blockSize32:i,V:j,B32:k,B:l,tmp:m,blockMixCb:n,asyncTick:o}=function(a,b,c){let{N:d,r:e,p:f,dkLen:g,asyncTick:h,maxmem:i,onProgress:j}=ac({dkLen:32,asyncTick:10,maxmem:0x40000400},c);if(P(d,"N"),P(e,"r"),P(f,"p"),P(g,"dkLen"),P(h,"asyncTick"),P(i,"maxmem"),void 0!==j&&"function"!=typeof j)throw Error("progressCb must be a function");let k=128*e,l=k/4;if(d<=1||(d&d-1)!=0||d>0x100000000)throw Error('"N" expected a power of 2, and 2^1 <= N <= 2^32');if(f<1||f>0x1fffffffe0/k)throw Error('"p" expected integer 1..((2^32 - 1) * 32) / (128 * r)');if(g<1||g>0x1fffffffe0)throw Error('"dkLen" expected integer 1..(2^32 - 1) * 32');if(k*(d+f)>i)throw Error('"maxmem" limit was hit, expected 128*r*(N+p) <= "maxmem"='+i);let m=cq(ay,a,b,{c:1,dkLen:k*f}),n=T(m),o=T(new Uint8Array(k*d)),p=T(new Uint8Array(k)),q=()=>{};if(j){let a=2*d*f,b=Math.max(Math.floor(a/1e4),1),c=0;q=()=>{c++,j&&(!(c%b)||c===a)&&j(c/a)}}return{N:d,r:e,p:f,dkLen:g,blockSize32:l,V:o,B32:n,B:m,tmp:p,blockMixCb:q,asyncTick:h}}(a,b,c);Y(k);for(let a=0;a<g;a++){let b=i*a;for(let a=0;a<i;a++)j[a]=k[b+a];let c=0;await aa(e-1,o,()=>{cs(j,c,j,c+=i,f),n()}),cs(j,(e-1)*i,k,b,f),n(),await aa(e,o,()=>{let a=(k[b+i-16]&e-1)>>>0;for(let c=0;c<i;c++)m[c]=k[b+c]^j[a*i+c];cs(m,0,k,b,f),n()})}return Y(k),d=cq(ay,a,l,{c:1,dkLen:h}),U(l,j,m),d}async function cu(a,b){return await ct(a.normalize("NFKC"),b,{N:16384,p:1,r:16,dkLen:64,maxmem:0x4000000})}let cv=async a=>{let b=cp(crypto.getRandomValues(new Uint8Array(16))),c=await cu(a,b);return`${b}:${cp(c)}`},cw=async({hash:a,password:b})=>{let[c,d]=a.split(":");if(!c||!d)throw new co.t("Invalid password hash");return function(a,b){"string"==typeof a&&(a=new TextEncoder().encode(a)),"string"==typeof b&&(b=new TextEncoder().encode(b));let c=new Uint8Array(a),d=new Uint8Array(b),e=c.length^d.length,f=Math.max(c.length,d.length);for(let a=0;a<f;a++)e|=(a<c.length?c[a]:0)^(a<d.length?d[a]:0);return 0===e}(await cu(b,c),function(a){if("string"!=typeof a)throw Error("hex string expected, got "+typeof a);if(Z)return Uint8Array.fromHex(a);let b=a.length,c=b/2;if(b%2)throw Error("hex string expected, got unpadded hex of length "+b);let d=new Uint8Array(c);for(let b=0,e=0;b<c;b++,e+=2){let c=$(a.charCodeAt(e)),f=$(a.charCodeAt(e+1));if(void 0===c||void 0===f)throw Error('hex string expected, got non-hex character "'+(a[e]+a[e+1])+'" at index '+e);d[b]=16*c+f}return d}(d))};function cx(){let a="undefined"!=typeof globalThis&&globalThis.crypto;if(a&&"object"==typeof a.subtle&&null!=a.subtle)return a.subtle;throw Error("crypto.subtle must be defined")}function cy(a){return a?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"}function cz(a,b,c){let d="",e=0,f=0;for(let c of a)for(e=e<<8|c,f+=8;f>=6;)f-=6,d+=b[e>>f&63];if(f>0&&(d+=b[e<<6-f&63]),c){let a=(4-d.length%4)%4;d+="=".repeat(a)}return d}function cA(a,b){let c=new Map;for(let a=0;a<b.length;a++)c.set(b[a],a);let d=[],e=0,f=0;for(let b of a){if("="===b)break;let a=c.get(b);if(void 0===a)throw Error(`Invalid Base64 character: ${b}`);e=e<<6|a,(f+=6)>=8&&(f-=8,d.push(e>>f&255))}return Uint8Array.from(d)}let cB={encode(a,b={}){let c=cy(!1);return cz("string"==typeof a?new TextEncoder().encode(a):new Uint8Array(a),c,b.padding??!0)},decode(a){"string"!=typeof a&&(a=new TextDecoder().decode(a));let b=cy(a.includes("-")||a.includes("_"));return cA(a,b)}},cC={encode(a,b={}){let c=cy(!0);return cz("string"==typeof a?new TextEncoder().encode(a):new Uint8Array(a),c,b.padding??!0)},decode(a){let b=cy(a.includes("-")||a.includes("_"));return cA(a,b)}};function cD(a,b){return{digest:async c=>{let d=new TextEncoder,e="string"==typeof c?d.encode(c):c,f=await cx().digest(a,e);return"hex"===b?Array.from(new Uint8Array(f)).map(a=>a.toString(16).padStart(2,"0")).join(""):"base64"===b||"base64url"===b||"base64urlnopad"===b?b.includes("url")?cC.encode(f,{padding:"base64urlnopad"!==b}):cB.encode(f):f}}}function cE(a){if("boolean"!=typeof a)throw Error(`boolean expected, not ${a}`)}function cF(a){if(!Number.isSafeInteger(a)||a<0)throw Error("positive integer expected, got "+a)}function cG(a,b,c=""){let d=a instanceof Uint8Array||ArrayBuffer.isView(a)&&"Uint8Array"===a.constructor.name,e=a?.length,f=void 0!==b;if(!d||f&&e!==b)throw Error((c&&`"${c}" `)+"expected Uint8Array"+(f?` of length ${b}`:"")+", got "+(d?`length=${e}`:`type=${typeof a}`));return a}function cH(a,b=!0){if(a.destroyed)throw Error("Hash instance has been destroyed");if(b&&a.finished)throw Error("Hash#digest() has already been called")}function cI(a){return new Uint32Array(a.buffer,a.byteOffset,Math.floor(a.byteLength/4))}function cJ(...a){for(let b=0;b<a.length;b++)a[b].fill(0)}let cK=68===new Uint8Array(new Uint32Array([0x11223344]).buffer)[0],cL="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,cM=Array.from({length:256},(a,b)=>b.toString(16).padStart(2,"0"));function cN(a){return a>=48&&a<=57?a-48:a>=65&&a<=70?a-55:a>=97&&a<=102?a-87:void 0}function cO(a,b,c=!0){if(void 0===b)return new Uint8Array(a);if(b.length!==a)throw Error('"output" expected Uint8Array of length '+a+", got: "+b.length);if(c&&b.byteOffset%4!=0)throw Error("invalid output, must be aligned");return b}function cP(a){return Uint8Array.from(a)}function cQ(a=32){let b="object"==typeof globalThis?globalThis.crypto:null;if("function"!=typeof b?.getRandomValues)throw Error("crypto.getRandomValues must be defined");return b.getRandomValues(new Uint8Array(a))}function cR(a,b=cQ){let{nonceLength:c}=a;cF(c);let d=(a,b)=>{let c=function(...a){let b=0;for(let c=0;c<a.length;c++){let d=a[c];cG(d),b+=d.length}let c=new Uint8Array(b);for(let b=0,d=0;b<a.length;b++){let e=a[b];c.set(e,d),d+=e.length}return c}(a,b);return b.fill(0),c};return(e,...f)=>({encrypt(g){cG(g);let h=b(c),i=a(e,h,...f).encrypt(g);return i instanceof Promise?i.then(a=>d(h,a)):d(h,i)},decrypt(b){cG(b);let d=b.subarray(0,c),g=b.subarray(c);return a(e,d,...f).decrypt(g)}})}let cS=a=>Uint8Array.from(a.split(""),a=>a.charCodeAt(0)),cT=cS("expand 16-byte k"),cU=cS("expand 32-byte k"),cV=cI(cT),cW=cI(cU);function cX(a,b){return a<<b|a>>>32-b}function cY(a){return a.byteOffset%4==0}let cZ=0x100000000-1,c$=Uint32Array.of();function c_(a,b){let{allowShortKeys:c,extendNonceFn:d,counterLength:e,counterRight:f,rounds:g}=function(a,b){if(null==b||"object"!=typeof b)throw Error("options must be defined");return Object.assign(a,b)}({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},b);if("function"!=typeof a)throw Error("core must be a function");return cF(e),cF(g),cE(f),cE(c),(b,h,i,j,k=0)=>{let l,m;cG(b,void 0,"key"),cG(h,void 0,"nonce"),cG(i,void 0,"data");let n=i.length;if(void 0===j&&(j=new Uint8Array(n)),cG(j,void 0,"output"),cF(k),k<0||k>=cZ)throw Error("arx: counter overflow");if(j.length<n)throw Error(`arx: output (${j.length}) is shorter than data (${n})`);let o=[],p=b.length;if(32===p)o.push(l=cP(b)),m=cW;else if(16===p&&c)(l=new Uint8Array(32)).set(b),l.set(b,16),m=cV,o.push(l);else throw cG(b,32,"arx key"),Error("invalid key size");cY(h)||o.push(h=cP(h));let q=cI(l);if(d){if(24!==h.length)throw Error("arx: extended nonce must be 24 bytes");d(m,q,cI(h.subarray(0,16)),q),h=h.subarray(16)}let r=16-e;if(r!==h.length)throw Error(`arx: nonce must be ${r} or 16 bytes`);if(12!==r){let a=new Uint8Array(12);a.set(h,f?0:12-h.length),h=a,o.push(h)}return!function(a,b,c,d,e,f,g,h){let i=e.length,j=new Uint8Array(64),k=cI(j),l=cY(e)&&cY(f),m=l?cI(e):c$,n=l?cI(f):c$;for(let o=0;o<i;g++){if(a(b,c,d,k,g,h),g>=cZ)throw Error("arx: counter overflow");let p=Math.min(64,i-o);if(l&&64===p){let a=o/4;if(o%4!=0)throw Error("arx: invalid block position");for(let b=0,c;b<16;b++)n[c=a+b]=m[c]^k[b];o+=64;continue}for(let a=0,b;a<p;a++)f[b=o+a]=e[b]^j[a];o+=p}}(a,m,q,cI(h),i,j,k,g),cJ(...o),j}}function c0(a,b){return 255&a[b++]|(255&a[b++])<<8}class c1{blockLen=16;outputLen=16;buffer=new Uint8Array(16);r=new Uint16Array(10);h=new Uint16Array(10);pad=new Uint16Array(8);pos=0;finished=!1;constructor(a){const b=c0(a=cP(cG(a,32,"key")),0),c=c0(a,2),d=c0(a,4),e=c0(a,6),f=c0(a,8),g=c0(a,10),h=c0(a,12),i=c0(a,14);this.r[0]=8191&b,this.r[1]=(b>>>13|c<<3)&8191,this.r[2]=(c>>>10|d<<6)&7939,this.r[3]=(d>>>7|e<<9)&8191,this.r[4]=(e>>>4|f<<12)&255,this.r[5]=f>>>1&8190,this.r[6]=(f>>>14|g<<2)&8191,this.r[7]=(g>>>11|h<<5)&8065,this.r[8]=(h>>>8|i<<8)&8191,this.r[9]=i>>>5&127;for(let b=0;b<8;b++)this.pad[b]=c0(a,16+2*b)}process(a,b,c=!1){let{h:d,r:e}=this,f=e[0],g=e[1],h=e[2],i=e[3],j=e[4],k=e[5],l=e[6],m=e[7],n=e[8],o=e[9],p=c0(a,b+0),q=c0(a,b+2),r=c0(a,b+4),s=c0(a,b+6),t=c0(a,b+8),u=c0(a,b+10),v=c0(a,b+12),w=c0(a,b+14),x=d[0]+(8191&p),y=d[1]+((p>>>13|q<<3)&8191),z=d[2]+((q>>>10|r<<6)&8191),A=d[3]+((r>>>7|s<<9)&8191),B=d[4]+((s>>>4|t<<12)&8191),C=d[5]+(t>>>1&8191),D=d[6]+((t>>>14|u<<2)&8191),E=d[7]+((u>>>11|v<<5)&8191),F=d[8]+((v>>>8|w<<8)&8191),G=d[9]+(w>>>5|2048*!c),H=0,I=0+x*f+5*o*y+5*n*z+5*m*A+5*l*B;H=I>>>13,I&=8191,I+=5*k*C+5*j*D+5*i*E+5*h*F+5*g*G,H+=I>>>13,I&=8191;let J=H+x*g+y*f+5*o*z+5*n*A+5*m*B;H=J>>>13,J&=8191,J+=5*l*C+5*k*D+5*j*E+5*i*F+5*h*G,H+=J>>>13,J&=8191;let K=H+x*h+y*g+z*f+5*o*A+5*n*B;H=K>>>13,K&=8191,K+=5*m*C+5*l*D+5*k*E+5*j*F+5*i*G,H+=K>>>13,K&=8191;let L=H+x*i+y*h+z*g+A*f+5*o*B;H=L>>>13,L&=8191,L+=5*n*C+5*m*D+5*l*E+5*k*F+5*j*G,H+=L>>>13,L&=8191;let M=H+x*j+y*i+z*h+A*g+B*f;H=M>>>13,M&=8191,M+=5*o*C+5*n*D+5*m*E+5*l*F+5*k*G,H+=M>>>13,M&=8191;let N=H+x*k+y*j+z*i+A*h+B*g;H=N>>>13,N&=8191,N+=C*f+5*o*D+5*n*E+5*m*F+5*l*G,H+=N>>>13,N&=8191;let O=H+x*l+y*k+z*j+A*i+B*h;H=O>>>13,O&=8191,O+=C*g+D*f+5*o*E+5*n*F+5*m*G,H+=O>>>13,O&=8191;let P=H+x*m+y*l+z*k+A*j+B*i;H=P>>>13,P&=8191,P+=C*h+D*g+E*f+5*o*F+5*n*G,H+=P>>>13,P&=8191;let Q=H+x*n+y*m+z*l+A*k+B*j;H=Q>>>13,Q&=8191,Q+=C*i+D*h+E*g+F*f+5*o*G,H+=Q>>>13,Q&=8191;let R=H+x*o+y*n+z*m+A*l+B*k;H=R>>>13,R&=8191,R+=C*j+D*i+E*h+F*g+G*f,H+=R>>>13,R&=8191,I=8191&(H=(H=(H<<2)+H|0)+I|0),H>>>=13,J+=H,d[0]=I,d[1]=J,d[2]=K,d[3]=L,d[4]=M,d[5]=N,d[6]=O,d[7]=P,d[8]=Q,d[9]=R}finalize(){let{h:a,pad:b}=this,c=new Uint16Array(10),d=a[1]>>>13;a[1]&=8191;for(let b=2;b<10;b++)a[b]+=d,d=a[b]>>>13,a[b]&=8191;a[0]+=5*d,d=a[0]>>>13,a[0]&=8191,a[1]+=d,d=a[1]>>>13,a[1]&=8191,a[2]+=d,c[0]=a[0]+5,d=c[0]>>>13,c[0]&=8191;for(let b=1;b<10;b++)c[b]=a[b]+d,d=c[b]>>>13,c[b]&=8191;c[9]-=8192;let e=(1^d)-1;for(let a=0;a<10;a++)c[a]&=e;e=~e;for(let b=0;b<10;b++)a[b]=a[b]&e|c[b];a[0]=(a[0]|a[1]<<13)&65535,a[1]=(a[1]>>>3|a[2]<<10)&65535,a[2]=(a[2]>>>6|a[3]<<7)&65535,a[3]=(a[3]>>>9|a[4]<<4)&65535,a[4]=(a[4]>>>12|a[5]<<1|a[6]<<14)&65535,a[5]=(a[6]>>>2|a[7]<<11)&65535,a[6]=(a[7]>>>5|a[8]<<8)&65535,a[7]=(a[8]>>>8|a[9]<<5)&65535;let f=a[0]+b[0];a[0]=65535&f;for(let c=1;c<8;c++)f=(a[c]+b[c]|0)+(f>>>16)|0,a[c]=65535&f;cJ(c)}update(a){cH(this),cG(a);let{buffer:b,blockLen:c}=this,d=(a=cP(a)).length;for(let e=0;e<d;){let f=Math.min(c-this.pos,d-e);if(f===c){for(;c<=d-e;e+=c)this.process(a,e);continue}b.set(a.subarray(e,e+f),this.pos),this.pos+=f,e+=f,this.pos===c&&(this.process(b,0,!1),this.pos=0)}return this}destroy(){cJ(this.h,this.r,this.buffer,this.pad)}digestInto(a){cH(this);cG(a,void 0,"output");let b=this.outputLen;if(a.length<b)throw Error("digestInto() expects output buffer of length at least "+b);this.finished=!0;let{buffer:c,h:d}=this,{pos:e}=this;if(e){for(c[e++]=1;e<16;e++)c[e]=0;this.process(c,0,!0)}this.finalize();let f=0;for(let b=0;b<8;b++)a[f++]=d[b]>>>0,a[f++]=d[b]>>>8;return a}digest(){let{buffer:a,outputLen:b}=this;this.digestInto(a);let c=a.slice(0,b);return this.destroy(),c}}let c2=(G=a=>new c1(a),(h=(a,b)=>G(b).update(a).digest()).outputLen=(i=G(new Uint8Array(32))).outputLen,h.blockLen=i.blockLen,h.create=a=>G(a),h);function c3(a,b,c,d,e,f=20){let g=a[0],h=a[1],i=a[2],j=a[3],k=b[0],l=b[1],m=b[2],n=b[3],o=b[4],p=b[5],q=b[6],r=b[7],s=c[0],t=c[1],u=c[2],v=g,w=h,x=i,y=j,z=k,A=l,B=m,C=n,D=o,E=p,F=q,G=r,H=e,I=s,J=t,K=u;for(let a=0;a<f;a+=2)D=D+(H=cX(H^(v=v+z|0),16))|0,v=v+(z=cX(z^D,12))|0,D=D+(H=cX(H^v,8))|0,z=cX(z^D,7),E=E+(I=cX(I^(w=w+A|0),16))|0,w=w+(A=cX(A^E,12))|0,E=E+(I=cX(I^w,8))|0,A=cX(A^E,7),F=F+(J=cX(J^(x=x+B|0),16))|0,x=x+(B=cX(B^F,12))|0,F=F+(J=cX(J^x,8))|0,B=cX(B^F,7),G=G+(K=cX(K^(y=y+C|0),16))|0,y=y+(C=cX(C^G,12))|0,G=G+(K=cX(K^y,8))|0,C=cX(C^G,7),F=F+(K=cX(K^(v=v+A|0),16))|0,v=v+(A=cX(A^F,12))|0,F=F+(K=cX(K^v,8))|0,A=cX(A^F,7),G=G+(H=cX(H^(w=w+B|0),16))|0,w=w+(B=cX(B^G,12))|0,G=G+(H=cX(H^w,8))|0,B=cX(B^G,7),D=D+(I=cX(I^(x=x+C|0),16))|0,x=x+(C=cX(C^D,12))|0,D=D+(I=cX(I^x,8))|0,C=cX(C^D,7),E=E+(J=cX(J^(y=y+z|0),16))|0,y=y+(z=cX(z^E,12))|0,E=E+(J=cX(J^y,8))|0,z=cX(z^E,7);let L=0;d[L++]=g+v|0,d[L++]=h+w|0,d[L++]=i+x|0,d[L++]=j+y|0,d[L++]=k+z|0,d[L++]=l+A|0,d[L++]=m+B|0,d[L++]=n+C|0,d[L++]=o+D|0,d[L++]=p+E|0,d[L++]=q+F|0,d[L++]=r+G|0,d[L++]=e+H|0,d[L++]=s+I|0,d[L++]=t+J|0,d[L++]=u+K|0}let c4=c_(c3,{counterRight:!1,counterLength:4,allowShortKeys:!1}),c5=c_(c3,{counterRight:!1,counterLength:8,extendNonceFn:function(a,b,c,d){let e=a[0],f=a[1],g=a[2],h=a[3],i=b[0],j=b[1],k=b[2],l=b[3],m=b[4],n=b[5],o=b[6],p=b[7],q=c[0],r=c[1],s=c[2],t=c[3];for(let a=0;a<20;a+=2)m=m+(q=cX(q^(e=e+i|0),16))|0,e=e+(i=cX(i^m,12))|0,m=m+(q=cX(q^e,8))|0,i=cX(i^m,7),n=n+(r=cX(r^(f=f+j|0),16))|0,f=f+(j=cX(j^n,12))|0,n=n+(r=cX(r^f,8))|0,j=cX(j^n,7),o=o+(s=cX(s^(g=g+k|0),16))|0,g=g+(k=cX(k^o,12))|0,o=o+(s=cX(s^g,8))|0,k=cX(k^o,7),p=p+(t=cX(t^(h=h+l|0),16))|0,h=h+(l=cX(l^p,12))|0,p=p+(t=cX(t^h,8))|0,l=cX(l^p,7),o=o+(t=cX(t^(e=e+j|0),16))|0,e=e+(j=cX(j^o,12))|0,o=o+(t=cX(t^e,8))|0,j=cX(j^o,7),p=p+(q=cX(q^(f=f+k|0),16))|0,f=f+(k=cX(k^p,12))|0,p=p+(q=cX(q^f,8))|0,k=cX(k^p,7),m=m+(r=cX(r^(g=g+l|0),16))|0,g=g+(l=cX(l^m,12))|0,m=m+(r=cX(r^g,8))|0,l=cX(l^m,7),n=n+(s=cX(s^(h=h+i|0),16))|0,h=h+(i=cX(i^n,12))|0,n=n+(s=cX(s^h,8))|0,i=cX(i^n,7);let u=0;d[u++]=e,d[u++]=f,d[u++]=g,d[u++]=h,d[u++]=q,d[u++]=r,d[u++]=s,d[u++]=t},allowShortKeys:!1}),c6=new Uint8Array(16),c7=(a,b)=>{a.update(b);let c=b.length%16;c&&a.update(c6.subarray(c))},c8=new Uint8Array(32);function c9(a,b,c,d,e){var f,g;let h,i;void 0!==e&&cG(e,void 0,"AAD");let j=a(b,c,c8),k=(f=d.length,g=e?e.length:0,cE(!0),(i=new DataView((h=new Uint8Array(16)).buffer,h.byteOffset,h.byteLength)).setBigUint64(0,BigInt(g),!0),i.setBigUint64(8,BigInt(f),!0),h),l=c2.create(j);e&&c7(l,e),c7(l,d),l.update(k);let m=l.digest();return cJ(j,k),m}let da=a=>(b,c,d)=>({encrypt(e,f){let g=e.length;(f=cO(g+16,f,!1)).set(e);let h=f.subarray(0,-16);a(b,c,h,h,1);let i=c9(a,b,c,h,d);return f.set(i,g),cJ(i),f},decrypt(e,f){f=cO(e.length-16,f,!1);let g=e.subarray(0,-16),h=e.subarray(-16),i=c9(a,b,c,g,d);if(!function(a,b){if(a.length!==b.length)return!1;let c=0;for(let d=0;d<a.length;d++)c|=a[d]^b[d];return 0===c}(h,i))throw Error("invalid tag");return f.set(e.subarray(0,-16)),a(b,c,f,f,1),cJ(i),f}});da(c4);let db=((a,b)=>{function c(d,...e){if(cG(d,void 0,"key"),!cK)throw Error("Non little-endian hardware is not yet supported");void 0!==a.nonceLength&&cG(e[0],a.varSizeNonce?void 0:a.nonceLength,"nonce");let f=a.tagLength;f&&void 0!==e[1]&&cG(e[1],void 0,"AAD");let g=b(d,...e),h=(a,b)=>{if(void 0!==b){if(2!==a)throw Error("cipher output not supported");cG(b,void 0,"output")}},i=!1;return{encrypt(a,b){if(i)throw Error("cannot encrypt() twice with same key + nonce");return i=!0,cG(a),h(g.encrypt.length,b),g.encrypt(a,b)},decrypt(a,b){if(cG(a),f&&a.length<f)throw Error('"ciphertext" expected length bigger than tagLength='+f);return h(g.decrypt.length,b),g.decrypt(a,b)}}}return Object.assign(c,a),c})({blockSize:64,nonceLength:24,tagLength:16},da(c5)),dc=async({key:a,data:b})=>{let c=await cD("SHA-256").digest(a),d=function(a){if("string"!=typeof a)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(a))}(b);var e=cR(db)(new Uint8Array(c)).encrypt(d);if(cG(e),cL)return e.toHex();let f="";for(let a=0;a<e.length;a++)f+=cM[e[a]];return f},dd=async({key:a,data:b})=>{let c=await cD("SHA-256").digest(a),d=function(a){if("string"!=typeof a)throw Error("hex string expected, got "+typeof a);if(cL)return Uint8Array.fromHex(a);let b=a.length,c=b/2;if(b%2)throw Error("hex string expected, got unpadded hex of length "+b);let d=new Uint8Array(c);for(let b=0,e=0;b<c;b++,e+=2){let c=cN(a.charCodeAt(e)),f=cN(a.charCodeAt(e+1));if(void 0===c||void 0===f)throw Error('hex string expected, got non-hex character "'+(a[e]+a[e+1])+'" at index '+e);d[b]=16*c+f}return d}(b),e=cR(db)(new Uint8Array(c));return new TextDecoder().decode(e.decrypt(d))};a.s(["ZodAny",()=>lR,"ZodArray",()=>l_,"ZodBase64",()=>lj,"ZodBase64URL",()=>ll,"ZodBigInt",()=>lG,"ZodBigIntFormat",()=>lI,"ZodBoolean",()=>lE,"ZodCIDRv4",()=>lf,"ZodCIDRv6",()=>lh,"ZodCUID",()=>k_,"ZodCUID2",()=>k1,"ZodCatch",()=>mM,"ZodCodec",()=>mS,"ZodCustom",()=>m2,"ZodCustomStringFormat",()=>lr,"ZodDate",()=>lZ,"ZodDefault",()=>mE,"ZodDiscriminatedUnion",()=>ma,"ZodE164",()=>ln,"ZodEmail",()=>kL,"ZodEmoji",()=>kX,"ZodEnum",()=>mo,"ZodExactOptional",()=>mz,"ZodFile",()=>mt,"ZodFunction",()=>m0,"ZodGUID",()=>kN,"ZodIPv4",()=>k9,"ZodIPv6",()=>ld,"ZodIntersection",()=>mc,"ZodJWT",()=>lp,"ZodKSUID",()=>k7,"ZodLazy",()=>mY,"ZodLiteral",()=>mr,"ZodMAC",()=>lb,"ZodMap",()=>mk,"ZodNaN",()=>mO,"ZodNanoID",()=>kZ,"ZodNever",()=>lV,"ZodNonOptional",()=>mI,"ZodNull",()=>lP,"ZodNullable",()=>mB,"ZodNumber",()=>lw,"ZodNumberFormat",()=>ly,"ZodObject",()=>l2,"ZodOptional",()=>mx,"ZodPipe",()=>mQ,"ZodPrefault",()=>mG,"ZodPromise",()=>m$,"ZodReadonly",()=>mU,"ZodRecord",()=>mg,"ZodSet",()=>mm,"ZodString",()=>kI,"ZodStringFormat",()=>kK,"ZodSuccess",()=>mK,"ZodSymbol",()=>lL,"ZodTemplateLiteral",()=>mW,"ZodTransform",()=>mv,"ZodTuple",()=>me,"ZodType",()=>kG,"ZodULID",()=>k3,"ZodURL",()=>kU,"ZodUUID",()=>kP,"ZodUndefined",()=>lN,"ZodUnion",()=>l6,"ZodUnknown",()=>lT,"ZodVoid",()=>lX,"ZodXID",()=>k5,"ZodXor",()=>l8,"_ZodString",()=>kH,"_default",()=>mF,"_function",()=>m1,"any",()=>lS,"array",()=>l0,"base64",()=>lk,"base64url",()=>lm,"bigint",()=>lH,"boolean",()=>lF,"catch",()=>mN,"check",()=>m3,"cidrv4",()=>lg,"cidrv6",()=>li,"codec",()=>mT,"cuid",()=>k0,"cuid2",()=>k2,"custom",()=>m4,"date",()=>l$,"describe",()=>m7,"discriminatedUnion",()=>mb,"e164",()=>lo,"email",()=>kM,"emoji",()=>kY,"enum",()=>mp,"exactOptional",()=>mA,"file",()=>mu,"float32",()=>lA,"float64",()=>lB,"function",()=>m1,"guid",()=>kO,"hash",()=>lv,"hex",()=>lu,"hostname",()=>lt,"httpUrl",()=>kW,"instanceof",()=>m9,"int",()=>lz,"int32",()=>lC,"int64",()=>lJ,"intersection",()=>md,"ipv4",()=>la,"ipv6",()=>le,"json",()=>nb,"jwt",()=>lq,"keyof",()=>l1,"ksuid",()=>k8,"lazy",()=>mZ,"literal",()=>ms,"looseObject",()=>l5,"looseRecord",()=>mj,"mac",()=>lc,"map",()=>ml,"meta",()=>m8,"nan",()=>mP,"nanoid",()=>k$,"nativeEnum",()=>mq,"never",()=>lW,"nonoptional",()=>mJ,"null",()=>lQ,"nullable",()=>mC,"nullish",()=>mD,"number",()=>lx,"object",()=>l3,"optional",()=>my,"partialRecord",()=>mi,"pipe",()=>mR,"prefault",()=>mH,"preprocess",()=>nc,"promise",()=>m_,"readonly",()=>mV,"record",()=>mh,"refine",()=>m5,"set",()=>mn,"strictObject",()=>l4,"string",()=>kJ,"stringFormat",()=>ls,"stringbool",()=>na,"success",()=>mL,"superRefine",()=>m6,"symbol",()=>lM,"templateLiteral",()=>mX,"transform",()=>mw,"tuple",()=>mf,"uint32",()=>lD,"uint64",()=>lK,"ulid",()=>k4,"undefined",()=>lO,"union",()=>l7,"unknown",()=>lU,"url",()=>kV,"uuid",()=>kQ,"uuidv4",()=>kR,"uuidv6",()=>kS,"uuidv7",()=>kT,"void",()=>lY,"xid",()=>k6,"xor",()=>l9],65261);let de=Object.freeze({status:"aborted"});function df(a,b,c){function d(c,d){if(c._zod||Object.defineProperty(c,"_zod",{value:{def:d,constr:g,traits:new Set},enumerable:!1}),c._zod.traits.has(a))return;c._zod.traits.add(a),b(c,d);let e=g.prototype,f=Object.keys(e);for(let a=0;a<f.length;a++){let b=f[a];b in c||(c[b]=e[b].bind(c))}}let e=c?.Parent??Object;class f extends e{}function g(a){var b;let e=c?.Parent?new f:this;for(let c of(d(e,a),(b=e._zod).deferred??(b.deferred=[]),e._zod.deferred))c();return e}return Object.defineProperty(f,"name",{value:a}),Object.defineProperty(g,"init",{value:d}),Object.defineProperty(g,Symbol.hasInstance,{value:b=>!!c?.Parent&&b instanceof c.Parent||b?._zod?.traits?.has(a)}),Object.defineProperty(g,"name",{value:a}),g}let dg=Symbol("zod_brand");class dh extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class di extends Error{constructor(a){super(`Encountered unidirectional transform during encode: ${a}`),this.name="ZodEncodeError"}}let dj={};function dk(a){return a&&Object.assign(dj,a),dj}function dl(a){return a}function dm(a){return a}function dn(a){}function dp(a){throw Error("Unexpected value in exhaustive check")}function dq(a){}function dr(a){let b=Object.values(a).filter(a=>"number"==typeof a);return Object.entries(a).filter(([a,c])=>-1===b.indexOf(+a)).map(([a,b])=>b)}function ds(a,b="|"){return a.map(a=>dV(a)).join(b)}function dt(a,b){return"bigint"==typeof b?b.toString():b}function du(a){return{get value(){{let b=a();return Object.defineProperty(this,"value",{value:b}),b}}}}function dv(a){return null==a}function dw(a){let b=+!!a.startsWith("^"),c=a.endsWith("$")?a.length-1:a.length;return a.slice(b,c)}function dx(a,b){let c=(a.toString().split(".")[1]||"").length,d=b.toString(),e=(d.split(".")[1]||"").length;if(0===e&&/\d?e-\d?/.test(d)){let a=d.match(/\d?e-(\d?)/);a?.[1]&&(e=Number.parseInt(a[1]))}let f=c>e?c:e;return Number.parseInt(a.toFixed(f).replace(".",""))%Number.parseInt(b.toFixed(f).replace(".",""))/10**f}a.s(["$ZodAsyncError",()=>dh,"$ZodEncodeError",()=>di,"$brand",0,dg,"$constructor",()=>df,"NEVER",0,de,"config",()=>dk,"globalConfig",0,dj],52435);let dy=Symbol("evaluating");function dz(a,b,c){let d;Object.defineProperty(a,b,{get(){if(d!==dy)return void 0===d&&(d=dy,d=c()),d},set(c){Object.defineProperty(a,b,{value:c})},configurable:!0})}function dA(a){return Object.create(Object.getPrototypeOf(a),Object.getOwnPropertyDescriptors(a))}function dB(a,b,c){Object.defineProperty(a,b,{value:c,writable:!0,enumerable:!0,configurable:!0})}function dC(...a){let b={};for(let c of a)Object.assign(b,Object.getOwnPropertyDescriptors(c));return Object.defineProperties({},b)}function dD(a){return dC(a._zod.def)}function dE(a,b){return b?b.reduce((a,b)=>a?.[b],a):a}function dF(a){let b=Object.keys(a);return Promise.all(b.map(b=>a[b])).then(a=>{let c={};for(let d=0;d<b.length;d++)c[b[d]]=a[d];return c})}function dG(a=10){let b="abcdefghijklmnopqrstuvwxyz",c="";for(let d=0;d<a;d++)c+=b[Math.floor(Math.random()*b.length)];return c}function dH(a){return JSON.stringify(a)}function dI(a){return a.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}let dJ="captureStackTrace"in Error?Error.captureStackTrace:(...a)=>{};function dK(a){return"object"==typeof a&&null!==a&&!Array.isArray(a)}let dL=du(()=>{if("undefined"!=typeof navigator&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{return Function(""),!0}catch(a){return!1}});function dM(a){if(!1===dK(a))return!1;let b=a.constructor;if(void 0===b||"function"!=typeof b)return!0;let c=b.prototype;return!1!==dK(c)&&!1!==Object.prototype.hasOwnProperty.call(c,"isPrototypeOf")}function dN(a){return dM(a)?{...a}:Array.isArray(a)?[...a]:a}function dO(a){let b=0;for(let c in a)Object.prototype.hasOwnProperty.call(a,c)&&b++;return b}let dP=new Set(["string","number","symbol"]),dQ=new Set(["string","number","bigint","boolean","symbol","undefined"]);function dR(a){return a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function dS(a,b,c){let d=new a._zod.constr(b??a._zod.def);return(!b||c?.parent)&&(d._zod.parent=a),d}function dT(a){if(!a)return{};if("string"==typeof a)return{error:()=>a};if(a?.message!==void 0){if(a?.error!==void 0)throw Error("Cannot specify both `message` and `error` params");a.error=a.message}return(delete a.message,"string"==typeof a.error)?{...a,error:()=>a.error}:a}function dU(a){let b;return new Proxy({},{get:(c,d,e)=>(b??(b=a()),Reflect.get(b,d,e)),set:(c,d,e,f)=>(b??(b=a()),Reflect.set(b,d,e,f)),has:(c,d)=>(b??(b=a()),Reflect.has(b,d)),deleteProperty:(c,d)=>(b??(b=a()),Reflect.deleteProperty(b,d)),ownKeys:c=>(b??(b=a()),Reflect.ownKeys(b)),getOwnPropertyDescriptor:(c,d)=>(b??(b=a()),Reflect.getOwnPropertyDescriptor(b,d)),defineProperty:(c,d,e)=>(b??(b=a()),Reflect.defineProperty(b,d,e))})}function dV(a){return"bigint"==typeof a?a.toString()+"n":"string"==typeof a?`"${a}"`:`${a}`}function dW(a){return Object.keys(a).filter(b=>"optional"===a[b]._zod.optin&&"optional"===a[b]._zod.optout)}let dX={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-0x80000000,0x7fffffff],uint32:[0,0xffffffff],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},dY={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function dZ(a,b){let c=a._zod.def,d=c.checks;if(d&&d.length>0)throw Error(".pick() cannot be used on object schemas containing refinements");let e=dC(a._zod.def,{get shape(){let a={};for(let d in b){if(!(d in c.shape))throw Error(`Unrecognized key: "${d}"`);b[d]&&(a[d]=c.shape[d])}return dB(this,"shape",a),a},checks:[]});return dS(a,e)}function d$(a,b){let c=a._zod.def,d=c.checks;if(d&&d.length>0)throw Error(".omit() cannot be used on object schemas containing refinements");let e=dC(a._zod.def,{get shape(){let d={...a._zod.def.shape};for(let a in b){if(!(a in c.shape))throw Error(`Unrecognized key: "${a}"`);b[a]&&delete d[a]}return dB(this,"shape",d),d},checks:[]});return dS(a,e)}function d_(a,b){if(!dM(b))throw Error("Invalid input to extend: expected a plain object");let c=a._zod.def.checks;if(c&&c.length>0){let c=a._zod.def.shape;for(let a in b)if(void 0!==Object.getOwnPropertyDescriptor(c,a))throw Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}let d=dC(a._zod.def,{get shape(){let c={...a._zod.def.shape,...b};return dB(this,"shape",c),c}});return dS(a,d)}function d0(a,b){if(!dM(b))throw Error("Invalid input to safeExtend: expected a plain object");let c=dC(a._zod.def,{get shape(){let c={...a._zod.def.shape,...b};return dB(this,"shape",c),c}});return dS(a,c)}function d1(a,b){let c=dC(a._zod.def,{get shape(){let c={...a._zod.def.shape,...b._zod.def.shape};return dB(this,"shape",c),c},get catchall(){return b._zod.def.catchall},checks:[]});return dS(a,c)}function d2(a,b,c){let d=b._zod.def.checks;if(d&&d.length>0)throw Error(".partial() cannot be used on object schemas containing refinements");let e=dC(b._zod.def,{get shape(){let d=b._zod.def.shape,e={...d};if(c)for(let b in c){if(!(b in d))throw Error(`Unrecognized key: "${b}"`);c[b]&&(e[b]=a?new a({type:"optional",innerType:d[b]}):d[b])}else for(let b in d)e[b]=a?new a({type:"optional",innerType:d[b]}):d[b];return dB(this,"shape",e),e},checks:[]});return dS(b,e)}function d3(a,b,c){let d=dC(b._zod.def,{get shape(){let d=b._zod.def.shape,e={...d};if(c)for(let b in c){if(!(b in e))throw Error(`Unrecognized key: "${b}"`);c[b]&&(e[b]=new a({type:"nonoptional",innerType:d[b]}))}else for(let b in d)e[b]=new a({type:"nonoptional",innerType:d[b]});return dB(this,"shape",e),e}});return dS(b,d)}function d4(a,b=0){if(!0===a.aborted)return!0;for(let c=b;c<a.issues.length;c++)if(a.issues[c]?.continue!==!0)return!0;return!1}function d5(a,b){return b.map(b=>(b.path??(b.path=[]),b.path.unshift(a),b))}function d6(a){return"string"==typeof a?a:a?.message}function d7(a,b,c){let d={...a,path:a.path??[]};return a.message||(d.message=d6(a.inst?._zod.def?.error?.(a))??d6(b?.error?.(a))??d6(c.customError?.(a))??d6(c.localeError?.(a))??"Invalid input"),delete d.inst,delete d.continue,b?.reportInput||delete d.input,d}function d8(a){return a instanceof Set?"set":a instanceof Map?"map":a instanceof File?"file":"unknown"}function d9(a){return Array.isArray(a)?"array":"string"==typeof a?"string":"unknown"}function ea(a){let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"nan":"number";case"object":if(null===a)return"null";if(Array.isArray(a))return"array";if(a&&Object.getPrototypeOf(a)!==Object.prototype&&"constructor"in a&&a.constructor)return a.constructor.name}return b}function eb(...a){let[b,c,d]=a;return"string"==typeof b?{message:b,code:"custom",input:c,inst:d}:{...b}}function ec(a){return Object.entries(a).filter(([a,b])=>Number.isNaN(Number.parseInt(a,10))).map(a=>a[1])}function ed(a){let b=atob(a),c=new Uint8Array(b.length);for(let a=0;a<b.length;a++)c[a]=b.charCodeAt(a);return c}function ee(a){let b="";for(let c=0;c<a.length;c++)b+=String.fromCharCode(a[c]);return btoa(b)}function ef(a){let b=a.replace(/-/g,"+").replace(/_/g,"/"),c="=".repeat((4-b.length%4)%4);return ed(b+c)}function eg(a){return ee(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function eh(a){let b=a.replace(/^0x/,"");if(b.length%2!=0)throw Error("Invalid hex string length");let c=new Uint8Array(b.length/2);for(let a=0;a<b.length;a+=2)c[a/2]=Number.parseInt(b.slice(a,a+2),16);return c}function ei(a){return Array.from(a).map(a=>a.toString(16).padStart(2,"0")).join("")}class ej{constructor(...a){}}a.s(["BIGINT_FORMAT_RANGES",0,dY,"Class",()=>ej,"NUMBER_FORMAT_RANGES",0,dX,"aborted",()=>d4,"allowsEval",0,dL,"assert",()=>dq,"assertEqual",()=>dl,"assertIs",()=>dn,"assertNever",()=>dp,"assertNotEqual",()=>dm,"assignProp",()=>dB,"base64ToUint8Array",()=>ed,"base64urlToUint8Array",()=>ef,"cached",()=>du,"captureStackTrace",0,dJ,"cleanEnum",()=>ec,"cleanRegex",()=>dw,"clone",()=>dS,"cloneDef",()=>dD,"createTransparentProxy",()=>dU,"defineLazy",()=>dz,"esc",()=>dH,"escapeRegex",()=>dR,"extend",()=>d_,"finalizeIssue",()=>d7,"floatSafeRemainder",()=>dx,"getElementAtPath",()=>dE,"getEnumValues",()=>dr,"getLengthableOrigin",()=>d9,"getParsedType",0,a=>{let b=typeof a;switch(b){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(a)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":if(Array.isArray(a))return"array";if(null===a)return"null";if(a.then&&"function"==typeof a.then&&a.catch&&"function"==typeof a.catch)return"promise";if("undefined"!=typeof Map&&a instanceof Map)return"map";if("undefined"!=typeof Set&&a instanceof Set)return"set";if("undefined"!=typeof Date&&a instanceof Date)return"date";if("undefined"!=typeof File&&a instanceof File)return"file";return"object";default:throw Error(`Unknown data type: ${b}`)}},"getSizableOrigin",()=>d8,"hexToUint8Array",()=>eh,"isObject",()=>dK,"isPlainObject",()=>dM,"issue",()=>eb,"joinValues",()=>ds,"jsonStringifyReplacer",()=>dt,"merge",()=>d1,"mergeDefs",()=>dC,"normalizeParams",()=>dT,"nullish",()=>dv,"numKeys",()=>dO,"objectClone",()=>dA,"omit",()=>d$,"optionalKeys",()=>dW,"parsedType",()=>ea,"partial",()=>d2,"pick",()=>dZ,"prefixIssues",()=>d5,"primitiveTypes",0,dQ,"promiseAllObject",()=>dF,"propertyKeyTypes",0,dP,"randomString",()=>dG,"required",()=>d3,"safeExtend",()=>d0,"shallowClone",()=>dN,"slugify",()=>dI,"stringifyPrimitive",()=>dV,"uint8ArrayToBase64",()=>ee,"uint8ArrayToBase64url",()=>eg,"uint8ArrayToHex",()=>ei,"unwrapMessage",()=>d6],83745);let ek=(a,b)=>{a.name="$ZodError",Object.defineProperty(a,"_zod",{value:a._zod,enumerable:!1}),Object.defineProperty(a,"issues",{value:b,enumerable:!1}),a.message=JSON.stringify(b,dt,2),Object.defineProperty(a,"toString",{value:()=>a.message,enumerable:!1})},el=df("$ZodError",ek),em=df("$ZodError",ek,{Parent:Error});function en(a,b=a=>a.message){let c={},d=[];for(let e of a.issues)e.path.length>0?(c[e.path[0]]=c[e.path[0]]||[],c[e.path[0]].push(b(e))):d.push(b(e));return{formErrors:d,fieldErrors:c}}function eo(a,b=a=>a.message){let c={_errors:[]},d=a=>{for(let e of a.issues)if("invalid_union"===e.code&&e.errors.length)e.errors.map(a=>d({issues:a}));else if("invalid_key"===e.code)d({issues:e.issues});else if("invalid_element"===e.code)d({issues:e.issues});else if(0===e.path.length)c._errors.push(b(e));else{let a=c,d=0;for(;d<e.path.length;){let c=e.path[d];d===e.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(b(e))):a[c]=a[c]||{_errors:[]},a=a[c],d++}}};return d(a),c}function ep(a,b=a=>a.message){let c={errors:[]},d=(a,e=[])=>{var f,g;for(let h of a.issues)if("invalid_union"===h.code&&h.errors.length)h.errors.map(a=>d({issues:a},h.path));else if("invalid_key"===h.code)d({issues:h.issues},h.path);else if("invalid_element"===h.code)d({issues:h.issues},h.path);else{let a=[...e,...h.path];if(0===a.length){c.errors.push(b(h));continue}let d=c,i=0;for(;i<a.length;){let c=a[i],e=i===a.length-1;"string"==typeof c?(d.properties??(d.properties={}),(f=d.properties)[c]??(f[c]={errors:[]}),d=d.properties[c]):(d.items??(d.items=[]),(g=d.items)[c]??(g[c]={errors:[]}),d=d.items[c]),e&&d.errors.push(b(h)),i++}}};return d(a),c}function eq(a){let b=[];for(let c of a.map(a=>"object"==typeof a?a.key:a))"number"==typeof c?b.push(`[${c}]`):"symbol"==typeof c?b.push(`[${JSON.stringify(String(c))}]`):/[^\w$]/.test(c)?b.push(`[${JSON.stringify(c)}]`):(b.length&&b.push("."),b.push(c));return b.join("")}function er(a){let b=[];for(let c of[...a.issues].sort((a,b)=>(a.path??[]).length-(b.path??[]).length))b.push(` ${c.message}`),c.path?.length&&b.push(`   at ${eq(c.path)}`);return b.join("\n")}a.s(["$ZodError",0,el,"$ZodRealError",0,em,"flattenError",()=>en,"formatError",()=>eo,"prettifyError",()=>er,"toDotPath",()=>eq,"treeifyError",()=>ep],83916);let es=a=>(b,c,d,e)=>{let f=d?Object.assign(d,{async:!1}):{async:!1},g=b._zod.run({value:c,issues:[]},f);if(g instanceof Promise)throw new dh;if(g.issues.length){let b=new(e?.Err??a)(g.issues.map(a=>d7(a,f,dk())));throw dJ(b,e?.callee),b}return g.value},et=es(em),eu=a=>async(b,c,d,e)=>{let f=d?Object.assign(d,{async:!0}):{async:!0},g=b._zod.run({value:c,issues:[]},f);if(g instanceof Promise&&(g=await g),g.issues.length){let b=new(e?.Err??a)(g.issues.map(a=>d7(a,f,dk())));throw dJ(b,e?.callee),b}return g.value},ev=eu(em),ew=a=>(b,c,d)=>{let e=d?{...d,async:!1}:{async:!1},f=b._zod.run({value:c,issues:[]},e);if(f instanceof Promise)throw new dh;return f.issues.length?{success:!1,error:new(a??el)(f.issues.map(a=>d7(a,e,dk())))}:{success:!0,data:f.value}},ex=ew(em),ey=a=>async(b,c,d)=>{let e=d?Object.assign(d,{async:!0}):{async:!0},f=b._zod.run({value:c,issues:[]},e);return f instanceof Promise&&(f=await f),f.issues.length?{success:!1,error:new a(f.issues.map(a=>d7(a,e,dk())))}:{success:!0,data:f.value}},ez=ey(em),eA=a=>(b,c,d)=>{let e=d?Object.assign(d,{direction:"backward"}):{direction:"backward"};return es(a)(b,c,e)},eB=eA(em),eC=a=>(b,c,d)=>es(a)(b,c,d),eD=eC(em),eE=a=>async(b,c,d)=>{let e=d?Object.assign(d,{direction:"backward"}):{direction:"backward"};return eu(a)(b,c,e)},eF=eE(em),eG=a=>async(b,c,d)=>eu(a)(b,c,d),eH=eG(em),eI=a=>(b,c,d)=>{let e=d?Object.assign(d,{direction:"backward"}):{direction:"backward"};return ew(a)(b,c,e)},eJ=eI(em),eK=a=>(b,c,d)=>ew(a)(b,c,d),eL=eK(em),eM=a=>async(b,c,d)=>{let e=d?Object.assign(d,{direction:"backward"}):{direction:"backward"};return ey(a)(b,c,e)},eN=eM(em),eO=a=>async(b,c,d)=>ey(a)(b,c,d),eP=eO(em);a.s(["_decode",0,eC,"_decodeAsync",0,eG,"_encode",0,eA,"_encodeAsync",0,eE,"_parse",0,es,"_parseAsync",0,eu,"_safeDecode",0,eK,"_safeDecodeAsync",0,eO,"_safeEncode",0,eI,"_safeEncodeAsync",0,eM,"_safeParse",0,ew,"_safeParseAsync",0,ey,"decode",0,eD,"decodeAsync",0,eH,"encode",0,eB,"encodeAsync",0,eF,"parse",0,et,"parseAsync",0,ev,"safeDecode",0,eL,"safeDecodeAsync",0,eP,"safeEncode",0,eJ,"safeEncodeAsync",0,eN,"safeParse",0,ex,"safeParseAsync",0,ez],92099);let eQ=/^[cC][^\s-]{8,}$/,eR=/^[0-9a-z]+$/,eS=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,eT=/^[0-9a-vA-V]{20}$/,eU=/^[A-Za-z0-9]{27}$/,eV=/^[a-zA-Z0-9_-]{21}$/,eW=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,eX=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,eY=a=>a?RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${a}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,eZ=eY(4),e$=eY(6),e_=eY(7),e0=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,e1=/^[^\s@"]{1,64}@[^\s@]{1,255}$/u;function e2(){return RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")}let e3=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,e4=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,e5=a=>{let b=dR(a??":");return RegExp(`^(?:[0-9A-F]{2}${b}){5}[0-9A-F]{2}$|^(?:[0-9a-f]{2}${b}){5}[0-9a-f]{2}$`)},e6=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,e7=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,e8=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,e9=/^[A-Za-z0-9_-]*$/,fa=/^\+[1-9]\d{6,14}$/,fb="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",fc=RegExp(`^${fb}$`);function fd(a){let b="(?:[01]\\d|2[0-3]):[0-5]\\d";return"number"==typeof a.precision?-1===a.precision?`${b}`:0===a.precision?`${b}:[0-5]\\d`:`${b}:[0-5]\\d\\.\\d{${a.precision}}`:`${b}(?::[0-5]\\d(?:\\.\\d+)?)?`}function fe(a){return RegExp(`^${fd(a)}$`)}function ff(a){let b=fd({precision:a.precision}),c=["Z"];a.local&&c.push(""),a.offset&&c.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");let d=`${b}(?:${c.join("|")})`;return RegExp(`^${fb}T(?:${d})$`)}let fg=a=>{let b=a?`[\\s\\S]{${a?.minimum??0},${a?.maximum??""}}`:"[\\s\\S]*";return RegExp(`^${b}$`)},fh=/^-?\d+n?$/,fi=/^-?\d+$/,fj=/^-?\d+(?:\.\d+)?$/,fk=/^(?:true|false)$/i,fl=/^null$/i,fm=/^undefined$/i,fn=/^[^A-Z]*$/,fo=/^[^a-z]*$/;function fp(a,b){return RegExp(`^[A-Za-z0-9+/]{${a}}${b}$`)}function fq(a){return RegExp(`^[A-Za-z0-9_-]{${a}}$`)}let fr=fp(22,"=="),fs=fq(22),ft=fp(27,"="),fu=fq(27),fv=fp(43,"="),fw=fq(43),fx=fp(64,""),fy=fq(64),fz=fp(86,"=="),fA=fq(86);a.s(["base64",0,e8,"base64url",0,e9,"bigint",0,fh,"boolean",0,fk,"browserEmail",0,/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,"cidrv4",0,e6,"cidrv6",0,e7,"cuid",0,eQ,"cuid2",0,eR,"date",0,fc,"datetime",()=>ff,"domain",0,/^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,"duration",0,eW,"e164",0,fa,"email",0,e0,"emoji",()=>e2,"extendedDuration",0,/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,"guid",0,eX,"hex",0,/^[0-9a-fA-F]*$/,"hostname",0,/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,"html5Email",0,/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,"idnEmail",0,e1,"integer",0,fi,"ipv4",0,e3,"ipv6",0,e4,"ksuid",0,eU,"lowercase",0,fn,"mac",0,e5,"md5_base64",0,fr,"md5_base64url",0,fs,"md5_hex",0,/^[0-9a-fA-F]{32}$/,"nanoid",0,eV,"null",()=>fl,"number",0,fj,"rfc5322Email",0,/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,"sha1_base64",0,ft,"sha1_base64url",0,fu,"sha1_hex",0,/^[0-9a-fA-F]{40}$/,"sha256_base64",0,fv,"sha256_base64url",0,fw,"sha256_hex",0,/^[0-9a-fA-F]{64}$/,"sha384_base64",0,fx,"sha384_base64url",0,fy,"sha384_hex",0,/^[0-9a-fA-F]{96}$/,"sha512_base64",0,fz,"sha512_base64url",0,fA,"sha512_hex",0,/^[0-9a-fA-F]{128}$/,"string",0,fg,"time",()=>fe,"ulid",0,eS,"undefined",()=>fm,"unicodeEmail",0,e1,"uppercase",0,fo,"uuid",0,eY,"uuid4",0,eZ,"uuid6",0,e$,"uuid7",0,e_,"xid",0,eT],89859);let fB=df("$ZodCheck",(a,b)=>{var c;a._zod??(a._zod={}),a._zod.def=b,(c=a._zod).onattach??(c.onattach=[])}),fC={number:"number",bigint:"bigint",object:"date"},fD=df("$ZodCheckLessThan",(a,b)=>{fB.init(a,b);let c=fC[typeof b.value];a._zod.onattach.push(a=>{let c=a._zod.bag,d=(b.inclusive?c.maximum:c.exclusiveMaximum)??1/0;b.value<d&&(b.inclusive?c.maximum=b.value:c.exclusiveMaximum=b.value)}),a._zod.check=d=>{(b.inclusive?d.value<=b.value:d.value<b.value)||d.issues.push({origin:c,code:"too_big",maximum:"object"==typeof b.value?b.value.getTime():b.value,input:d.value,inclusive:b.inclusive,inst:a,continue:!b.abort})}}),fE=df("$ZodCheckGreaterThan",(a,b)=>{fB.init(a,b);let c=fC[typeof b.value];a._zod.onattach.push(a=>{let c=a._zod.bag,d=(b.inclusive?c.minimum:c.exclusiveMinimum)??-1/0;b.value>d&&(b.inclusive?c.minimum=b.value:c.exclusiveMinimum=b.value)}),a._zod.check=d=>{(b.inclusive?d.value>=b.value:d.value>b.value)||d.issues.push({origin:c,code:"too_small",minimum:"object"==typeof b.value?b.value.getTime():b.value,input:d.value,inclusive:b.inclusive,inst:a,continue:!b.abort})}}),fF=df("$ZodCheckMultipleOf",(a,b)=>{fB.init(a,b),a._zod.onattach.push(a=>{var c;(c=a._zod.bag).multipleOf??(c.multipleOf=b.value)}),a._zod.check=c=>{if(typeof c.value!=typeof b.value)throw Error("Cannot mix number and bigint in multiple_of check.");("bigint"==typeof c.value?c.value%b.value===BigInt(0):0===dx(c.value,b.value))||c.issues.push({origin:typeof c.value,code:"not_multiple_of",divisor:b.value,input:c.value,inst:a,continue:!b.abort})}}),fG=df("$ZodCheckNumberFormat",(a,b)=>{fB.init(a,b),b.format=b.format||"float64";let c=b.format?.includes("int"),d=c?"int":"number",[e,f]=dX[b.format];a._zod.onattach.push(a=>{let d=a._zod.bag;d.format=b.format,d.minimum=e,d.maximum=f,c&&(d.pattern=fi)}),a._zod.check=g=>{let h=g.value;if(c){if(!Number.isInteger(h))return void g.issues.push({expected:d,format:b.format,code:"invalid_type",continue:!1,input:h,inst:a});if(!Number.isSafeInteger(h))return void(h>0?g.issues.push({input:h,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:a,origin:d,inclusive:!0,continue:!b.abort}):g.issues.push({input:h,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:a,origin:d,inclusive:!0,continue:!b.abort}))}h<e&&g.issues.push({origin:"number",input:h,code:"too_small",minimum:e,inclusive:!0,inst:a,continue:!b.abort}),h>f&&g.issues.push({origin:"number",input:h,code:"too_big",maximum:f,inclusive:!0,inst:a,continue:!b.abort})}}),fH=df("$ZodCheckBigIntFormat",(a,b)=>{fB.init(a,b);let[c,d]=dY[b.format];a._zod.onattach.push(a=>{let e=a._zod.bag;e.format=b.format,e.minimum=c,e.maximum=d}),a._zod.check=e=>{let f=e.value;f<c&&e.issues.push({origin:"bigint",input:f,code:"too_small",minimum:c,inclusive:!0,inst:a,continue:!b.abort}),f>d&&e.issues.push({origin:"bigint",input:f,code:"too_big",maximum:d,inclusive:!0,inst:a,continue:!b.abort})}}),fI=df("$ZodCheckMaxSize",(a,b)=>{var c;fB.init(a,b),(c=a._zod.def).when??(c.when=a=>{let b=a.value;return!dv(b)&&void 0!==b.size}),a._zod.onattach.push(a=>{let c=a._zod.bag.maximum??1/0;b.maximum<c&&(a._zod.bag.maximum=b.maximum)}),a._zod.check=c=>{let d=c.value;d.size<=b.maximum||c.issues.push({origin:d8(d),code:"too_big",maximum:b.maximum,inclusive:!0,input:d,inst:a,continue:!b.abort})}}),fJ=df("$ZodCheckMinSize",(a,b)=>{var c;fB.init(a,b),(c=a._zod.def).when??(c.when=a=>{let b=a.value;return!dv(b)&&void 0!==b.size}),a._zod.onattach.push(a=>{let c=a._zod.bag.minimum??-1/0;b.minimum>c&&(a._zod.bag.minimum=b.minimum)}),a._zod.check=c=>{let d=c.value;d.size>=b.minimum||c.issues.push({origin:d8(d),code:"too_small",minimum:b.minimum,inclusive:!0,input:d,inst:a,continue:!b.abort})}}),fK=df("$ZodCheckSizeEquals",(a,b)=>{var c;fB.init(a,b),(c=a._zod.def).when??(c.when=a=>{let b=a.value;return!dv(b)&&void 0!==b.size}),a._zod.onattach.push(a=>{let c=a._zod.bag;c.minimum=b.size,c.maximum=b.size,c.size=b.size}),a._zod.check=c=>{let d=c.value,e=d.size;if(e===b.size)return;let f=e>b.size;c.issues.push({origin:d8(d),...f?{code:"too_big",maximum:b.size}:{code:"too_small",minimum:b.size},inclusive:!0,exact:!0,input:c.value,inst:a,continue:!b.abort})}}),fL=df("$ZodCheckMaxLength",(a,b)=>{var c;fB.init(a,b),(c=a._zod.def).when??(c.when=a=>{let b=a.value;return!dv(b)&&void 0!==b.length}),a._zod.onattach.push(a=>{let c=a._zod.bag.maximum??1/0;b.maximum<c&&(a._zod.bag.maximum=b.maximum)}),a._zod.check=c=>{let d=c.value;if(d.length<=b.maximum)return;let e=d9(d);c.issues.push({origin:e,code:"too_big",maximum:b.maximum,inclusive:!0,input:d,inst:a,continue:!b.abort})}}),fM=df("$ZodCheckMinLength",(a,b)=>{var c;fB.init(a,b),(c=a._zod.def).when??(c.when=a=>{let b=a.value;return!dv(b)&&void 0!==b.length}),a._zod.onattach.push(a=>{let c=a._zod.bag.minimum??-1/0;b.minimum>c&&(a._zod.bag.minimum=b.minimum)}),a._zod.check=c=>{let d=c.value;if(d.length>=b.minimum)return;let e=d9(d);c.issues.push({origin:e,code:"too_small",minimum:b.minimum,inclusive:!0,input:d,inst:a,continue:!b.abort})}}),fN=df("$ZodCheckLengthEquals",(a,b)=>{var c;fB.init(a,b),(c=a._zod.def).when??(c.when=a=>{let b=a.value;return!dv(b)&&void 0!==b.length}),a._zod.onattach.push(a=>{let c=a._zod.bag;c.minimum=b.length,c.maximum=b.length,c.length=b.length}),a._zod.check=c=>{let d=c.value,e=d.length;if(e===b.length)return;let f=d9(d),g=e>b.length;c.issues.push({origin:f,...g?{code:"too_big",maximum:b.length}:{code:"too_small",minimum:b.length},inclusive:!0,exact:!0,input:c.value,inst:a,continue:!b.abort})}}),fO=df("$ZodCheckStringFormat",(a,b)=>{var c,d;fB.init(a,b),a._zod.onattach.push(a=>{let c=a._zod.bag;c.format=b.format,b.pattern&&(c.patterns??(c.patterns=new Set),c.patterns.add(b.pattern))}),b.pattern?(c=a._zod).check??(c.check=c=>{b.pattern.lastIndex=0,b.pattern.test(c.value)||c.issues.push({origin:"string",code:"invalid_format",format:b.format,input:c.value,...b.pattern?{pattern:b.pattern.toString()}:{},inst:a,continue:!b.abort})}):(d=a._zod).check??(d.check=()=>{})}),fP=df("$ZodCheckRegex",(a,b)=>{fO.init(a,b),a._zod.check=c=>{b.pattern.lastIndex=0,b.pattern.test(c.value)||c.issues.push({origin:"string",code:"invalid_format",format:"regex",input:c.value,pattern:b.pattern.toString(),inst:a,continue:!b.abort})}}),fQ=df("$ZodCheckLowerCase",(a,b)=>{b.pattern??(b.pattern=fn),fO.init(a,b)}),fR=df("$ZodCheckUpperCase",(a,b)=>{b.pattern??(b.pattern=fo),fO.init(a,b)}),fS=df("$ZodCheckIncludes",(a,b)=>{fB.init(a,b);let c=dR(b.includes),d=new RegExp("number"==typeof b.position?`^.{${b.position}}${c}`:c);b.pattern=d,a._zod.onattach.push(a=>{let b=a._zod.bag;b.patterns??(b.patterns=new Set),b.patterns.add(d)}),a._zod.check=c=>{c.value.includes(b.includes,b.position)||c.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:b.includes,input:c.value,inst:a,continue:!b.abort})}}),fT=df("$ZodCheckStartsWith",(a,b)=>{fB.init(a,b);let c=RegExp(`^${dR(b.prefix)}.*`);b.pattern??(b.pattern=c),a._zod.onattach.push(a=>{let b=a._zod.bag;b.patterns??(b.patterns=new Set),b.patterns.add(c)}),a._zod.check=c=>{c.value.startsWith(b.prefix)||c.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:b.prefix,input:c.value,inst:a,continue:!b.abort})}}),fU=df("$ZodCheckEndsWith",(a,b)=>{fB.init(a,b);let c=RegExp(`.*${dR(b.suffix)}$`);b.pattern??(b.pattern=c),a._zod.onattach.push(a=>{let b=a._zod.bag;b.patterns??(b.patterns=new Set),b.patterns.add(c)}),a._zod.check=c=>{c.value.endsWith(b.suffix)||c.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:b.suffix,input:c.value,inst:a,continue:!b.abort})}});function fV(a,b,c){a.issues.length&&b.issues.push(...d5(c,a.issues))}let fW=df("$ZodCheckProperty",(a,b)=>{fB.init(a,b),a._zod.check=a=>{let c=b.schema._zod.run({value:a.value[b.property],issues:[]},{});if(c instanceof Promise)return c.then(c=>fV(c,a,b.property));fV(c,a,b.property)}}),fX=df("$ZodCheckMimeType",(a,b)=>{fB.init(a,b);let c=new Set(b.mime);a._zod.onattach.push(a=>{a._zod.bag.mime=b.mime}),a._zod.check=d=>{c.has(d.value.type)||d.issues.push({code:"invalid_value",values:b.mime,input:d.value.type,inst:a,continue:!b.abort})}}),fY=df("$ZodCheckOverwrite",(a,b)=>{fB.init(a,b),a._zod.check=a=>{a.value=b.tx(a.value)}});a.s(["$ZodCheck",0,fB,"$ZodCheckBigIntFormat",0,fH,"$ZodCheckEndsWith",0,fU,"$ZodCheckGreaterThan",0,fE,"$ZodCheckIncludes",0,fS,"$ZodCheckLengthEquals",0,fN,"$ZodCheckLessThan",0,fD,"$ZodCheckLowerCase",0,fQ,"$ZodCheckMaxLength",0,fL,"$ZodCheckMaxSize",0,fI,"$ZodCheckMimeType",0,fX,"$ZodCheckMinLength",0,fM,"$ZodCheckMinSize",0,fJ,"$ZodCheckMultipleOf",0,fF,"$ZodCheckNumberFormat",0,fG,"$ZodCheckOverwrite",0,fY,"$ZodCheckProperty",0,fW,"$ZodCheckRegex",0,fP,"$ZodCheckSizeEquals",0,fK,"$ZodCheckStartsWith",0,fT,"$ZodCheckStringFormat",0,fO,"$ZodCheckUpperCase",0,fR],93284);class fZ{constructor(a=[]){this.content=[],this.indent=0,this&&(this.args=a)}indented(a){this.indent+=1,a(this),this.indent-=1}write(a){if("function"==typeof a){a(this,{execution:"sync"}),a(this,{execution:"async"});return}let b=a.split("\n").filter(a=>a),c=Math.min(...b.map(a=>a.length-a.trimStart().length));for(let a of b.map(a=>a.slice(c)).map(a=>" ".repeat(2*this.indent)+a))this.content.push(a)}compile(){return Function(...this?.args,[...(this?.content??[""]).map(a=>`  ${a}`)].join("\n"))}}a.s(["Doc",()=>fZ],47613);let f$={major:4,minor:3,patch:5};a.s(["version",0,f$],83702);let f_=df("$ZodType",(a,b)=>{var c;a??(a={}),a._zod.def=b,a._zod.bag=a._zod.bag||{},a._zod.version=f$;let d=[...a._zod.def.checks??[]];for(let b of(a._zod.traits.has("$ZodCheck")&&d.unshift(a),d))for(let c of b._zod.onattach)c(a);if(0===d.length)(c=a._zod).deferred??(c.deferred=[]),a._zod.deferred?.push(()=>{a._zod.run=a._zod.parse});else{let b=(a,b,c)=>{let d,e=d4(a);for(let f of b){if(f._zod.def.when){if(!f._zod.def.when(a))continue}else if(e)continue;let b=a.issues.length,g=f._zod.check(a);if(g instanceof Promise&&c?.async===!1)throw new dh;if(d||g instanceof Promise)d=(d??Promise.resolve()).then(async()=>{await g,a.issues.length!==b&&(e||(e=d4(a,b)))});else{if(a.issues.length===b)continue;e||(e=d4(a,b))}}return d?d.then(()=>a):a},c=(c,e,f)=>{if(d4(c))return c.aborted=!0,c;let g=b(e,d,f);if(g instanceof Promise){if(!1===f.async)throw new dh;return g.then(b=>a._zod.parse(b,f))}return a._zod.parse(g,f)};a._zod.run=(e,f)=>{if(f.skipChecks)return a._zod.parse(e,f);if("backward"===f.direction){let b=a._zod.parse({value:e.value,issues:[]},{...f,skipChecks:!0});return b instanceof Promise?b.then(a=>c(a,e,f)):c(b,e,f)}let g=a._zod.parse(e,f);if(g instanceof Promise){if(!1===f.async)throw new dh;return g.then(a=>b(a,d,f))}return b(g,d,f)}}dz(a,"~standard",()=>({validate:b=>{try{let c=ex(a,b);return c.success?{value:c.data}:{issues:c.error?.issues}}catch(c){return ez(a,b).then(a=>a.success?{value:a.data}:{issues:a.error?.issues})}},vendor:"zod",version:1}))}),f0=df("$ZodString",(a,b)=>{f_.init(a,b),a._zod.pattern=[...a?._zod.bag?.patterns??[]].pop()??fg(a._zod.bag),a._zod.parse=(c,d)=>{if(b.coerce)try{c.value=String(c.value)}catch(a){}return"string"==typeof c.value||c.issues.push({expected:"string",code:"invalid_type",input:c.value,inst:a}),c}}),f1=df("$ZodStringFormat",(a,b)=>{fO.init(a,b),f0.init(a,b)}),f2=df("$ZodGUID",(a,b)=>{b.pattern??(b.pattern=eX),f1.init(a,b)}),f3=df("$ZodUUID",(a,b)=>{if(b.version){let a={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[b.version];if(void 0===a)throw Error(`Invalid UUID version: "${b.version}"`);b.pattern??(b.pattern=eY(a))}else b.pattern??(b.pattern=eY());f1.init(a,b)}),f4=df("$ZodEmail",(a,b)=>{b.pattern??(b.pattern=e0),f1.init(a,b)}),f5=df("$ZodURL",(a,b)=>{f1.init(a,b),a._zod.check=c=>{try{let d=c.value.trim(),e=new URL(d);b.hostname&&(b.hostname.lastIndex=0,b.hostname.test(e.hostname)||c.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:b.hostname.source,input:c.value,inst:a,continue:!b.abort})),b.protocol&&(b.protocol.lastIndex=0,b.protocol.test(e.protocol.endsWith(":")?e.protocol.slice(0,-1):e.protocol)||c.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:b.protocol.source,input:c.value,inst:a,continue:!b.abort})),b.normalize?c.value=e.href:c.value=d;return}catch(d){c.issues.push({code:"invalid_format",format:"url",input:c.value,inst:a,continue:!b.abort})}}}),f6=df("$ZodEmoji",(a,b)=>{b.pattern??(b.pattern=e2()),f1.init(a,b)}),f7=df("$ZodNanoID",(a,b)=>{b.pattern??(b.pattern=eV),f1.init(a,b)}),f8=df("$ZodCUID",(a,b)=>{b.pattern??(b.pattern=eQ),f1.init(a,b)}),f9=df("$ZodCUID2",(a,b)=>{b.pattern??(b.pattern=eR),f1.init(a,b)}),ga=df("$ZodULID",(a,b)=>{b.pattern??(b.pattern=eS),f1.init(a,b)}),gb=df("$ZodXID",(a,b)=>{b.pattern??(b.pattern=eT),f1.init(a,b)}),gc=df("$ZodKSUID",(a,b)=>{b.pattern??(b.pattern=eU),f1.init(a,b)}),gd=df("$ZodISODateTime",(a,b)=>{b.pattern??(b.pattern=ff(b)),f1.init(a,b)}),ge=df("$ZodISODate",(a,b)=>{b.pattern??(b.pattern=fc),f1.init(a,b)}),gf=df("$ZodISOTime",(a,b)=>{b.pattern??(b.pattern=fe(b)),f1.init(a,b)}),gg=df("$ZodISODuration",(a,b)=>{b.pattern??(b.pattern=eW),f1.init(a,b)}),gh=df("$ZodIPv4",(a,b)=>{b.pattern??(b.pattern=e3),f1.init(a,b),a._zod.bag.format="ipv4"}),gi=df("$ZodIPv6",(a,b)=>{b.pattern??(b.pattern=e4),f1.init(a,b),a._zod.bag.format="ipv6",a._zod.check=c=>{try{new URL(`http://[${c.value}]`)}catch{c.issues.push({code:"invalid_format",format:"ipv6",input:c.value,inst:a,continue:!b.abort})}}}),gj=df("$ZodMAC",(a,b)=>{b.pattern??(b.pattern=e5(b.delimiter)),f1.init(a,b),a._zod.bag.format="mac"}),gk=df("$ZodCIDRv4",(a,b)=>{b.pattern??(b.pattern=e6),f1.init(a,b)}),gl=df("$ZodCIDRv6",(a,b)=>{b.pattern??(b.pattern=e7),f1.init(a,b),a._zod.check=c=>{let d=c.value.split("/");try{if(2!==d.length)throw Error();let[a,b]=d;if(!b)throw Error();let c=Number(b);if(`${c}`!==b||c<0||c>128)throw Error();new URL(`http://[${a}]`)}catch{c.issues.push({code:"invalid_format",format:"cidrv6",input:c.value,inst:a,continue:!b.abort})}}});function gm(a){if(""===a)return!0;if(a.length%4!=0)return!1;try{return atob(a),!0}catch{return!1}}let gn=df("$ZodBase64",(a,b)=>{b.pattern??(b.pattern=e8),f1.init(a,b),a._zod.bag.contentEncoding="base64",a._zod.check=c=>{gm(c.value)||c.issues.push({code:"invalid_format",format:"base64",input:c.value,inst:a,continue:!b.abort})}});function go(a){if(!e9.test(a))return!1;let b=a.replace(/[-_]/g,a=>"-"===a?"+":"/");return gm(b.padEnd(4*Math.ceil(b.length/4),"="))}let gp=df("$ZodBase64URL",(a,b)=>{b.pattern??(b.pattern=e9),f1.init(a,b),a._zod.bag.contentEncoding="base64url",a._zod.check=c=>{go(c.value)||c.issues.push({code:"invalid_format",format:"base64url",input:c.value,inst:a,continue:!b.abort})}}),gq=df("$ZodE164",(a,b)=>{b.pattern??(b.pattern=fa),f1.init(a,b)});function gr(a,b=null){try{let c=a.split(".");if(3!==c.length)return!1;let[d]=c;if(!d)return!1;let e=JSON.parse(atob(d));if("typ"in e&&e?.typ!=="JWT"||!e.alg||b&&(!("alg"in e)||e.alg!==b))return!1;return!0}catch{return!1}}let gs=df("$ZodJWT",(a,b)=>{f1.init(a,b),a._zod.check=c=>{gr(c.value,b.alg)||c.issues.push({code:"invalid_format",format:"jwt",input:c.value,inst:a,continue:!b.abort})}}),gt=df("$ZodCustomStringFormat",(a,b)=>{f1.init(a,b),a._zod.check=c=>{b.fn(c.value)||c.issues.push({code:"invalid_format",format:b.format,input:c.value,inst:a,continue:!b.abort})}}),gu=df("$ZodNumber",(a,b)=>{f_.init(a,b),a._zod.pattern=a._zod.bag.pattern??fj,a._zod.parse=(c,d)=>{if(b.coerce)try{c.value=Number(c.value)}catch(a){}let e=c.value;if("number"==typeof e&&!Number.isNaN(e)&&Number.isFinite(e))return c;let f="number"==typeof e?Number.isNaN(e)?"NaN":Number.isFinite(e)?void 0:"Infinity":void 0;return c.issues.push({expected:"number",code:"invalid_type",input:e,inst:a,...f?{received:f}:{}}),c}}),gv=df("$ZodNumberFormat",(a,b)=>{fG.init(a,b),gu.init(a,b)}),gw=df("$ZodBoolean",(a,b)=>{f_.init(a,b),a._zod.pattern=fk,a._zod.parse=(c,d)=>{if(b.coerce)try{c.value=!!c.value}catch(a){}let e=c.value;return"boolean"==typeof e||c.issues.push({expected:"boolean",code:"invalid_type",input:e,inst:a}),c}}),gx=df("$ZodBigInt",(a,b)=>{f_.init(a,b),a._zod.pattern=fh,a._zod.parse=(c,d)=>{if(b.coerce)try{c.value=BigInt(c.value)}catch(a){}return"bigint"==typeof c.value||c.issues.push({expected:"bigint",code:"invalid_type",input:c.value,inst:a}),c}}),gy=df("$ZodBigIntFormat",(a,b)=>{fH.init(a,b),gx.init(a,b)}),gz=df("$ZodSymbol",(a,b)=>{f_.init(a,b),a._zod.parse=(b,c)=>{let d=b.value;return"symbol"==typeof d||b.issues.push({expected:"symbol",code:"invalid_type",input:d,inst:a}),b}}),gA=df("$ZodUndefined",(a,b)=>{f_.init(a,b),a._zod.pattern=fm,a._zod.values=new Set([void 0]),a._zod.optin="optional",a._zod.optout="optional",a._zod.parse=(b,c)=>{let d=b.value;return void 0===d||b.issues.push({expected:"undefined",code:"invalid_type",input:d,inst:a}),b}}),gB=df("$ZodNull",(a,b)=>{f_.init(a,b),a._zod.pattern=fl,a._zod.values=new Set([null]),a._zod.parse=(b,c)=>{let d=b.value;return null===d||b.issues.push({expected:"null",code:"invalid_type",input:d,inst:a}),b}}),gC=df("$ZodAny",(a,b)=>{f_.init(a,b),a._zod.parse=a=>a}),gD=df("$ZodUnknown",(a,b)=>{f_.init(a,b),a._zod.parse=a=>a}),gE=df("$ZodNever",(a,b)=>{f_.init(a,b),a._zod.parse=(b,c)=>(b.issues.push({expected:"never",code:"invalid_type",input:b.value,inst:a}),b)}),gF=df("$ZodVoid",(a,b)=>{f_.init(a,b),a._zod.parse=(b,c)=>{let d=b.value;return void 0===d||b.issues.push({expected:"void",code:"invalid_type",input:d,inst:a}),b}}),gG=df("$ZodDate",(a,b)=>{f_.init(a,b),a._zod.parse=(c,d)=>{if(b.coerce)try{c.value=new Date(c.value)}catch(a){}let e=c.value,f=e instanceof Date;return f&&!Number.isNaN(e.getTime())||c.issues.push({expected:"date",code:"invalid_type",input:e,...f?{received:"Invalid Date"}:{},inst:a}),c}});function gH(a,b,c){a.issues.length&&b.issues.push(...d5(c,a.issues)),b.value[c]=a.value}let gI=df("$ZodArray",(a,b)=>{f_.init(a,b),a._zod.parse=(c,d)=>{let e=c.value;if(!Array.isArray(e))return c.issues.push({expected:"array",code:"invalid_type",input:e,inst:a}),c;c.value=Array(e.length);let f=[];for(let a=0;a<e.length;a++){let g=e[a],h=b.element._zod.run({value:g,issues:[]},d);h instanceof Promise?f.push(h.then(b=>gH(b,c,a))):gH(h,c,a)}return f.length?Promise.all(f).then(()=>c):c}});function gJ(a,b,c,d,e){if(a.issues.length){if(e&&!(c in d))return;b.issues.push(...d5(c,a.issues))}void 0===a.value?c in d&&(b.value[c]=void 0):b.value[c]=a.value}function gK(a){let b=Object.keys(a.shape);for(let c of b)if(!a.shape?.[c]?._zod?.traits?.has("$ZodType"))throw Error(`Invalid element at key "${c}": expected a Zod schema`);let c=dW(a.shape);return{...a,keys:b,keySet:new Set(b),numKeys:b.length,optionalKeys:new Set(c)}}function gL(a,b,c,d,e,f){let g=[],h=e.keySet,i=e.catchall._zod,j=i.def.type,k="optional"===i.optout;for(let e in b){if(h.has(e))continue;if("never"===j){g.push(e);continue}let f=i.run({value:b[e],issues:[]},d);f instanceof Promise?a.push(f.then(a=>gJ(a,c,e,b,k))):gJ(f,c,e,b,k)}return(g.length&&c.issues.push({code:"unrecognized_keys",keys:g,input:b,inst:f}),a.length)?Promise.all(a).then(()=>c):c}let gM=df("$ZodObject",(a,b)=>{let c;f_.init(a,b);let d=Object.getOwnPropertyDescriptor(b,"shape");if(!d?.get){let a=b.shape;Object.defineProperty(b,"shape",{get:()=>{let c={...a};return Object.defineProperty(b,"shape",{value:c}),c}})}let e=du(()=>gK(b));dz(a._zod,"propValues",()=>{let a=b.shape,c={};for(let b in a){let d=a[b]._zod;if(d.values)for(let a of(c[b]??(c[b]=new Set),d.values))c[b].add(a)}return c});let f=b.catchall;a._zod.parse=(b,d)=>{c??(c=e.value);let g=b.value;if(!dK(g))return b.issues.push({expected:"object",code:"invalid_type",input:g,inst:a}),b;b.value={};let h=[],i=c.shape;for(let a of c.keys){let c=i[a],e="optional"===c._zod.optout,f=c._zod.run({value:g[a],issues:[]},d);f instanceof Promise?h.push(f.then(c=>gJ(c,b,a,g,e))):gJ(f,b,a,g,e)}return f?gL(h,g,b,d,e.value,a):h.length?Promise.all(h).then(()=>b):b}}),gN=df("$ZodObjectJIT",(a,b)=>{let c,d;gM.init(a,b);let e=a._zod.parse,f=du(()=>gK(b)),g=!dj.jitless,h=g&&dL.value,i=b.catchall;a._zod.parse=(j,k)=>{d??(d=f.value);let l=j.value;return dK(l)?g&&h&&k?.async===!1&&!0!==k.jitless?(c||(c=(a=>{let b=new fZ(["shape","payload","ctx"]),c=f.value,d=a=>{let b=dH(a);return`shape[${b}]._zod.run({ value: input[${b}], issues: [] }, ctx)`};b.write("const input = payload.value;");let e=Object.create(null),g=0;for(let a of c.keys)e[a]=`key_${g++}`;for(let f of(b.write("const newResult = {};"),c.keys)){let c=e[f],g=dH(f),h=a[f],i=h?._zod?.optout==="optional";b.write(`const ${c} = ${d(f)};`),i?b.write(`
        if (${c}.issues.length) {
          if (${g} in input) {
            payload.issues = payload.issues.concat(${c}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${g}, ...iss.path] : [${g}]
            })));
          }
        }
        
        if (${c}.value === undefined) {
          if (${g} in input) {
            newResult[${g}] = undefined;
          }
        } else {
          newResult[${g}] = ${c}.value;
        }
        
      `):b.write(`
        if (${c}.issues.length) {
          payload.issues = payload.issues.concat(${c}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${g}, ...iss.path] : [${g}]
          })));
        }
        
        if (${c}.value === undefined) {
          if (${g} in input) {
            newResult[${g}] = undefined;
          }
        } else {
          newResult[${g}] = ${c}.value;
        }
        
      `)}b.write("payload.value = newResult;"),b.write("return payload;");let h=b.compile();return(b,c)=>h(a,b,c)})(b.shape)),j=c(j,k),i)?gL([],l,j,k,d,a):j:e(j,k):(j.issues.push({expected:"object",code:"invalid_type",input:l,inst:a}),j)}});function gO(a,b,c,d){for(let c of a)if(0===c.issues.length)return b.value=c.value,b;let e=a.filter(a=>!d4(a));return 1===e.length?(b.value=e[0].value,e[0]):(b.issues.push({code:"invalid_union",input:b.value,inst:c,errors:a.map(a=>a.issues.map(a=>d7(a,d,dk())))}),b)}let gP=df("$ZodUnion",(a,b)=>{f_.init(a,b),dz(a._zod,"optin",()=>b.options.some(a=>"optional"===a._zod.optin)?"optional":void 0),dz(a._zod,"optout",()=>b.options.some(a=>"optional"===a._zod.optout)?"optional":void 0),dz(a._zod,"values",()=>{if(b.options.every(a=>a._zod.values))return new Set(b.options.flatMap(a=>Array.from(a._zod.values)))}),dz(a._zod,"pattern",()=>{if(b.options.every(a=>a._zod.pattern)){let a=b.options.map(a=>a._zod.pattern);return RegExp(`^(${a.map(a=>dw(a.source)).join("|")})$`)}});let c=1===b.options.length,d=b.options[0]._zod.run;a._zod.parse=(e,f)=>{if(c)return d(e,f);let g=!1,h=[];for(let a of b.options){let b=a._zod.run({value:e.value,issues:[]},f);if(b instanceof Promise)h.push(b),g=!0;else{if(0===b.issues.length)return b;h.push(b)}}return g?Promise.all(h).then(b=>gO(b,e,a,f)):gO(h,e,a,f)}});function gQ(a,b,c,d){let e=a.filter(a=>0===a.issues.length);return 1===e.length?b.value=e[0].value:0===e.length?b.issues.push({code:"invalid_union",input:b.value,inst:c,errors:a.map(a=>a.issues.map(a=>d7(a,d,dk())))}):b.issues.push({code:"invalid_union",input:b.value,inst:c,errors:[],inclusive:!1}),b}let gR=df("$ZodXor",(a,b)=>{gP.init(a,b),b.inclusive=!1;let c=1===b.options.length,d=b.options[0]._zod.run;a._zod.parse=(e,f)=>{if(c)return d(e,f);let g=!1,h=[];for(let a of b.options){let b=a._zod.run({value:e.value,issues:[]},f);b instanceof Promise?(h.push(b),g=!0):h.push(b)}return g?Promise.all(h).then(b=>gQ(b,e,a,f)):gQ(h,e,a,f)}}),gS=df("$ZodDiscriminatedUnion",(a,b)=>{b.inclusive=!1,gP.init(a,b);let c=a._zod.parse;dz(a._zod,"propValues",()=>{let a={};for(let c of b.options){let d=c._zod.propValues;if(!d||0===Object.keys(d).length)throw Error(`Invalid discriminated union option at index "${b.options.indexOf(c)}"`);for(let[b,c]of Object.entries(d))for(let d of(a[b]||(a[b]=new Set),c))a[b].add(d)}return a});let d=du(()=>{let a=b.options,c=new Map;for(let d of a){let a=d._zod.propValues?.[b.discriminator];if(!a||0===a.size)throw Error(`Invalid discriminated union option at index "${b.options.indexOf(d)}"`);for(let b of a){if(c.has(b))throw Error(`Duplicate discriminator value "${String(b)}"`);c.set(b,d)}}return c});a._zod.parse=(e,f)=>{let g=e.value;if(!dK(g))return e.issues.push({code:"invalid_type",expected:"object",input:g,inst:a}),e;let h=d.value.get(g?.[b.discriminator]);return h?h._zod.run(e,f):b.unionFallback?c(e,f):(e.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:b.discriminator,input:g,path:[b.discriminator],inst:a}),e)}}),gT=df("$ZodIntersection",(a,b)=>{f_.init(a,b),a._zod.parse=(a,c)=>{let d=a.value,e=b.left._zod.run({value:d,issues:[]},c),f=b.right._zod.run({value:d,issues:[]},c);return e instanceof Promise||f instanceof Promise?Promise.all([e,f]).then(([b,c])=>gU(a,b,c)):gU(a,e,f)}});function gU(a,b,c){let d,e=new Map;for(let c of b.issues)if("unrecognized_keys"===c.code)for(let a of(d??(d=c),c.keys))e.has(a)||e.set(a,{}),e.get(a).l=!0;else a.issues.push(c);for(let b of c.issues)if("unrecognized_keys"===b.code)for(let a of b.keys)e.has(a)||e.set(a,{}),e.get(a).r=!0;else a.issues.push(b);let f=[...e].filter(([,a])=>a.l&&a.r).map(([a])=>a);if(f.length&&d&&a.issues.push({...d,keys:f}),d4(a))return a;let g=function a(b,c){if(b===c||b instanceof Date&&c instanceof Date&&+b==+c)return{valid:!0,data:b};if(dM(b)&&dM(c)){let d=Object.keys(c),e=Object.keys(b).filter(a=>-1!==d.indexOf(a)),f={...b,...c};for(let d of e){let e=a(b[d],c[d]);if(!e.valid)return{valid:!1,mergeErrorPath:[d,...e.mergeErrorPath]};f[d]=e.data}return{valid:!0,data:f}}if(Array.isArray(b)&&Array.isArray(c)){if(b.length!==c.length)return{valid:!1,mergeErrorPath:[]};let d=[];for(let e=0;e<b.length;e++){let f=a(b[e],c[e]);if(!f.valid)return{valid:!1,mergeErrorPath:[e,...f.mergeErrorPath]};d.push(f.data)}return{valid:!0,data:d}}return{valid:!1,mergeErrorPath:[]}}(b.value,c.value);if(!g.valid)throw Error(`Unmergable intersection. Error path: ${JSON.stringify(g.mergeErrorPath)}`);return a.value=g.data,a}let gV=df("$ZodTuple",(a,b)=>{f_.init(a,b);let c=b.items;a._zod.parse=(d,e)=>{let f=d.value;if(!Array.isArray(f))return d.issues.push({input:f,inst:a,expected:"tuple",code:"invalid_type"}),d;d.value=[];let g=[],h=[...c].reverse().findIndex(a=>"optional"!==a._zod.optin),i=-1===h?0:c.length-h;if(!b.rest){let b=f.length>c.length,e=f.length<i-1;if(b||e)return d.issues.push({...b?{code:"too_big",maximum:c.length,inclusive:!0}:{code:"too_small",minimum:c.length},input:f,inst:a,origin:"array"}),d}let j=-1;for(let a of c){if(++j>=f.length&&j>=i)continue;let b=a._zod.run({value:f[j],issues:[]},e);b instanceof Promise?g.push(b.then(a=>gW(a,d,j))):gW(b,d,j)}if(b.rest)for(let a of f.slice(c.length)){j++;let c=b.rest._zod.run({value:a,issues:[]},e);c instanceof Promise?g.push(c.then(a=>gW(a,d,j))):gW(c,d,j)}return g.length?Promise.all(g).then(()=>d):d}});function gW(a,b,c){a.issues.length&&b.issues.push(...d5(c,a.issues)),b.value[c]=a.value}let gX=df("$ZodRecord",(a,b)=>{f_.init(a,b),a._zod.parse=(c,d)=>{let e=c.value;if(!dM(e))return c.issues.push({expected:"record",code:"invalid_type",input:e,inst:a}),c;let f=[],g=b.keyType._zod.values;if(g){let h;c.value={};let i=new Set;for(let a of g)if("string"==typeof a||"number"==typeof a||"symbol"==typeof a){i.add("number"==typeof a?a.toString():a);let g=b.valueType._zod.run({value:e[a],issues:[]},d);g instanceof Promise?f.push(g.then(b=>{b.issues.length&&c.issues.push(...d5(a,b.issues)),c.value[a]=b.value})):(g.issues.length&&c.issues.push(...d5(a,g.issues)),c.value[a]=g.value)}for(let a in e)i.has(a)||(h=h??[]).push(a);h&&h.length>0&&c.issues.push({code:"unrecognized_keys",input:e,inst:a,keys:h})}else for(let g of(c.value={},Reflect.ownKeys(e))){if("__proto__"===g)continue;let h=b.keyType._zod.run({value:g,issues:[]},d);if(h instanceof Promise)throw Error("Async schemas not supported in object keys currently");if("string"==typeof g&&fj.test(g)&&h.issues.length&&h.issues.some(a=>"invalid_type"===a.code&&"number"===a.expected)){let a=b.keyType._zod.run({value:Number(g),issues:[]},d);if(a instanceof Promise)throw Error("Async schemas not supported in object keys currently");0===a.issues.length&&(h=a)}if(h.issues.length){"loose"===b.mode?c.value[g]=e[g]:c.issues.push({code:"invalid_key",origin:"record",issues:h.issues.map(a=>d7(a,d,dk())),input:g,path:[g],inst:a});continue}let i=b.valueType._zod.run({value:e[g],issues:[]},d);i instanceof Promise?f.push(i.then(a=>{a.issues.length&&c.issues.push(...d5(g,a.issues)),c.value[h.value]=a.value})):(i.issues.length&&c.issues.push(...d5(g,i.issues)),c.value[h.value]=i.value)}return f.length?Promise.all(f).then(()=>c):c}}),gY=df("$ZodMap",(a,b)=>{f_.init(a,b),a._zod.parse=(c,d)=>{let e=c.value;if(!(e instanceof Map))return c.issues.push({expected:"map",code:"invalid_type",input:e,inst:a}),c;let f=[];for(let[g,h]of(c.value=new Map,e)){let i=b.keyType._zod.run({value:g,issues:[]},d),j=b.valueType._zod.run({value:h,issues:[]},d);i instanceof Promise||j instanceof Promise?f.push(Promise.all([i,j]).then(([b,f])=>{gZ(b,f,c,g,e,a,d)})):gZ(i,j,c,g,e,a,d)}return f.length?Promise.all(f).then(()=>c):c}});function gZ(a,b,c,d,e,f,g){a.issues.length&&(dP.has(typeof d)?c.issues.push(...d5(d,a.issues)):c.issues.push({code:"invalid_key",origin:"map",input:e,inst:f,issues:a.issues.map(a=>d7(a,g,dk()))})),b.issues.length&&(dP.has(typeof d)?c.issues.push(...d5(d,b.issues)):c.issues.push({origin:"map",code:"invalid_element",input:e,inst:f,key:d,issues:b.issues.map(a=>d7(a,g,dk()))})),c.value.set(a.value,b.value)}let g$=df("$ZodSet",(a,b)=>{f_.init(a,b),a._zod.parse=(c,d)=>{let e=c.value;if(!(e instanceof Set))return c.issues.push({input:e,inst:a,expected:"set",code:"invalid_type"}),c;let f=[];for(let a of(c.value=new Set,e)){let e=b.valueType._zod.run({value:a,issues:[]},d);e instanceof Promise?f.push(e.then(a=>g_(a,c))):g_(e,c)}return f.length?Promise.all(f).then(()=>c):c}});function g_(a,b){a.issues.length&&b.issues.push(...a.issues),b.value.add(a.value)}let g0=df("$ZodEnum",(a,b)=>{f_.init(a,b);let c=dr(b.entries),d=new Set(c);a._zod.values=d,a._zod.pattern=RegExp(`^(${c.filter(a=>dP.has(typeof a)).map(a=>"string"==typeof a?dR(a):a.toString()).join("|")})$`),a._zod.parse=(b,e)=>{let f=b.value;return d.has(f)||b.issues.push({code:"invalid_value",values:c,input:f,inst:a}),b}}),g1=df("$ZodLiteral",(a,b)=>{if(f_.init(a,b),0===b.values.length)throw Error("Cannot create literal schema with no valid values");let c=new Set(b.values);a._zod.values=c,a._zod.pattern=RegExp(`^(${b.values.map(a=>"string"==typeof a?dR(a):a?dR(a.toString()):String(a)).join("|")})$`),a._zod.parse=(d,e)=>{let f=d.value;return c.has(f)||d.issues.push({code:"invalid_value",values:b.values,input:f,inst:a}),d}}),g2=df("$ZodFile",(a,b)=>{f_.init(a,b),a._zod.parse=(b,c)=>{let d=b.value;return d instanceof File||b.issues.push({expected:"file",code:"invalid_type",input:d,inst:a}),b}}),g3=df("$ZodTransform",(a,b)=>{f_.init(a,b),a._zod.parse=(c,d)=>{if("backward"===d.direction)throw new di(a.constructor.name);let e=b.transform(c.value,c);if(d.async)return(e instanceof Promise?e:Promise.resolve(e)).then(a=>(c.value=a,c));if(e instanceof Promise)throw new dh;return c.value=e,c}});function g4(a,b){return a.issues.length&&void 0===b?{issues:[],value:void 0}:a}let g5=df("$ZodOptional",(a,b)=>{f_.init(a,b),a._zod.optin="optional",a._zod.optout="optional",dz(a._zod,"values",()=>b.innerType._zod.values?new Set([...b.innerType._zod.values,void 0]):void 0),dz(a._zod,"pattern",()=>{let a=b.innerType._zod.pattern;return a?RegExp(`^(${dw(a.source)})?$`):void 0}),a._zod.parse=(a,c)=>{if("optional"===b.innerType._zod.optin){let d=b.innerType._zod.run(a,c);return d instanceof Promise?d.then(b=>g4(b,a.value)):g4(d,a.value)}return void 0===a.value?a:b.innerType._zod.run(a,c)}}),g6=df("$ZodExactOptional",(a,b)=>{g5.init(a,b),dz(a._zod,"values",()=>b.innerType._zod.values),dz(a._zod,"pattern",()=>b.innerType._zod.pattern),a._zod.parse=(a,c)=>b.innerType._zod.run(a,c)}),g7=df("$ZodNullable",(a,b)=>{f_.init(a,b),dz(a._zod,"optin",()=>b.innerType._zod.optin),dz(a._zod,"optout",()=>b.innerType._zod.optout),dz(a._zod,"pattern",()=>{let a=b.innerType._zod.pattern;return a?RegExp(`^(${dw(a.source)}|null)$`):void 0}),dz(a._zod,"values",()=>b.innerType._zod.values?new Set([...b.innerType._zod.values,null]):void 0),a._zod.parse=(a,c)=>null===a.value?a:b.innerType._zod.run(a,c)}),g8=df("$ZodDefault",(a,b)=>{f_.init(a,b),a._zod.optin="optional",dz(a._zod,"values",()=>b.innerType._zod.values),a._zod.parse=(a,c)=>{if("backward"===c.direction)return b.innerType._zod.run(a,c);if(void 0===a.value)return a.value=b.defaultValue,a;let d=b.innerType._zod.run(a,c);return d instanceof Promise?d.then(a=>g9(a,b)):g9(d,b)}});function g9(a,b){return void 0===a.value&&(a.value=b.defaultValue),a}let ha=df("$ZodPrefault",(a,b)=>{f_.init(a,b),a._zod.optin="optional",dz(a._zod,"values",()=>b.innerType._zod.values),a._zod.parse=(a,c)=>("backward"===c.direction||void 0===a.value&&(a.value=b.defaultValue),b.innerType._zod.run(a,c))}),hb=df("$ZodNonOptional",(a,b)=>{f_.init(a,b),dz(a._zod,"values",()=>{let a=b.innerType._zod.values;return a?new Set([...a].filter(a=>void 0!==a)):void 0}),a._zod.parse=(c,d)=>{let e=b.innerType._zod.run(c,d);return e instanceof Promise?e.then(b=>hc(b,a)):hc(e,a)}});function hc(a,b){return a.issues.length||void 0!==a.value||a.issues.push({code:"invalid_type",expected:"nonoptional",input:a.value,inst:b}),a}let hd=df("$ZodSuccess",(a,b)=>{f_.init(a,b),a._zod.parse=(a,c)=>{if("backward"===c.direction)throw new di("ZodSuccess");let d=b.innerType._zod.run(a,c);return d instanceof Promise?d.then(b=>(a.value=0===b.issues.length,a)):(a.value=0===d.issues.length,a)}}),he=df("$ZodCatch",(a,b)=>{f_.init(a,b),dz(a._zod,"optin",()=>b.innerType._zod.optin),dz(a._zod,"optout",()=>b.innerType._zod.optout),dz(a._zod,"values",()=>b.innerType._zod.values),a._zod.parse=(a,c)=>{if("backward"===c.direction)return b.innerType._zod.run(a,c);let d=b.innerType._zod.run(a,c);return d instanceof Promise?d.then(d=>(a.value=d.value,d.issues.length&&(a.value=b.catchValue({...a,error:{issues:d.issues.map(a=>d7(a,c,dk()))},input:a.value}),a.issues=[]),a)):(a.value=d.value,d.issues.length&&(a.value=b.catchValue({...a,error:{issues:d.issues.map(a=>d7(a,c,dk()))},input:a.value}),a.issues=[]),a)}}),hf=df("$ZodNaN",(a,b)=>{f_.init(a,b),a._zod.parse=(b,c)=>("number"==typeof b.value&&Number.isNaN(b.value)||b.issues.push({input:b.value,inst:a,expected:"nan",code:"invalid_type"}),b)}),hg=df("$ZodPipe",(a,b)=>{f_.init(a,b),dz(a._zod,"values",()=>b.in._zod.values),dz(a._zod,"optin",()=>b.in._zod.optin),dz(a._zod,"optout",()=>b.out._zod.optout),dz(a._zod,"propValues",()=>b.in._zod.propValues),a._zod.parse=(a,c)=>{if("backward"===c.direction){let d=b.out._zod.run(a,c);return d instanceof Promise?d.then(a=>hh(a,b.in,c)):hh(d,b.in,c)}let d=b.in._zod.run(a,c);return d instanceof Promise?d.then(a=>hh(a,b.out,c)):hh(d,b.out,c)}});function hh(a,b,c){return a.issues.length?(a.aborted=!0,a):b._zod.run({value:a.value,issues:a.issues},c)}let hi=df("$ZodCodec",(a,b)=>{f_.init(a,b),dz(a._zod,"values",()=>b.in._zod.values),dz(a._zod,"optin",()=>b.in._zod.optin),dz(a._zod,"optout",()=>b.out._zod.optout),dz(a._zod,"propValues",()=>b.in._zod.propValues),a._zod.parse=(a,c)=>{if("forward"===(c.direction||"forward")){let d=b.in._zod.run(a,c);return d instanceof Promise?d.then(a=>hj(a,b,c)):hj(d,b,c)}{let d=b.out._zod.run(a,c);return d instanceof Promise?d.then(a=>hj(a,b,c)):hj(d,b,c)}}});function hj(a,b,c){if(a.issues.length)return a.aborted=!0,a;if("forward"===(c.direction||"forward")){let d=b.transform(a.value,a);return d instanceof Promise?d.then(d=>hk(a,d,b.out,c)):hk(a,d,b.out,c)}{let d=b.reverseTransform(a.value,a);return d instanceof Promise?d.then(d=>hk(a,d,b.in,c)):hk(a,d,b.in,c)}}function hk(a,b,c,d){return a.issues.length?(a.aborted=!0,a):c._zod.run({value:b,issues:a.issues},d)}let hl=df("$ZodReadonly",(a,b)=>{f_.init(a,b),dz(a._zod,"propValues",()=>b.innerType._zod.propValues),dz(a._zod,"values",()=>b.innerType._zod.values),dz(a._zod,"optin",()=>b.innerType?._zod?.optin),dz(a._zod,"optout",()=>b.innerType?._zod?.optout),a._zod.parse=(a,c)=>{if("backward"===c.direction)return b.innerType._zod.run(a,c);let d=b.innerType._zod.run(a,c);return d instanceof Promise?d.then(hm):hm(d)}});function hm(a){return a.value=Object.freeze(a.value),a}let hn=df("$ZodTemplateLiteral",(a,b)=>{f_.init(a,b);let c=[];for(let a of b.parts)if("object"==typeof a&&null!==a){if(!a._zod.pattern)throw Error(`Invalid template literal part, no pattern found: ${[...a._zod.traits].shift()}`);let b=a._zod.pattern instanceof RegExp?a._zod.pattern.source:a._zod.pattern;if(!b)throw Error(`Invalid template literal part: ${a._zod.traits}`);let d=+!!b.startsWith("^"),e=b.endsWith("$")?b.length-1:b.length;c.push(b.slice(d,e))}else if(null===a||dQ.has(typeof a))c.push(dR(`${a}`));else throw Error(`Invalid template literal part: ${a}`);a._zod.pattern=RegExp(`^${c.join("")}$`),a._zod.parse=(c,d)=>("string"!=typeof c.value?c.issues.push({input:c.value,inst:a,expected:"string",code:"invalid_type"}):(a._zod.pattern.lastIndex=0,a._zod.pattern.test(c.value)||c.issues.push({input:c.value,inst:a,code:"invalid_format",format:b.format??"template_literal",pattern:a._zod.pattern.source})),c)}),ho=df("$ZodFunction",(a,b)=>(f_.init(a,b),a._def=b,a._zod.def=b,a.implement=b=>{if("function"!=typeof b)throw Error("implement() must be called with a function");return function(...c){let d=Reflect.apply(b,this,a._def.input?et(a._def.input,c):c);return a._def.output?et(a._def.output,d):d}},a.implementAsync=b=>{if("function"!=typeof b)throw Error("implementAsync() must be called with a function");return async function(...c){let d=a._def.input?await ev(a._def.input,c):c,e=await Reflect.apply(b,this,d);return a._def.output?await ev(a._def.output,e):e}},a._zod.parse=(b,c)=>("function"!=typeof b.value?b.issues.push({code:"invalid_type",expected:"function",input:b.value,inst:a}):a._def.output&&"promise"===a._def.output._zod.def.type?b.value=a.implementAsync(b.value):b.value=a.implement(b.value),b),a.input=(...b)=>{let c=a.constructor;return new c(Array.isArray(b[0])?{type:"function",input:new gV({type:"tuple",items:b[0],rest:b[1]}),output:a._def.output}:{type:"function",input:b[0],output:a._def.output})},a.output=b=>new a.constructor({type:"function",input:a._def.input,output:b}),a)),hp=df("$ZodPromise",(a,b)=>{f_.init(a,b),a._zod.parse=(a,c)=>Promise.resolve(a.value).then(a=>b.innerType._zod.run({value:a,issues:[]},c))}),hq=df("$ZodLazy",(a,b)=>{f_.init(a,b),dz(a._zod,"innerType",()=>b.getter()),dz(a._zod,"pattern",()=>a._zod.innerType?._zod?.pattern),dz(a._zod,"propValues",()=>a._zod.innerType?._zod?.propValues),dz(a._zod,"optin",()=>a._zod.innerType?._zod?.optin??void 0),dz(a._zod,"optout",()=>a._zod.innerType?._zod?.optout??void 0),a._zod.parse=(b,c)=>a._zod.innerType._zod.run(b,c)}),hr=df("$ZodCustom",(a,b)=>{fB.init(a,b),f_.init(a,b),a._zod.parse=(a,b)=>a,a._zod.check=c=>{let d=c.value,e=b.fn(d);if(e instanceof Promise)return e.then(b=>hs(b,c,d,a));hs(e,c,d,a)}});function hs(a,b,c,d){if(!a){let a={code:"custom",input:c,inst:d,path:[...d._zod.def.path??[]],continue:!d._zod.def.abort};d._zod.def.params&&(a.params=d._zod.def.params),b.issues.push(eb(a))}}function ht(a,b,c,d){let e=Math.abs(a),f=e%10,g=e%100;return g>=11&&g<=19?d:1===f?b:f>=2&&f<=4?c:d}function hu(){let a,b,c;return{localeError:(a={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"},map:{unit:"entries",verb:"to have"}},b={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",mac:"MAC address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"},c={nan:"NaN"},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=ea(d.input),e=c[b]??b;return`Invalid input: expected ${a}, received ${e}`}case"invalid_value":if(1===d.values.length)return`Invalid input: expected ${dV(d.values[0])}`;return`Invalid option: expected one of ${ds(d.values,"|")}`;case"too_big":{let b=d.inclusive?"<=":"<",c=a[d.origin]??null;if(c)return`Too big: expected ${d.origin??"value"} to have ${b}${d.maximum.toString()} ${c.unit??"elements"}`;return`Too big: expected ${d.origin??"value"} to be ${b}${d.maximum.toString()}`}case"too_small":{let b=d.inclusive?">=":">",c=a[d.origin]??null;if(c)return`Too small: expected ${d.origin} to have ${b}${d.minimum.toString()} ${c.unit}`;return`Too small: expected ${d.origin} to be ${b}${d.minimum.toString()}`}case"invalid_format":if("starts_with"===d.format)return`Invalid string: must start with "${d.prefix}"`;if("ends_with"===d.format)return`Invalid string: must end with "${d.suffix}"`;if("includes"===d.format)return`Invalid string: must include "${d.includes}"`;if("regex"===d.format)return`Invalid string: must match pattern ${d.pattern}`;return`Invalid ${b[d.format]??d.format}`;case"not_multiple_of":return`Invalid number: must be a multiple of ${d.divisor}`;case"unrecognized_keys":return`Unrecognized key${d.keys.length>1?"s":""}: ${ds(d.keys,", ")}`;case"invalid_key":return`Invalid key in ${d.origin}`;case"invalid_union":default:return"Invalid input";case"invalid_element":return`Invalid value in ${d.origin}`}})}}function hv(a,b,c){return 1===Math.abs(a)?b:c}function hw(a){if(!a)return"";let b=a[a.length-1];return a+(["","","","","","",""].includes(b)?"":"")}function hx(){let a,b,c;return{localeError:(a={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},b={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"  ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IPv4",cidrv6:" IPv6",base64:" base64",base64url:" base64url",json_string:" JSON",e164:" E.164",jwt:"JWT",template_literal:""},c={nan:"NaN",number:"",array:" (Array)",null:" (null)"},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=ea(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return`  instanceof ${d.expected}  ${e}`;return`  ${a}  ${e}`}case"invalid_value":if(1===d.values.length)return`  ${dV(d.values[0])}`;return`  ${ds(d.values,"|")}`;case"too_big":{let b=d.inclusive?"<=":"<",c=a[d.origin]??null;if(c)return`  ${d.origin??""} ${b} ${d.maximum.toString()} ${c.unit??""}`;return`  ${d.origin??""} ${b} ${d.maximum.toString()}`}case"too_small":{let b=d.inclusive?">=":">",c=a[d.origin]??null;if(c)return`  ${d.origin} ${b} ${d.minimum.toString()} ${c.unit}`;return`  ${d.origin} ${b} ${d.minimum.toString()}`}case"invalid_format":if("starts_with"===d.format)return`  "${d.prefix}"`;if("ends_with"===d.format)return`  "${d.suffix}"`;if("includes"===d.format)return`  "${d.includes}"`;if("regex"===d.format)return`  ${d.pattern}`;return` ${b[d.format]??d.format}`;case"not_multiple_of":return`  ${d.divisor}`;case"unrecognized_keys":return` ${ds(d.keys,", ")}`;case"invalid_key":return` ${d.origin}`;case"invalid_union":default:return``;case"invalid_element":return` ${d.origin}`}})}}a.s(["$ZodAny",0,gC,"$ZodArray",0,gI,"$ZodBase64",0,gn,"$ZodBase64URL",0,gp,"$ZodBigInt",0,gx,"$ZodBigIntFormat",0,gy,"$ZodBoolean",0,gw,"$ZodCIDRv4",0,gk,"$ZodCIDRv6",0,gl,"$ZodCUID",0,f8,"$ZodCUID2",0,f9,"$ZodCatch",0,he,"$ZodCodec",0,hi,"$ZodCustom",0,hr,"$ZodCustomStringFormat",0,gt,"$ZodDate",0,gG,"$ZodDefault",0,g8,"$ZodDiscriminatedUnion",0,gS,"$ZodE164",0,gq,"$ZodEmail",0,f4,"$ZodEmoji",0,f6,"$ZodEnum",0,g0,"$ZodExactOptional",0,g6,"$ZodFile",0,g2,"$ZodFunction",0,ho,"$ZodGUID",0,f2,"$ZodIPv4",0,gh,"$ZodIPv6",0,gi,"$ZodISODate",0,ge,"$ZodISODateTime",0,gd,"$ZodISODuration",0,gg,"$ZodISOTime",0,gf,"$ZodIntersection",0,gT,"$ZodJWT",0,gs,"$ZodKSUID",0,gc,"$ZodLazy",0,hq,"$ZodLiteral",0,g1,"$ZodMAC",0,gj,"$ZodMap",0,gY,"$ZodNaN",0,hf,"$ZodNanoID",0,f7,"$ZodNever",0,gE,"$ZodNonOptional",0,hb,"$ZodNull",0,gB,"$ZodNullable",0,g7,"$ZodNumber",0,gu,"$ZodNumberFormat",0,gv,"$ZodObject",0,gM,"$ZodObjectJIT",0,gN,"$ZodOptional",0,g5,"$ZodPipe",0,hg,"$ZodPrefault",0,ha,"$ZodPromise",0,hp,"$ZodReadonly",0,hl,"$ZodRecord",0,gX,"$ZodSet",0,g$,"$ZodString",0,f0,"$ZodStringFormat",0,f1,"$ZodSuccess",0,hd,"$ZodSymbol",0,gz,"$ZodTemplateLiteral",0,hn,"$ZodTransform",0,g3,"$ZodTuple",0,gV,"$ZodType",0,f_,"$ZodULID",0,ga,"$ZodURL",0,f5,"$ZodUUID",0,f3,"$ZodUndefined",0,gA,"$ZodUnion",0,gP,"$ZodUnknown",0,gD,"$ZodVoid",0,gF,"$ZodXID",0,gb,"$ZodXor",0,gR,"isValidBase64",()=>gm,"isValidBase64URL",()=>go,"isValidJWT",()=>gr],43873);let hy=a=>a.charAt(0).toUpperCase()+a.slice(1);function hz(a){let b=Math.abs(a),c=b%10,d=b%100;return d>=11&&d<=19||0===c?"many":1===c?"one":"few"}function hA(a,b,c,d){let e=Math.abs(a),f=e%10,g=e%100;return g>=11&&g<=19?d:1===f?b:f>=2&&f<=4?c:d}function hB(){let a,b,c;return{localeError:(a={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},b={regex:" ",email:"  ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IPv4",cidrv6:" IPv6",base64:"   base64",base64url:"   base64url",json_string:" JSON",e164:" E.164",jwt:"JWT",template_literal:" "},c={nan:"NaN",number:"",array:""},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=ea(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return`  :  instanceof ${d.expected},  ${e}`;return`  :  ${a},  ${e}`}case"invalid_value":if(1===d.values.length)return`  :  ${dV(d.values[0])}`;return` :    ${ds(d.values,"|")}`;case"too_big":{let b=d.inclusive?"<=":"<",c=a[d.origin]??null;if(c)return` : ,  ${d.origin??""} ${c.verb} ${b}${d.maximum.toString()} ${c.unit??""}`;return` : ,  ${d.origin??""}  ${b}${d.maximum.toString()}`}case"too_small":{let b=d.inclusive?">=":">",c=a[d.origin]??null;if(c)return` : ,  ${d.origin} ${c.verb} ${b}${d.minimum.toString()} ${c.unit}`;return` : ,  ${d.origin}  ${b}${d.minimum.toString()}`}case"invalid_format":if("starts_with"===d.format)return` :    "${d.prefix}"`;if("ends_with"===d.format)return` :    "${d.suffix}"`;if("includes"===d.format)return` :   "${d.includes}"`;if("regex"===d.format)return` :    ${d.pattern}`;return` ${b[d.format]??d.format}`;case"not_multiple_of":return` :    ${d.divisor}`;case"unrecognized_keys":return` ${d.keys.length>1?"":""}: ${ds(d.keys,", ")}`;case"invalid_key":return`   ${d.origin}`;case"invalid_union":return"  ";case"invalid_element":return`   ${d.origin}`;default:return`  `}})}}a.s([],59078);let hC=Symbol("ZodOutput"),hD=Symbol("ZodInput");class hE{constructor(){this._map=new WeakMap,this._idmap=new Map}add(a,...b){let c=b[0];return this._map.set(a,c),c&&"object"==typeof c&&"id"in c&&this._idmap.set(c.id,a),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(a){let b=this._map.get(a);return b&&"object"==typeof b&&"id"in b&&this._idmap.delete(b.id),this._map.delete(a),this}get(a){let b=a._zod.parent;if(b){let c={...this.get(b)??{}};delete c.id;let d={...c,...this._map.get(a)};return Object.keys(d).length?d:void 0}return this._map.get(a)}has(a){return this._map.has(a)}}function hF(){return new hE}(L=globalThis).__zod_globalRegistry??(L.__zod_globalRegistry=hF());let hG=globalThis.__zod_globalRegistry;function hH(a,b){return new a({type:"string",...dT(b)})}function hI(a,b){return new a({type:"string",coerce:!0,...dT(b)})}function hJ(a,b){return new a({type:"string",format:"email",check:"string_format",abort:!1,...dT(b)})}function hK(a,b){return new a({type:"string",format:"guid",check:"string_format",abort:!1,...dT(b)})}function hL(a,b){return new a({type:"string",format:"uuid",check:"string_format",abort:!1,...dT(b)})}function hM(a,b){return new a({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...dT(b)})}function hN(a,b){return new a({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...dT(b)})}function hO(a,b){return new a({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...dT(b)})}function hP(a,b){return new a({type:"string",format:"url",check:"string_format",abort:!1,...dT(b)})}function hQ(a,b){return new a({type:"string",format:"emoji",check:"string_format",abort:!1,...dT(b)})}function hR(a,b){return new a({type:"string",format:"nanoid",check:"string_format",abort:!1,...dT(b)})}function hS(a,b){return new a({type:"string",format:"cuid",check:"string_format",abort:!1,...dT(b)})}function hT(a,b){return new a({type:"string",format:"cuid2",check:"string_format",abort:!1,...dT(b)})}function hU(a,b){return new a({type:"string",format:"ulid",check:"string_format",abort:!1,...dT(b)})}function hV(a,b){return new a({type:"string",format:"xid",check:"string_format",abort:!1,...dT(b)})}function hW(a,b){return new a({type:"string",format:"ksuid",check:"string_format",abort:!1,...dT(b)})}function hX(a,b){return new a({type:"string",format:"ipv4",check:"string_format",abort:!1,...dT(b)})}function hY(a,b){return new a({type:"string",format:"ipv6",check:"string_format",abort:!1,...dT(b)})}function hZ(a,b){return new a({type:"string",format:"mac",check:"string_format",abort:!1,...dT(b)})}function h$(a,b){return new a({type:"string",format:"cidrv4",check:"string_format",abort:!1,...dT(b)})}function h_(a,b){return new a({type:"string",format:"cidrv6",check:"string_format",abort:!1,...dT(b)})}function h0(a,b){return new a({type:"string",format:"base64",check:"string_format",abort:!1,...dT(b)})}function h1(a,b){return new a({type:"string",format:"base64url",check:"string_format",abort:!1,...dT(b)})}function h2(a,b){return new a({type:"string",format:"e164",check:"string_format",abort:!1,...dT(b)})}function h3(a,b){return new a({type:"string",format:"jwt",check:"string_format",abort:!1,...dT(b)})}a.s(["$ZodRegistry",()=>hE,"$input",0,hD,"$output",0,hC,"globalRegistry",0,hG,"registry",()=>hF],4359);let h4={Any:null,Minute:-1,Second:0,Millisecond:3,Microsecond:6};function h5(a,b){return new a({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...dT(b)})}function h6(a,b){return new a({type:"string",format:"date",check:"string_format",...dT(b)})}function h7(a,b){return new a({type:"string",format:"time",check:"string_format",precision:null,...dT(b)})}function h8(a,b){return new a({type:"string",format:"duration",check:"string_format",...dT(b)})}function h9(a,b){return new a({type:"number",checks:[],...dT(b)})}function ia(a,b){return new a({type:"number",coerce:!0,checks:[],...dT(b)})}function ib(a,b){return new a({type:"number",check:"number_format",abort:!1,format:"safeint",...dT(b)})}function ic(a,b){return new a({type:"number",check:"number_format",abort:!1,format:"float32",...dT(b)})}function id(a,b){return new a({type:"number",check:"number_format",abort:!1,format:"float64",...dT(b)})}function ie(a,b){return new a({type:"number",check:"number_format",abort:!1,format:"int32",...dT(b)})}function ig(a,b){return new a({type:"number",check:"number_format",abort:!1,format:"uint32",...dT(b)})}function ih(a,b){return new a({type:"boolean",...dT(b)})}function ii(a,b){return new a({type:"boolean",coerce:!0,...dT(b)})}function ij(a,b){return new a({type:"bigint",...dT(b)})}function ik(a,b){return new a({type:"bigint",coerce:!0,...dT(b)})}function il(a,b){return new a({type:"bigint",check:"bigint_format",abort:!1,format:"int64",...dT(b)})}function im(a,b){return new a({type:"bigint",check:"bigint_format",abort:!1,format:"uint64",...dT(b)})}function io(a,b){return new a({type:"symbol",...dT(b)})}function ip(a,b){return new a({type:"undefined",...dT(b)})}function iq(a,b){return new a({type:"null",...dT(b)})}function ir(a){return new a({type:"any"})}function is(a){return new a({type:"unknown"})}function it(a,b){return new a({type:"never",...dT(b)})}function iu(a,b){return new a({type:"void",...dT(b)})}function iv(a,b){return new a({type:"date",...dT(b)})}function iw(a,b){return new a({type:"date",coerce:!0,...dT(b)})}function ix(a,b){return new a({type:"nan",...dT(b)})}function iy(a,b){return new fD({check:"less_than",...dT(b),value:a,inclusive:!1})}function iz(a,b){return new fD({check:"less_than",...dT(b),value:a,inclusive:!0})}function iA(a,b){return new fE({check:"greater_than",...dT(b),value:a,inclusive:!1})}function iB(a,b){return new fE({check:"greater_than",...dT(b),value:a,inclusive:!0})}function iC(a){return iA(0,a)}function iD(a){return iy(0,a)}function iE(a){return iz(0,a)}function iF(a){return iB(0,a)}function iG(a,b){return new fF({check:"multiple_of",...dT(b),value:a})}function iH(a,b){return new fI({check:"max_size",...dT(b),maximum:a})}function iI(a,b){return new fJ({check:"min_size",...dT(b),minimum:a})}function iJ(a,b){return new fK({check:"size_equals",...dT(b),size:a})}function iK(a,b){return new fL({check:"max_length",...dT(b),maximum:a})}function iL(a,b){return new fM({check:"min_length",...dT(b),minimum:a})}function iM(a,b){return new fN({check:"length_equals",...dT(b),length:a})}function iN(a,b){return new fP({check:"string_format",format:"regex",...dT(b),pattern:a})}function iO(a){return new fQ({check:"string_format",format:"lowercase",...dT(a)})}function iP(a){return new fR({check:"string_format",format:"uppercase",...dT(a)})}function iQ(a,b){return new fS({check:"string_format",format:"includes",...dT(b),includes:a})}function iR(a,b){return new fT({check:"string_format",format:"starts_with",...dT(b),prefix:a})}function iS(a,b){return new fU({check:"string_format",format:"ends_with",...dT(b),suffix:a})}function iT(a,b,c){return new fW({check:"property",property:a,schema:b,...dT(c)})}function iU(a,b){return new fX({check:"mime_type",mime:a,...dT(b)})}function iV(a){return new fY({check:"overwrite",tx:a})}function iW(a){return iV(b=>b.normalize(a))}function iX(){return iV(a=>a.trim())}function iY(){return iV(a=>a.toLowerCase())}function iZ(){return iV(a=>a.toUpperCase())}function i$(){return iV(a=>dI(a))}function i_(a,b,c){return new a({type:"array",element:b,...dT(c)})}function i0(a,b,c){return new a({type:"union",options:b,...dT(c)})}function i1(a,b,c){return new a({type:"union",options:b,inclusive:!1,...dT(c)})}function i2(a,b,c,d){return new a({type:"union",options:c,discriminator:b,...dT(d)})}function i3(a,b,c){return new a({type:"intersection",left:b,right:c})}function i4(a,b,c,d){let e=c instanceof f_,f=e?d:c;return new a({type:"tuple",items:b,rest:e?c:null,...dT(f)})}function i5(a,b,c,d){return new a({type:"record",keyType:b,valueType:c,...dT(d)})}function i6(a,b,c,d){return new a({type:"map",keyType:b,valueType:c,...dT(d)})}function i7(a,b,c){return new a({type:"set",valueType:b,...dT(c)})}function i8(a,b,c){return new a({type:"enum",entries:Array.isArray(b)?Object.fromEntries(b.map(a=>[a,a])):b,...dT(c)})}function i9(a,b,c){return new a({type:"enum",entries:b,...dT(c)})}function ja(a,b,c){return new a({type:"literal",values:Array.isArray(b)?b:[b],...dT(c)})}function jb(a,b){return new a({type:"file",...dT(b)})}function jc(a,b){return new a({type:"transform",transform:b})}function jd(a,b){return new a({type:"optional",innerType:b})}function je(a,b){return new a({type:"nullable",innerType:b})}function jf(a,b,c){return new a({type:"default",innerType:b,get defaultValue(){return"function"==typeof c?c():dN(c)}})}function jg(a,b,c){return new a({type:"nonoptional",innerType:b,...dT(c)})}function jh(a,b){return new a({type:"success",innerType:b})}function ji(a,b,c){return new a({type:"catch",innerType:b,catchValue:"function"==typeof c?c:()=>c})}function jj(a,b,c){return new a({type:"pipe",in:b,out:c})}function jk(a,b){return new a({type:"readonly",innerType:b})}function jl(a,b,c){return new a({type:"template_literal",parts:b,...dT(c)})}function jm(a,b){return new a({type:"lazy",getter:b})}function jn(a,b){return new a({type:"promise",innerType:b})}function jo(a,b,c){let d=dT(c);return d.abort??(d.abort=!0),new a({type:"custom",check:"custom",fn:b,...d})}function jp(a,b,c){return new a({type:"custom",check:"custom",fn:b,...dT(c)})}function jq(a){let b=jr(c=>(c.addIssue=a=>{"string"==typeof a?c.issues.push(eb(a,c.value,b._zod.def)):(a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=c.value),a.inst??(a.inst=b),a.continue??(a.continue=!b._zod.def.abort),c.issues.push(eb(a)))},a(c.value,c)));return b}function jr(a,b){let c=new fB({check:"custom",...dT(b)});return c._zod.check=a,c}function js(a){let b=new fB({check:"describe"});return b._zod.onattach=[b=>{let c=hG.get(b)??{};hG.add(b,{...c,description:a})}],b._zod.check=()=>{},b}function jt(a){let b=new fB({check:"meta"});return b._zod.onattach=[b=>{let c=hG.get(b)??{};hG.add(b,{...c,...a})}],b._zod.check=()=>{},b}function ju(a,b){let c=dT(b),d=c.truthy??["true","1","yes","on","y","enabled"],e=c.falsy??["false","0","no","off","n","disabled"];"sensitive"!==c.case&&(d=d.map(a=>"string"==typeof a?a.toLowerCase():a),e=e.map(a=>"string"==typeof a?a.toLowerCase():a));let f=new Set(d),g=new Set(e),h=a.Codec??hi,i=a.Boolean??gw,j=new h({type:"pipe",in:new(a.String??f0)({type:"string",error:c.error}),out:new i({type:"boolean",error:c.error}),transform:(a,b)=>{let d=a;return"sensitive"!==c.case&&(d=d.toLowerCase()),!!f.has(d)||!g.has(d)&&(b.issues.push({code:"invalid_value",expected:"stringbool",values:[...f,...g],input:b.value,inst:j,continue:!1}),{})},reverseTransform:(a,b)=>!0===a?d[0]||"true":e[0]||"false",error:c.error});return j}function jv(a,b,c,d={}){let e=dT(d),f={...dT(d),check:"string_format",type:"string",format:b,fn:"function"==typeof c?c:a=>c.test(a),...e};return c instanceof RegExp&&(f.pattern=c),new a(f)}function jw(a){let b=a?.target??"draft-2020-12";return"draft-4"===b&&(b="draft-04"),"draft-7"===b&&(b="draft-07"),{processors:a.processors??{},metadataRegistry:a?.metadata??hG,target:b,unrepresentable:a?.unrepresentable??"throw",override:a?.override??(()=>{}),io:a?.io??"output",counter:0,seen:new Map,cycles:a?.cycles??"ref",reused:a?.reused??"inline",external:a?.external??void 0}}function jx(a,b,c={path:[],schemaPath:[]}){var d;let e=a._zod.def,f=b.seen.get(a);if(f)return f.count++,c.schemaPath.includes(a)&&(f.cycle=c.path),f.schema;let g={schema:{},count:1,cycle:void 0,path:c.path};b.seen.set(a,g);let h=a._zod.toJSONSchema?.();if(h)g.schema=h;else{let d={...c,schemaPath:[...c.schemaPath,a],path:c.path};if(a._zod.processJSONSchema)a._zod.processJSONSchema(b,g.schema,d);else{let c=g.schema,f=b.processors[e.type];if(!f)throw Error(`[toJSONSchema]: Non-representable type encountered: ${e.type}`);f(a,b,c,d)}let f=a._zod.parent;f&&(g.ref||(g.ref=f),jx(f,b,d),b.seen.get(f).isParent=!0)}let i=b.metadataRegistry.get(a);return i&&Object.assign(g.schema,i),"input"===b.io&&function a(b,c){let d=c??{seen:new Set};if(d.seen.has(b))return!1;d.seen.add(b);let e=b._zod.def;if("transform"===e.type)return!0;if("array"===e.type)return a(e.element,d);if("set"===e.type)return a(e.valueType,d);if("lazy"===e.type)return a(e.getter(),d);if("promise"===e.type||"optional"===e.type||"nonoptional"===e.type||"nullable"===e.type||"readonly"===e.type||"default"===e.type||"prefault"===e.type)return a(e.innerType,d);if("intersection"===e.type)return a(e.left,d)||a(e.right,d);if("record"===e.type||"map"===e.type)return a(e.keyType,d)||a(e.valueType,d);if("pipe"===e.type)return a(e.in,d)||a(e.out,d);if("object"===e.type){for(let b in e.shape)if(a(e.shape[b],d))return!0;return!1}if("union"===e.type){for(let b of e.options)if(a(b,d))return!0;return!1}if("tuple"===e.type){for(let b of e.items)if(a(b,d))return!0;if(e.rest&&a(e.rest,d))return!0}return!1}(a)&&(delete g.schema.examples,delete g.schema.default),"input"===b.io&&g.schema._prefault&&((d=g.schema).default??(d.default=g.schema._prefault)),delete g.schema._prefault,b.seen.get(a).schema}function jy(a,b){let c=a.seen.get(b);if(!c)throw Error("Unprocessed schema. This is a bug in Zod.");let d=new Map;for(let b of a.seen.entries()){let c=a.metadataRegistry.get(b[0])?.id;if(c){let a=d.get(c);if(a&&a!==b[0])throw Error(`Duplicate schema id "${c}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);d.set(c,b[0])}}let e=b=>{if(b[1].schema.$ref)return;let d=b[1],{ref:e,defId:f}=(b=>{let d="draft-2020-12"===a.target?"$defs":"definitions";if(a.external){let c=a.external.registry.get(b[0])?.id,e=a.external.uri??(a=>a);if(c)return{ref:e(c)};let f=b[1].defId??b[1].schema.id??`schema${a.counter++}`;return b[1].defId=f,{defId:f,ref:`${e("__shared")}#/${d}/${f}`}}if(b[1]===c)return{ref:"#"};let e=`#/${d}/`,f=b[1].schema.id??`__schema${a.counter++}`;return{defId:f,ref:e+f}})(b);d.def={...d.schema},f&&(d.defId=f);let g=d.schema;for(let a in g)delete g[a];g.$ref=e};if("throw"===a.cycles)for(let b of a.seen.entries()){let a=b[1];if(a.cycle)throw Error(`Cycle detected: #/${a.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(let c of a.seen.entries()){let d=c[1];if(b===c[0]){e(c);continue}if(a.external){let d=a.external.registry.get(c[0])?.id;if(b!==c[0]&&d){e(c);continue}}if(a.metadataRegistry.get(c[0])?.id||d.cycle||d.count>1&&"ref"===a.reused){e(c);continue}}}function jz(a,b){let c=a.seen.get(b);if(!c)throw Error("Unprocessed schema. This is a bug in Zod.");let d=b=>{let c=a.seen.get(b);if(null===c.ref)return;let e=c.def??c.schema,f={...e},g=c.ref;if(c.ref=null,g){d(g);let c=a.seen.get(g),h=c.schema;if(h.$ref&&("draft-07"===a.target||"draft-04"===a.target||"openapi-3.0"===a.target)?(e.allOf=e.allOf??[],e.allOf.push(h)):Object.assign(e,h),Object.assign(e,f),b._zod.parent===g)for(let a in e)"$ref"!==a&&"allOf"!==a&&(a in f||delete e[a]);if(h.$ref)for(let a in e)"$ref"!==a&&"allOf"!==a&&a in c.def&&JSON.stringify(e[a])===JSON.stringify(c.def[a])&&delete e[a]}let h=b._zod.parent;if(h&&h!==g){d(h);let b=a.seen.get(h);if(b?.schema.$ref&&(e.$ref=b.schema.$ref,b.def))for(let a in e)"$ref"!==a&&"allOf"!==a&&a in b.def&&JSON.stringify(e[a])===JSON.stringify(b.def[a])&&delete e[a]}a.override({zodSchema:b,jsonSchema:e,path:c.path??[]})};for(let b of[...a.seen.entries()].reverse())d(b[0]);let e={};if("draft-2020-12"===a.target?e.$schema="https://json-schema.org/draft/2020-12/schema":"draft-07"===a.target?e.$schema="http://json-schema.org/draft-07/schema#":"draft-04"===a.target?e.$schema="http://json-schema.org/draft-04/schema#":a.target,a.external?.uri){let c=a.external.registry.get(b)?.id;if(!c)throw Error("Schema is missing an `id` property");e.$id=a.external.uri(c)}Object.assign(e,c.def??c.schema);let f=a.external?.defs??{};for(let b of a.seen.entries()){let a=b[1];a.def&&a.defId&&(f[a.defId]=a.def)}a.external||Object.keys(f).length>0&&("draft-2020-12"===a.target?e.$defs=f:e.definitions=f);try{let c=JSON.parse(JSON.stringify(e));return Object.defineProperty(c,"~standard",{value:{...b["~standard"],jsonSchema:{input:jB(b,"input",a.processors),output:jB(b,"output",a.processors)}},enumerable:!1,writable:!1}),c}catch(a){throw Error("Error converting schema to JSON.")}}a.s(["TimePrecision",0,h4,"_any",()=>ir,"_array",()=>i_,"_base64",()=>h0,"_base64url",()=>h1,"_bigint",()=>ij,"_boolean",()=>ih,"_catch",()=>ji,"_check",()=>jr,"_cidrv4",()=>h$,"_cidrv6",()=>h_,"_coercedBigint",()=>ik,"_coercedBoolean",()=>ii,"_coercedDate",()=>iw,"_coercedNumber",()=>ia,"_coercedString",()=>hI,"_cuid",()=>hS,"_cuid2",()=>hT,"_custom",()=>jo,"_date",()=>iv,"_default",()=>jf,"_discriminatedUnion",()=>i2,"_e164",()=>h2,"_email",()=>hJ,"_emoji",()=>hQ,"_endsWith",()=>iS,"_enum",()=>i8,"_file",()=>jb,"_float32",()=>ic,"_float64",()=>id,"_gt",()=>iA,"_gte",()=>iB,"_guid",()=>hK,"_includes",()=>iQ,"_int",()=>ib,"_int32",()=>ie,"_int64",()=>il,"_intersection",()=>i3,"_ipv4",()=>hX,"_ipv6",()=>hY,"_isoDate",()=>h6,"_isoDateTime",()=>h5,"_isoDuration",()=>h8,"_isoTime",()=>h7,"_jwt",()=>h3,"_ksuid",()=>hW,"_lazy",()=>jm,"_length",()=>iM,"_literal",()=>ja,"_lowercase",()=>iO,"_lt",()=>iy,"_lte",()=>iz,"_mac",()=>hZ,"_map",()=>i6,"_max",()=>iz,"_maxLength",()=>iK,"_maxSize",()=>iH,"_mime",()=>iU,"_min",()=>iB,"_minLength",()=>iL,"_minSize",()=>iI,"_multipleOf",()=>iG,"_nan",()=>ix,"_nanoid",()=>hR,"_nativeEnum",()=>i9,"_negative",()=>iD,"_never",()=>it,"_nonnegative",()=>iF,"_nonoptional",()=>jg,"_nonpositive",()=>iE,"_normalize",()=>iW,"_null",()=>iq,"_nullable",()=>je,"_number",()=>h9,"_optional",()=>jd,"_overwrite",()=>iV,"_pipe",()=>jj,"_positive",()=>iC,"_promise",()=>jn,"_property",()=>iT,"_readonly",()=>jk,"_record",()=>i5,"_refine",()=>jp,"_regex",()=>iN,"_set",()=>i7,"_size",()=>iJ,"_slugify",()=>i$,"_startsWith",()=>iR,"_string",()=>hH,"_stringFormat",()=>jv,"_stringbool",()=>ju,"_success",()=>jh,"_superRefine",()=>jq,"_symbol",()=>io,"_templateLiteral",()=>jl,"_toLowerCase",()=>iY,"_toUpperCase",()=>iZ,"_transform",()=>jc,"_trim",()=>iX,"_tuple",()=>i4,"_uint32",()=>ig,"_uint64",()=>im,"_ulid",()=>hU,"_undefined",()=>ip,"_union",()=>i0,"_unknown",()=>is,"_uppercase",()=>iP,"_url",()=>hP,"_uuid",()=>hL,"_uuidv4",()=>hM,"_uuidv6",()=>hN,"_uuidv7",()=>hO,"_void",()=>iu,"_xid",()=>hV,"_xor",()=>i1,"describe",()=>js,"meta",()=>jt],9451);let jA=(a,b={})=>c=>{let d=jw({...c,processors:b});return jx(a,d),jy(d,a),jz(d,a)},jB=(a,b,c={})=>d=>{let{libraryOptions:e,target:f}=d??{},g=jw({...e??{},target:f,io:b,processors:c});return jx(a,g),jy(g,a),jz(g,a)};a.s(["createStandardJSONSchemaMethod",0,jB,"createToJSONSchemaMethod",0,jA,"extractDefs",()=>jy,"finalize",()=>jz,"initializeContext",()=>jw,"process",()=>jx],3240);let jC={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},jD=(a,b,c,d)=>{c.type="string";let{minimum:e,maximum:f,format:g,patterns:h,contentEncoding:i}=a._zod.bag;if("number"==typeof e&&(c.minLength=e),"number"==typeof f&&(c.maxLength=f),g&&(c.format=jC[g]??g,""===c.format&&delete c.format,"time"===g&&delete c.format),i&&(c.contentEncoding=i),h&&h.size>0){let a=[...h];1===a.length?c.pattern=a[0].source:a.length>1&&(c.allOf=[...a.map(a=>({..."draft-07"===b.target||"draft-04"===b.target||"openapi-3.0"===b.target?{type:"string"}:{},pattern:a.source}))])}},jE=(a,b,c,d)=>{let{minimum:e,maximum:f,format:g,multipleOf:h,exclusiveMaximum:i,exclusiveMinimum:j}=a._zod.bag;"string"==typeof g&&g.includes("int")?c.type="integer":c.type="number","number"==typeof j&&("draft-04"===b.target||"openapi-3.0"===b.target?(c.minimum=j,c.exclusiveMinimum=!0):c.exclusiveMinimum=j),"number"==typeof e&&(c.minimum=e,"number"==typeof j&&"draft-04"!==b.target&&(j>=e?delete c.minimum:delete c.exclusiveMinimum)),"number"==typeof i&&("draft-04"===b.target||"openapi-3.0"===b.target?(c.maximum=i,c.exclusiveMaximum=!0):c.exclusiveMaximum=i),"number"==typeof f&&(c.maximum=f,"number"==typeof i&&"draft-04"!==b.target&&(i<=f?delete c.maximum:delete c.exclusiveMaximum)),"number"==typeof h&&(c.multipleOf=h)},jF=(a,b,c,d)=>{c.type="boolean"},jG=(a,b,c,d)=>{if("throw"===b.unrepresentable)throw Error("BigInt cannot be represented in JSON Schema")},jH=(a,b,c,d)=>{if("throw"===b.unrepresentable)throw Error("Symbols cannot be represented in JSON Schema")},jI=(a,b,c,d)=>{"openapi-3.0"===b.target?(c.type="string",c.nullable=!0,c.enum=[null]):c.type="null"},jJ=(a,b,c,d)=>{if("throw"===b.unrepresentable)throw Error("Undefined cannot be represented in JSON Schema")},jK=(a,b,c,d)=>{if("throw"===b.unrepresentable)throw Error("Void cannot be represented in JSON Schema")},jL=(a,b,c,d)=>{c.not={}},jM=(a,b,c,d)=>{},jN=(a,b,c,d)=>{},jO=(a,b,c,d)=>{if("throw"===b.unrepresentable)throw Error("Date cannot be represented in JSON Schema")},jP=(a,b,c,d)=>{let e=dr(a._zod.def.entries);e.every(a=>"number"==typeof a)&&(c.type="number"),e.every(a=>"string"==typeof a)&&(c.type="string"),c.enum=e},jQ=(a,b,c,d)=>{let e=a._zod.def,f=[];for(let a of e.values)if(void 0===a){if("throw"===b.unrepresentable)throw Error("Literal `undefined` cannot be represented in JSON Schema")}else if("bigint"==typeof a)if("throw"===b.unrepresentable)throw Error("BigInt literals cannot be represented in JSON Schema");else f.push(Number(a));else f.push(a);if(0===f.length);else if(1===f.length){let a=f[0];c.type=null===a?"null":typeof a,"draft-04"===b.target||"openapi-3.0"===b.target?c.enum=[a]:c.const=a}else f.every(a=>"number"==typeof a)&&(c.type="number"),f.every(a=>"string"==typeof a)&&(c.type="string"),f.every(a=>"boolean"==typeof a)&&(c.type="boolean"),f.every(a=>null===a)&&(c.type="null"),c.enum=f},jR=(a,b,c,d)=>{if("throw"===b.unrepresentable)throw Error("NaN cannot be represented in JSON Schema")},jS=(a,b,c,d)=>{let e=a._zod.pattern;if(!e)throw Error("Pattern not found in template literal");c.type="string",c.pattern=e.source},jT=(a,b,c,d)=>{let e={type:"string",format:"binary",contentEncoding:"binary"},{minimum:f,maximum:g,mime:h}=a._zod.bag;void 0!==f&&(e.minLength=f),void 0!==g&&(e.maxLength=g),h?1===h.length?(e.contentMediaType=h[0],Object.assign(c,e)):(Object.assign(c,e),c.anyOf=h.map(a=>({contentMediaType:a}))):Object.assign(c,e)},jU=(a,b,c,d)=>{c.type="boolean"},jV=(a,b,c,d)=>{if("throw"===b.unrepresentable)throw Error("Custom types cannot be represented in JSON Schema")},jW=(a,b,c,d)=>{if("throw"===b.unrepresentable)throw Error("Function types cannot be represented in JSON Schema")},jX=(a,b,c,d)=>{if("throw"===b.unrepresentable)throw Error("Transforms cannot be represented in JSON Schema")},jY=(a,b,c,d)=>{if("throw"===b.unrepresentable)throw Error("Map cannot be represented in JSON Schema")},jZ=(a,b,c,d)=>{if("throw"===b.unrepresentable)throw Error("Set cannot be represented in JSON Schema")},j$=(a,b,c,d)=>{let e=a._zod.def,{minimum:f,maximum:g}=a._zod.bag;"number"==typeof f&&(c.minItems=f),"number"==typeof g&&(c.maxItems=g),c.type="array",c.items=jx(e.element,b,{...d,path:[...d.path,"items"]})},j_=(a,b,c,d)=>{let e=a._zod.def;c.type="object",c.properties={};let f=e.shape;for(let a in f)c.properties[a]=jx(f[a],b,{...d,path:[...d.path,"properties",a]});let g=new Set([...new Set(Object.keys(f))].filter(a=>{let c=e.shape[a]._zod;return"input"===b.io?void 0===c.optin:void 0===c.optout}));g.size>0&&(c.required=Array.from(g)),e.catchall?._zod.def.type==="never"?c.additionalProperties=!1:e.catchall?e.catchall&&(c.additionalProperties=jx(e.catchall,b,{...d,path:[...d.path,"additionalProperties"]})):"output"===b.io&&(c.additionalProperties=!1)},j0=(a,b,c,d)=>{let e=a._zod.def,f=!1===e.inclusive,g=e.options.map((a,c)=>jx(a,b,{...d,path:[...d.path,f?"oneOf":"anyOf",c]}));f?c.oneOf=g:c.anyOf=g},j1=(a,b,c,d)=>{let e=a._zod.def,f=jx(e.left,b,{...d,path:[...d.path,"allOf",0]}),g=jx(e.right,b,{...d,path:[...d.path,"allOf",1]}),h=a=>"allOf"in a&&1===Object.keys(a).length;c.allOf=[...h(f)?f.allOf:[f],...h(g)?g.allOf:[g]]},j2=(a,b,c,d)=>{let e=a._zod.def;c.type="array";let f="draft-2020-12"===b.target?"prefixItems":"items",g="draft-2020-12"===b.target||"openapi-3.0"===b.target?"items":"additionalItems",h=e.items.map((a,c)=>jx(a,b,{...d,path:[...d.path,f,c]})),i=e.rest?jx(e.rest,b,{...d,path:[...d.path,g,..."openapi-3.0"===b.target?[e.items.length]:[]]}):null;"draft-2020-12"===b.target?(c.prefixItems=h,i&&(c.items=i)):"openapi-3.0"===b.target?(c.items={anyOf:h},i&&c.items.anyOf.push(i),c.minItems=h.length,i||(c.maxItems=h.length)):(c.items=h,i&&(c.additionalItems=i));let{minimum:j,maximum:k}=a._zod.bag;"number"==typeof j&&(c.minItems=j),"number"==typeof k&&(c.maxItems=k)},j3=(a,b,c,d)=>{let e=a._zod.def;c.type="object";let f=e.keyType,g=f._zod.bag,h=g?.patterns;if("loose"===e.mode&&h&&h.size>0){let a=jx(e.valueType,b,{...d,path:[...d.path,"patternProperties","*"]});for(let b of(c.patternProperties={},h))c.patternProperties[b.source]=a}else("draft-07"===b.target||"draft-2020-12"===b.target)&&(c.propertyNames=jx(e.keyType,b,{...d,path:[...d.path,"propertyNames"]})),c.additionalProperties=jx(e.valueType,b,{...d,path:[...d.path,"additionalProperties"]});let i=f._zod.values;if(i){let a=[...i].filter(a=>"string"==typeof a||"number"==typeof a);a.length>0&&(c.required=a)}},j4=(a,b,c,d)=>{let e=a._zod.def,f=jx(e.innerType,b,d),g=b.seen.get(a);"openapi-3.0"===b.target?(g.ref=e.innerType,c.nullable=!0):c.anyOf=[f,{type:"null"}]},j5=(a,b,c,d)=>{let e=a._zod.def;jx(e.innerType,b,d),b.seen.get(a).ref=e.innerType},j6=(a,b,c,d)=>{let e=a._zod.def;jx(e.innerType,b,d),b.seen.get(a).ref=e.innerType,c.default=JSON.parse(JSON.stringify(e.defaultValue))},j7=(a,b,c,d)=>{let e=a._zod.def;jx(e.innerType,b,d),b.seen.get(a).ref=e.innerType,"input"===b.io&&(c._prefault=JSON.parse(JSON.stringify(e.defaultValue)))},j8=(a,b,c,d)=>{let e,f=a._zod.def;jx(f.innerType,b,d),b.seen.get(a).ref=f.innerType;try{e=f.catchValue(void 0)}catch{throw Error("Dynamic catch values are not supported in JSON Schema")}c.default=e},j9=(a,b,c,d)=>{let e=a._zod.def,f="input"===b.io?"transform"===e.in._zod.def.type?e.out:e.in:e.out;jx(f,b,d),b.seen.get(a).ref=f},ka=(a,b,c,d)=>{let e=a._zod.def;jx(e.innerType,b,d),b.seen.get(a).ref=e.innerType,c.readOnly=!0},kb=(a,b,c,d)=>{let e=a._zod.def;jx(e.innerType,b,d),b.seen.get(a).ref=e.innerType},kc=(a,b,c,d)=>{let e=a._zod.def;jx(e.innerType,b,d),b.seen.get(a).ref=e.innerType},kd=(a,b,c,d)=>{let e=a._zod.innerType;jx(e,b,d),b.seen.get(a).ref=e},ke={string:jD,number:jE,boolean:jF,bigint:jG,symbol:jH,null:jI,undefined:jJ,void:jK,never:jL,any:jM,unknown:jN,date:jO,enum:jP,literal:jQ,nan:jR,template_literal:jS,file:jT,success:jU,custom:jV,function:jW,transform:jX,map:jY,set:jZ,array:j$,object:j_,union:j0,intersection:j1,tuple:j2,record:j3,nullable:j4,nonoptional:j5,default:j6,prefault:j7,catch:j8,pipe:j9,readonly:ka,promise:kb,optional:kc,lazy:kd};function kf(a,b){if("_idmap"in a){let c=jw({...b,processors:ke}),d={};for(let b of a._idmap.entries()){let[a,d]=b;jx(d,c)}let e={};for(let f of(c.external={registry:a,uri:b?.uri,defs:d},a._idmap.entries())){let[a,b]=f;jy(c,b),e[a]=jz(c,b)}return Object.keys(d).length>0&&(e.__shared={["draft-2020-12"===c.target?"$defs":"definitions"]:d}),{schemas:e}}let c=jw({...b,processors:ke});return jx(a,c),jy(c,a),jz(c,a)}class kg{get metadataRegistry(){return this.ctx.metadataRegistry}get target(){return this.ctx.target}get unrepresentable(){return this.ctx.unrepresentable}get override(){return this.ctx.override}get io(){return this.ctx.io}get counter(){return this.ctx.counter}set counter(a){this.ctx.counter=a}get seen(){return this.ctx.seen}constructor(a){let b=a?.target??"draft-2020-12";"draft-4"===b&&(b="draft-04"),"draft-7"===b&&(b="draft-07"),this.ctx=jw({processors:ke,target:b,...a?.metadata&&{metadata:a.metadata},...a?.unrepresentable&&{unrepresentable:a.unrepresentable},...a?.override&&{override:a.override},...a?.io&&{io:a.io}})}process(a,b={path:[],schemaPath:[]}){return jx(a,this.ctx,b)}emit(a,b){b&&(b.cycles&&(this.ctx.cycles=b.cycles),b.reused&&(this.ctx.reused=b.reused),b.external&&(this.ctx.external=b.external)),jy(this.ctx,a);let{"~standard":c,...d}=jz(this.ctx,a);return d}}a.s([],33106),a.s([],28946),a.i(43873),a.s(["$ZodAny",0,gC,"$ZodArray",0,gI,"$ZodBase64",0,gn,"$ZodBase64URL",0,gp,"$ZodBigInt",0,gx,"$ZodBigIntFormat",0,gy,"$ZodBoolean",0,gw,"$ZodCIDRv4",0,gk,"$ZodCIDRv6",0,gl,"$ZodCUID",0,f8,"$ZodCUID2",0,f9,"$ZodCatch",0,he,"$ZodCodec",0,hi,"$ZodCustom",0,hr,"$ZodCustomStringFormat",0,gt,"$ZodDate",0,gG,"$ZodDefault",0,g8,"$ZodDiscriminatedUnion",0,gS,"$ZodE164",0,gq,"$ZodEmail",0,f4,"$ZodEmoji",0,f6,"$ZodEnum",0,g0,"$ZodExactOptional",0,g6,"$ZodFile",0,g2,"$ZodFunction",0,ho,"$ZodGUID",0,f2,"$ZodIPv4",0,gh,"$ZodIPv6",0,gi,"$ZodISODate",0,ge,"$ZodISODateTime",0,gd,"$ZodISODuration",0,gg,"$ZodISOTime",0,gf,"$ZodIntersection",0,gT,"$ZodJWT",0,gs,"$ZodKSUID",0,gc,"$ZodLazy",0,hq,"$ZodLiteral",0,g1,"$ZodMAC",0,gj,"$ZodMap",0,gY,"$ZodNaN",0,hf,"$ZodNanoID",0,f7,"$ZodNever",0,gE,"$ZodNonOptional",0,hb,"$ZodNull",0,gB,"$ZodNullable",0,g7,"$ZodNumber",0,gu,"$ZodNumberFormat",0,gv,"$ZodObject",0,gM,"$ZodObjectJIT",0,gN,"$ZodOptional",0,g5,"$ZodPipe",0,hg,"$ZodPrefault",0,ha,"$ZodPromise",0,hp,"$ZodReadonly",0,hl,"$ZodRecord",0,gX,"$ZodSet",0,g$,"$ZodString",0,f0,"$ZodStringFormat",0,f1,"$ZodSuccess",0,hd,"$ZodSymbol",0,gz,"$ZodTemplateLiteral",0,hn,"$ZodTransform",0,g3,"$ZodTuple",0,gV,"$ZodType",0,f_,"$ZodULID",0,ga,"$ZodURL",0,f5,"$ZodUUID",0,f3,"$ZodUndefined",0,gA,"$ZodUnion",0,gP,"$ZodUnknown",0,gD,"$ZodVoid",0,gF,"$ZodXID",0,gb,"$ZodXor",0,gR,"clone",()=>dS,"isValidBase64",()=>gm,"isValidBase64URL",()=>go,"isValidJWT",()=>gr],61345);var kh=a.i(89859),kh=kh,ki=a.i(83745),ki=ki;a.s([],73889),a.s(["ZodISODate",()=>kl,"ZodISODateTime",()=>kj,"ZodISODuration",()=>kp,"ZodISOTime",()=>kn,"date",()=>km,"datetime",()=>kk,"duration",()=>kq,"time",()=>ko],23206);let kj=df("ZodISODateTime",(a,b)=>{gd.init(a,b),kK.init(a,b)});function kk(a){return h5(kj,a)}let kl=df("ZodISODate",(a,b)=>{ge.init(a,b),kK.init(a,b)});function km(a){return h6(kl,a)}let kn=df("ZodISOTime",(a,b)=>{gf.init(a,b),kK.init(a,b)});function ko(a){return h7(kn,a)}let kp=df("ZodISODuration",(a,b)=>{gg.init(a,b),kK.init(a,b)});function kq(a){return h8(kp,a)}let kr=(a,b)=>{el.init(a,b),a.name="ZodError",Object.defineProperties(a,{format:{value:b=>eo(a,b)},flatten:{value:b=>en(a,b)},addIssue:{value:b=>{a.issues.push(b),a.message=JSON.stringify(a.issues,dt,2)}},addIssues:{value:b=>{a.issues.push(...b),a.message=JSON.stringify(a.issues,dt,2)}},isEmpty:{get:()=>0===a.issues.length}})},ks=df("ZodError",kr),kt=df("ZodError",kr,{Parent:Error});a.s(["ZodError",0,ks,"ZodRealError",0,kt],31182);let ku=es(kt),kv=eu(kt),kw=ew(kt),kx=ey(kt),ky=eA(kt),kz=eC(kt),kA=eE(kt),kB=eG(kt),kC=eI(kt),kD=eK(kt),kE=eM(kt),kF=eO(kt);a.s(["decode",0,kz,"decodeAsync",0,kB,"encode",0,ky,"encodeAsync",0,kA,"parse",0,ku,"parseAsync",0,kv,"safeDecode",0,kD,"safeDecodeAsync",0,kF,"safeEncode",0,kC,"safeEncodeAsync",0,kE,"safeParse",0,kw,"safeParseAsync",0,kx],64653);let kG=df("ZodType",(a,b)=>(f_.init(a,b),Object.assign(a["~standard"],{jsonSchema:{input:jB(a,"input"),output:jB(a,"output")}}),a.toJSONSchema=jA(a,{}),a.def=b,a.type=b.type,Object.defineProperty(a,"_def",{value:b}),a.check=(...c)=>a.clone(ki.mergeDefs(b,{checks:[...b.checks??[],...c.map(a=>"function"==typeof a?{_zod:{check:a,def:{check:"custom"},onattach:[]}}:a)]}),{parent:!0}),a.with=a.check,a.clone=(b,c)=>dS(a,b,c),a.brand=()=>a,a.register=(b,c)=>(b.add(a,c),a),a.parse=(b,c)=>ku(a,b,c,{callee:a.parse}),a.safeParse=(b,c)=>kw(a,b,c),a.parseAsync=async(b,c)=>kv(a,b,c,{callee:a.parseAsync}),a.safeParseAsync=async(b,c)=>kx(a,b,c),a.spa=a.safeParseAsync,a.encode=(b,c)=>ky(a,b,c),a.decode=(b,c)=>kz(a,b,c),a.encodeAsync=async(b,c)=>kA(a,b,c),a.decodeAsync=async(b,c)=>kB(a,b,c),a.safeEncode=(b,c)=>kC(a,b,c),a.safeDecode=(b,c)=>kD(a,b,c),a.safeEncodeAsync=async(b,c)=>kE(a,b,c),a.safeDecodeAsync=async(b,c)=>kF(a,b,c),a.refine=(b,c)=>a.check(m5(b,c)),a.superRefine=b=>a.check(jq(b)),a.overwrite=b=>a.check(iV(b)),a.optional=()=>my(a),a.exactOptional=()=>mA(a),a.nullable=()=>mC(a),a.nullish=()=>my(mC(a)),a.nonoptional=b=>mJ(a,b),a.array=()=>l0(a),a.or=b=>l7([a,b]),a.and=b=>md(a,b),a.transform=b=>mR(a,mw(b)),a.default=b=>mF(a,b),a.prefault=b=>mH(a,b),a.catch=b=>mN(a,b),a.pipe=b=>mR(a,b),a.readonly=()=>mV(a),a.describe=b=>{let c=a.clone();return hG.add(c,{description:b}),c},Object.defineProperty(a,"description",{get:()=>hG.get(a)?.description,configurable:!0}),a.meta=(...b)=>{if(0===b.length)return hG.get(a);let c=a.clone();return hG.add(c,b[0]),c},a.isOptional=()=>a.safeParse(void 0).success,a.isNullable=()=>a.safeParse(null).success,a.apply=b=>b(a),a)),kH=df("_ZodString",(a,b)=>{f0.init(a,b),kG.init(a,b),a._zod.processJSONSchema=(b,c,d)=>jD(a,b,c,d);let c=a._zod.bag;a.format=c.format??null,a.minLength=c.minimum??null,a.maxLength=c.maximum??null,a.regex=(...b)=>a.check(iN(...b)),a.includes=(...b)=>a.check(iQ(...b)),a.startsWith=(...b)=>a.check(iR(...b)),a.endsWith=(...b)=>a.check(iS(...b)),a.min=(...b)=>a.check(iL(...b)),a.max=(...b)=>a.check(iK(...b)),a.length=(...b)=>a.check(iM(...b)),a.nonempty=(...b)=>a.check(iL(1,...b)),a.lowercase=b=>a.check(iO(b)),a.uppercase=b=>a.check(iP(b)),a.trim=()=>a.check(iX()),a.normalize=(...b)=>a.check(iW(...b)),a.toLowerCase=()=>a.check(iY()),a.toUpperCase=()=>a.check(iZ()),a.slugify=()=>a.check(i$())}),kI=df("ZodString",(a,b)=>{f0.init(a,b),kH.init(a,b),a.email=b=>a.check(hJ(kL,b)),a.url=b=>a.check(hP(kU,b)),a.jwt=b=>a.check(h3(lp,b)),a.emoji=b=>a.check(hQ(kX,b)),a.guid=b=>a.check(hK(kN,b)),a.uuid=b=>a.check(hL(kP,b)),a.uuidv4=b=>a.check(hM(kP,b)),a.uuidv6=b=>a.check(hN(kP,b)),a.uuidv7=b=>a.check(hO(kP,b)),a.nanoid=b=>a.check(hR(kZ,b)),a.guid=b=>a.check(hK(kN,b)),a.cuid=b=>a.check(hS(k_,b)),a.cuid2=b=>a.check(hT(k1,b)),a.ulid=b=>a.check(hU(k3,b)),a.base64=b=>a.check(h0(lj,b)),a.base64url=b=>a.check(h1(ll,b)),a.xid=b=>a.check(hV(k5,b)),a.ksuid=b=>a.check(hW(k7,b)),a.ipv4=b=>a.check(hX(k9,b)),a.ipv6=b=>a.check(hY(ld,b)),a.cidrv4=b=>a.check(h$(lf,b)),a.cidrv6=b=>a.check(h_(lh,b)),a.e164=b=>a.check(h2(ln,b)),a.datetime=b=>a.check(kk(b)),a.date=b=>a.check(km(b)),a.time=b=>a.check(ko(b)),a.duration=b=>a.check(kq(b))});function kJ(a){return hH(kI,a)}let kK=df("ZodStringFormat",(a,b)=>{f1.init(a,b),kH.init(a,b)}),kL=df("ZodEmail",(a,b)=>{f4.init(a,b),kK.init(a,b)});function kM(a){return hJ(kL,a)}let kN=df("ZodGUID",(a,b)=>{f2.init(a,b),kK.init(a,b)});function kO(a){return hK(kN,a)}let kP=df("ZodUUID",(a,b)=>{f3.init(a,b),kK.init(a,b)});function kQ(a){return hL(kP,a)}function kR(a){return hM(kP,a)}function kS(a){return hN(kP,a)}function kT(a){return hO(kP,a)}let kU=df("ZodURL",(a,b)=>{f5.init(a,b),kK.init(a,b)});function kV(a){return hP(kU,a)}function kW(a){return hP(kU,{protocol:/^https?$/,hostname:kh.domain,...ki.normalizeParams(a)})}let kX=df("ZodEmoji",(a,b)=>{f6.init(a,b),kK.init(a,b)});function kY(a){return hQ(kX,a)}let kZ=df("ZodNanoID",(a,b)=>{f7.init(a,b),kK.init(a,b)});function k$(a){return hR(kZ,a)}let k_=df("ZodCUID",(a,b)=>{f8.init(a,b),kK.init(a,b)});function k0(a){return hS(k_,a)}let k1=df("ZodCUID2",(a,b)=>{f9.init(a,b),kK.init(a,b)});function k2(a){return hT(k1,a)}let k3=df("ZodULID",(a,b)=>{ga.init(a,b),kK.init(a,b)});function k4(a){return hU(k3,a)}let k5=df("ZodXID",(a,b)=>{gb.init(a,b),kK.init(a,b)});function k6(a){return hV(k5,a)}let k7=df("ZodKSUID",(a,b)=>{gc.init(a,b),kK.init(a,b)});function k8(a){return hW(k7,a)}let k9=df("ZodIPv4",(a,b)=>{gh.init(a,b),kK.init(a,b)});function la(a){return hX(k9,a)}let lb=df("ZodMAC",(a,b)=>{gj.init(a,b),kK.init(a,b)});function lc(a){return hZ(lb,a)}let ld=df("ZodIPv6",(a,b)=>{gi.init(a,b),kK.init(a,b)});function le(a){return hY(ld,a)}let lf=df("ZodCIDRv4",(a,b)=>{gk.init(a,b),kK.init(a,b)});function lg(a){return h$(lf,a)}let lh=df("ZodCIDRv6",(a,b)=>{gl.init(a,b),kK.init(a,b)});function li(a){return h_(lh,a)}let lj=df("ZodBase64",(a,b)=>{gn.init(a,b),kK.init(a,b)});function lk(a){return h0(lj,a)}let ll=df("ZodBase64URL",(a,b)=>{gp.init(a,b),kK.init(a,b)});function lm(a){return h1(ll,a)}let ln=df("ZodE164",(a,b)=>{gq.init(a,b),kK.init(a,b)});function lo(a){return h2(ln,a)}let lp=df("ZodJWT",(a,b)=>{gs.init(a,b),kK.init(a,b)});function lq(a){return h3(lp,a)}let lr=df("ZodCustomStringFormat",(a,b)=>{gt.init(a,b),kK.init(a,b)});function ls(a,b,c={}){return jv(lr,a,b,c)}function lt(a){return jv(lr,"hostname",kh.hostname,a)}function lu(a){return jv(lr,"hex",kh.hex,a)}function lv(a,b){let c=b?.enc??"hex",d=`${a}_${c}`,e=kh[d];if(!e)throw Error(`Unrecognized hash format: ${d}`);return jv(lr,d,e,b)}let lw=df("ZodNumber",(a,b)=>{gu.init(a,b),kG.init(a,b),a._zod.processJSONSchema=(b,c,d)=>jE(a,b,c,d),a.gt=(b,c)=>a.check(iA(b,c)),a.gte=(b,c)=>a.check(iB(b,c)),a.min=(b,c)=>a.check(iB(b,c)),a.lt=(b,c)=>a.check(iy(b,c)),a.lte=(b,c)=>a.check(iz(b,c)),a.max=(b,c)=>a.check(iz(b,c)),a.int=b=>a.check(lz(b)),a.safe=b=>a.check(lz(b)),a.positive=b=>a.check(iA(0,b)),a.nonnegative=b=>a.check(iB(0,b)),a.negative=b=>a.check(iy(0,b)),a.nonpositive=b=>a.check(iz(0,b)),a.multipleOf=(b,c)=>a.check(iG(b,c)),a.step=(b,c)=>a.check(iG(b,c)),a.finite=()=>a;let c=a._zod.bag;a.minValue=Math.max(c.minimum??-1/0,c.exclusiveMinimum??-1/0)??null,a.maxValue=Math.min(c.maximum??1/0,c.exclusiveMaximum??1/0)??null,a.isInt=(c.format??"").includes("int")||Number.isSafeInteger(c.multipleOf??.5),a.isFinite=!0,a.format=c.format??null});function lx(a){return h9(lw,a)}let ly=df("ZodNumberFormat",(a,b)=>{gv.init(a,b),lw.init(a,b)});function lz(a){return ib(ly,a)}function lA(a){return ic(ly,a)}function lB(a){return id(ly,a)}function lC(a){return ie(ly,a)}function lD(a){return ig(ly,a)}let lE=df("ZodBoolean",(a,b)=>{gw.init(a,b),kG.init(a,b),a._zod.processJSONSchema=(b,c,d)=>jF(a,b,c,d)});function lF(a){return ih(lE,a)}let lG=df("ZodBigInt",(a,b)=>{gx.init(a,b),kG.init(a,b),a._zod.processJSONSchema=(b,c,d)=>jG(a,b,c,d),a.gte=(b,c)=>a.check(iB(b,c)),a.min=(b,c)=>a.check(iB(b,c)),a.gt=(b,c)=>a.check(iA(b,c)),a.gte=(b,c)=>a.check(iB(b,c)),a.min=(b,c)=>a.check(iB(b,c)),a.lt=(b,c)=>a.check(iy(b,c)),a.lte=(b,c)=>a.check(iz(b,c)),a.max=(b,c)=>a.check(iz(b,c)),a.positive=b=>a.check(iA(BigInt(0),b)),a.negative=b=>a.check(iy(BigInt(0),b)),a.nonpositive=b=>a.check(iz(BigInt(0),b)),a.nonnegative=b=>a.check(iB(BigInt(0),b)),a.multipleOf=(b,c)=>a.check(iG(b,c));let c=a._zod.bag;a.minValue=c.minimum??null,a.maxValue=c.maximum??null,a.format=c.format??null});function lH(a){return ij(lG,a)}let lI=df("ZodBigIntFormat",(a,b)=>{gy.init(a,b),lG.init(a,b)});function lJ(a){return il(lI,a)}function lK(a){return im(lI,a)}let lL=df("ZodSymbol",(a,b)=>{gz.init(a,b),kG.init(a,b),a._zod.processJSONSchema=(b,c,d)=>jH(a,b,c,d)});function lM(a){return io(lL,a)}let lN=df("ZodUndefined",(a,b)=>{gA.init(a,b),kG.init(a,b),a._zod.processJSONSchema=(b,c,d)=>jJ(a,b,c,d)});function lO(a){return ip(lN,a)}let lP=df("ZodNull",(a,b)=>{gB.init(a,b),kG.init(a,b),a._zod.processJSONSchema=(b,c,d)=>jI(a,b,c,d)});function lQ(a){return iq(lP,a)}let lR=df("ZodAny",(a,b)=>{gC.init(a,b),kG.init(a,b),a._zod.processJSONSchema=(b,c,d)=>jM(a,b,c,d)});function lS(){return ir(lR)}let lT=df("ZodUnknown",(a,b)=>{gD.init(a,b),kG.init(a,b),a._zod.processJSONSchema=(b,c,d)=>jN(a,b,c,d)});function lU(){return is(lT)}let lV=df("ZodNever",(a,b)=>{gE.init(a,b),kG.init(a,b),a._zod.processJSONSchema=(b,c,d)=>jL(a,b,c,d)});function lW(a){return it(lV,a)}let lX=df("ZodVoid",(a,b)=>{gF.init(a,b),kG.init(a,b),a._zod.processJSONSchema=(b,c,d)=>jK(a,b,c,d)});function lY(a){return iu(lX,a)}let lZ=df("ZodDate",(a,b)=>{gG.init(a,b),kG.init(a,b),a._zod.processJSONSchema=(b,c,d)=>jO(a,b,c,d),a.min=(b,c)=>a.check(iB(b,c)),a.max=(b,c)=>a.check(iz(b,c));let c=a._zod.bag;a.minDate=c.minimum?new Date(c.minimum):null,a.maxDate=c.maximum?new Date(c.maximum):null});function l$(a){return iv(lZ,a)}let l_=df("ZodArray",(a,b)=>{gI.init(a,b),kG.init(a,b),a._zod.processJSONSchema=(b,c,d)=>j$(a,b,c,d),a.element=b.element,a.min=(b,c)=>a.check(iL(b,c)),a.nonempty=b=>a.check(iL(1,b)),a.max=(b,c)=>a.check(iK(b,c)),a.length=(b,c)=>a.check(iM(b,c)),a.unwrap=()=>a.element});function l0(a,b){return i_(l_,a,b)}function l1(a){return mp(Object.keys(a._zod.def.shape))}let l2=df("ZodObject",(a,b)=>{gN.init(a,b),kG.init(a,b),a._zod.processJSONSchema=(b,c,d)=>j_(a,b,c,d),ki.defineLazy(a,"shape",()=>b.shape),a.keyof=()=>mp(Object.keys(a._zod.def.shape)),a.catchall=b=>a.clone({...a._zod.def,catchall:b}),a.passthrough=()=>a.clone({...a._zod.def,catchall:lU()}),a.loose=()=>a.clone({...a._zod.def,catchall:lU()}),a.strict=()=>a.clone({...a._zod.def,catchall:lW()}),a.strip=()=>a.clone({...a._zod.def,catchall:void 0}),a.extend=b=>ki.extend(a,b),a.safeExtend=b=>ki.safeExtend(a,b),a.merge=b=>ki.merge(a,b),a.pick=b=>ki.pick(a,b),a.omit=b=>ki.omit(a,b),a.partial=(...b)=>ki.partial(mx,a,b[0]),a.required=(...b)=>ki.required(mI,a,b[0])});function l3(a,b){return new l2({type:"object",shape:a??{},...ki.normalizeParams(b)})}function l4(a,b){return new l2({type:"object",shape:a,catchall:lW(),...ki.normalizeParams(b)})}function l5(a,b){return new l2({type:"object",shape:a,catchall:lU(),...ki.normalizeParams(b)})}let l6=df("ZodUnion",(a,b)=>{gP.init(a,b),kG.init(a,b),a._zod.processJSONSchema=(b,c,d)=>j0(a,b,c,d),a.options=b.options});function l7(a,b){return new l6({type:"union",options:a,...ki.normalizeParams(b)})}let l8=df("ZodXor",(a,b)=>{l6.init(a,b),gR.init(a,b),a._zod.processJSONSchema=(b,c,d)=>j0(a,b,c,d),a.options=b.options});function l9(a,b){return new l8({type:"union",options:a,inclusive:!1,...ki.normalizeParams(b)})}let ma=df("ZodDiscriminatedUnion",(a,b)=>{l6.init(a,b),gS.init(a,b)});function mb(a,b,c){return new ma({type:"union",options:b,discriminator:a,...ki.normalizeParams(c)})}let mc=df("ZodIntersection",(a,b)=>{gT.init(a,b),kG.init(a,b),a._zod.processJSONSchema=(b,c,d)=>j1(a,b,c,d)});function md(a,b){return new mc({type:"intersection",left:a,right:b})}let me=df("ZodTuple",(a,b)=>{gV.init(a,b),kG.init(a,b),a._zod.processJSONSchema=(b,c,d)=>j2(a,b,c,d),a.rest=b=>a.clone({...a._zod.def,rest:b})});function mf(a,b,c){let d=b instanceof f_,e=d?c:b;return new me({type:"tuple",items:a,rest:d?b:null,...ki.normalizeParams(e)})}let mg=df("ZodRecord",(a,b)=>{gX.init(a,b),kG.init(a,b),a._zod.processJSONSchema=(b,c,d)=>j3(a,b,c,d),a.keyType=b.keyType,a.valueType=b.valueType});function mh(a,b,c){return new mg({type:"record",keyType:a,valueType:b,...ki.normalizeParams(c)})}function mi(a,b,c){let d=dS(a);return d._zod.values=void 0,new mg({type:"record",keyType:d,valueType:b,...ki.normalizeParams(c)})}function mj(a,b,c){return new mg({type:"record",keyType:a,valueType:b,mode:"loose",...ki.normalizeParams(c)})}let mk=df("ZodMap",(a,b)=>{gY.init(a,b),kG.init(a,b),a._zod.processJSONSchema=(b,c,d)=>jY(a,b,c,d),a.keyType=b.keyType,a.valueType=b.valueType,a.min=(...b)=>a.check(iI(...b)),a.nonempty=b=>a.check(iI(1,b)),a.max=(...b)=>a.check(iH(...b)),a.size=(...b)=>a.check(iJ(...b))});function ml(a,b,c){return new mk({type:"map",keyType:a,valueType:b,...ki.normalizeParams(c)})}let mm=df("ZodSet",(a,b)=>{g$.init(a,b),kG.init(a,b),a._zod.processJSONSchema=(b,c,d)=>jZ(a,b,c,d),a.min=(...b)=>a.check(iI(...b)),a.nonempty=b=>a.check(iI(1,b)),a.max=(...b)=>a.check(iH(...b)),a.size=(...b)=>a.check(iJ(...b))});function mn(a,b){return new mm({type:"set",valueType:a,...ki.normalizeParams(b)})}let mo=df("ZodEnum",(a,b)=>{g0.init(a,b),kG.init(a,b),a._zod.processJSONSchema=(b,c,d)=>jP(a,b,c,d),a.enum=b.entries,a.options=Object.values(b.entries);let c=new Set(Object.keys(b.entries));a.extract=(a,d)=>{let e={};for(let d of a)if(c.has(d))e[d]=b.entries[d];else throw Error(`Key ${d} not found in enum`);return new mo({...b,checks:[],...ki.normalizeParams(d),entries:e})},a.exclude=(a,d)=>{let e={...b.entries};for(let b of a)if(c.has(b))delete e[b];else throw Error(`Key ${b} not found in enum`);return new mo({...b,checks:[],...ki.normalizeParams(d),entries:e})}});function mp(a,b){return new mo({type:"enum",entries:Array.isArray(a)?Object.fromEntries(a.map(a=>[a,a])):a,...ki.normalizeParams(b)})}function mq(a,b){return new mo({type:"enum",entries:a,...ki.normalizeParams(b)})}let mr=df("ZodLiteral",(a,b)=>{g1.init(a,b),kG.init(a,b),a._zod.processJSONSchema=(b,c,d)=>jQ(a,b,c,d),a.values=new Set(b.values),Object.defineProperty(a,"value",{get(){if(b.values.length>1)throw Error("This schema contains multiple valid literal values. Use `.values` instead.");return b.values[0]}})});function ms(a,b){return new mr({type:"literal",values:Array.isArray(a)?a:[a],...ki.normalizeParams(b)})}let mt=df("ZodFile",(a,b)=>{g2.init(a,b),kG.init(a,b),a._zod.processJSONSchema=(b,c,d)=>jT(a,b,c,d),a.min=(b,c)=>a.check(iI(b,c)),a.max=(b,c)=>a.check(iH(b,c)),a.mime=(b,c)=>a.check(iU(Array.isArray(b)?b:[b],c))});function mu(a){return jb(mt,a)}let mv=df("ZodTransform",(a,b)=>{g3.init(a,b),kG.init(a,b),a._zod.processJSONSchema=(b,c,d)=>jX(a,b,c,d),a._zod.parse=(c,d)=>{if("backward"===d.direction)throw new di(a.constructor.name);c.addIssue=d=>{"string"==typeof d?c.issues.push(ki.issue(d,c.value,b)):(d.fatal&&(d.continue=!1),d.code??(d.code="custom"),d.input??(d.input=c.value),d.inst??(d.inst=a),c.issues.push(ki.issue(d)))};let e=b.transform(c.value,c);return e instanceof Promise?e.then(a=>(c.value=a,c)):(c.value=e,c)}});function mw(a){return new mv({type:"transform",transform:a})}let mx=df("ZodOptional",(a,b)=>{g5.init(a,b),kG.init(a,b),a._zod.processJSONSchema=(b,c,d)=>kc(a,b,c,d),a.unwrap=()=>a._zod.def.innerType});function my(a){return new mx({type:"optional",innerType:a})}let mz=df("ZodExactOptional",(a,b)=>{g6.init(a,b),kG.init(a,b),a._zod.processJSONSchema=(b,c,d)=>kc(a,b,c,d),a.unwrap=()=>a._zod.def.innerType});function mA(a){return new mz({type:"optional",innerType:a})}let mB=df("ZodNullable",(a,b)=>{g7.init(a,b),kG.init(a,b),a._zod.processJSONSchema=(b,c,d)=>j4(a,b,c,d),a.unwrap=()=>a._zod.def.innerType});function mC(a){return new mB({type:"nullable",innerType:a})}function mD(a){return my(mC(a))}let mE=df("ZodDefault",(a,b)=>{g8.init(a,b),kG.init(a,b),a._zod.processJSONSchema=(b,c,d)=>j6(a,b,c,d),a.unwrap=()=>a._zod.def.innerType,a.removeDefault=a.unwrap});function mF(a,b){return new mE({type:"default",innerType:a,get defaultValue(){return"function"==typeof b?b():ki.shallowClone(b)}})}let mG=df("ZodPrefault",(a,b)=>{ha.init(a,b),kG.init(a,b),a._zod.processJSONSchema=(b,c,d)=>j7(a,b,c,d),a.unwrap=()=>a._zod.def.innerType});function mH(a,b){return new mG({type:"prefault",innerType:a,get defaultValue(){return"function"==typeof b?b():ki.shallowClone(b)}})}let mI=df("ZodNonOptional",(a,b)=>{hb.init(a,b),kG.init(a,b),a._zod.processJSONSchema=(b,c,d)=>j5(a,b,c,d),a.unwrap=()=>a._zod.def.innerType});function mJ(a,b){return new mI({type:"nonoptional",innerType:a,...ki.normalizeParams(b)})}let mK=df("ZodSuccess",(a,b)=>{hd.init(a,b),kG.init(a,b),a._zod.processJSONSchema=(b,c,d)=>jU(a,b,c,d),a.unwrap=()=>a._zod.def.innerType});function mL(a){return new mK({type:"success",innerType:a})}let mM=df("ZodCatch",(a,b)=>{he.init(a,b),kG.init(a,b),a._zod.processJSONSchema=(b,c,d)=>j8(a,b,c,d),a.unwrap=()=>a._zod.def.innerType,a.removeCatch=a.unwrap});function mN(a,b){return new mM({type:"catch",innerType:a,catchValue:"function"==typeof b?b:()=>b})}let mO=df("ZodNaN",(a,b)=>{hf.init(a,b),kG.init(a,b),a._zod.processJSONSchema=(b,c,d)=>jR(a,b,c,d)});function mP(a){return ix(mO,a)}let mQ=df("ZodPipe",(a,b)=>{hg.init(a,b),kG.init(a,b),a._zod.processJSONSchema=(b,c,d)=>j9(a,b,c,d),a.in=b.in,a.out=b.out});function mR(a,b){return new mQ({type:"pipe",in:a,out:b})}let mS=df("ZodCodec",(a,b)=>{mQ.init(a,b),hi.init(a,b)});function mT(a,b,c){return new mS({type:"pipe",in:a,out:b,transform:c.decode,reverseTransform:c.encode})}let mU=df("ZodReadonly",(a,b)=>{hl.init(a,b),kG.init(a,b),a._zod.processJSONSchema=(b,c,d)=>ka(a,b,c,d),a.unwrap=()=>a._zod.def.innerType});function mV(a){return new mU({type:"readonly",innerType:a})}let mW=df("ZodTemplateLiteral",(a,b)=>{hn.init(a,b),kG.init(a,b),a._zod.processJSONSchema=(b,c,d)=>jS(a,b,c,d)});function mX(a,b){return new mW({type:"template_literal",parts:a,...ki.normalizeParams(b)})}let mY=df("ZodLazy",(a,b)=>{hq.init(a,b),kG.init(a,b),a._zod.processJSONSchema=(b,c,d)=>kd(a,b,c,d),a.unwrap=()=>a._zod.def.getter()});function mZ(a){return new mY({type:"lazy",getter:a})}let m$=df("ZodPromise",(a,b)=>{hp.init(a,b),kG.init(a,b),a._zod.processJSONSchema=(b,c,d)=>kb(a,b,c,d),a.unwrap=()=>a._zod.def.innerType});function m_(a){return new m$({type:"promise",innerType:a})}let m0=df("ZodFunction",(a,b)=>{ho.init(a,b),kG.init(a,b),a._zod.processJSONSchema=(b,c,d)=>jW(a,b,c,d)});function m1(a){return new m0({type:"function",input:Array.isArray(a?.input)?mf(a?.input):a?.input??l0(lU()),output:a?.output??lU()})}let m2=df("ZodCustom",(a,b)=>{hr.init(a,b),kG.init(a,b),a._zod.processJSONSchema=(b,c,d)=>jV(a,b,c,d)});function m3(a){let b=new fB({check:"custom"});return b._zod.check=a,b}function m4(a,b){return jo(m2,a??(()=>!0),b)}function m5(a,b={}){return jp(m2,a,b)}function m6(a){return jq(a)}let m7=js,m8=jt;function m9(a,b={}){let c=new m2({type:"custom",check:"custom",fn:b=>b instanceof a,abort:!0,...ki.normalizeParams(b)});return c._zod.bag.Class=a,c._zod.check=b=>{b.value instanceof a||b.issues.push({code:"invalid_type",expected:a.name,input:b.value,inst:c,path:[...c._zod.def.path??[]]})},c}let na=(...a)=>ju({Codec:mS,Boolean:lE,String:kI},...a);function nb(a){let b=mZ(()=>l7([kJ(a),lx(),lF(),lQ(),l0(b),mh(kJ(),b)]));return b}function nc(a,b){return mR(mw(a),b)}let nd={invalid_type:"invalid_type",too_big:"too_big",too_small:"too_small",invalid_format:"invalid_format",not_multiple_of:"not_multiple_of",unrecognized_keys:"unrecognized_keys",invalid_union:"invalid_union",invalid_key:"invalid_key",invalid_element:"invalid_element",invalid_value:"invalid_value",custom:"custom"};function ne(a){dk({customError:a})}function nf(){return dk().customError}M||(M={}),a.s(["ZodFirstPartyTypeKind",()=>M,"ZodIssueCode",0,nd,"getErrorMap",()=>nf,"setErrorMap",()=>ne],48499),a.i(73889),a.s(["endsWith",()=>iS,"gt",()=>iA,"gte",()=>iB,"includes",()=>iQ,"length",()=>iM,"lowercase",()=>iO,"lt",()=>iy,"lte",()=>iz,"maxLength",()=>iK,"maxSize",()=>iH,"mime",()=>iU,"minLength",()=>iL,"minSize",()=>iI,"multipleOf",()=>iG,"negative",()=>iD,"nonnegative",()=>iF,"nonpositive",()=>iE,"normalize",()=>iW,"overwrite",()=>iV,"positive",()=>iC,"property",()=>iT,"regex",()=>iN,"size",()=>iJ,"slugify",()=>i$,"startsWith",()=>iR,"toLowerCase",()=>iY,"toUpperCase",()=>iZ,"trim",()=>iX,"uppercase",()=>iP],4972);var ng=a.i(4972),nh=a.i(23206);let ni={...a.i(65261),...ng,iso:nh},nj=new Set(["$schema","$ref","$defs","definitions","$id","id","$comment","$anchor","$vocabulary","$dynamicRef","$dynamicAnchor","type","enum","const","anyOf","oneOf","allOf","not","properties","required","additionalProperties","patternProperties","propertyNames","minProperties","maxProperties","items","prefixItems","additionalItems","minItems","maxItems","uniqueItems","contains","minContains","maxContains","minLength","maxLength","pattern","format","minimum","maximum","exclusiveMinimum","exclusiveMaximum","multipleOf","description","default","contentEncoding","contentMediaType","contentSchema","unevaluatedItems","unevaluatedProperties","if","then","else","dependentSchemas","dependentRequired","nullable","readOnly"]);function nk(a,b){var c;let d;if("boolean"==typeof a)return a?ni.any():ni.never();let e={version:(c=b?.defaultTarget,"https://json-schema.org/draft/2020-12/schema"===(d=a.$schema)?"draft-2020-12":"http://json-schema.org/draft-07/schema#"===d?"draft-7":"http://json-schema.org/draft-04/schema#"===d?"draft-4":c??"draft-2020-12"),defs:a.$defs||a.definitions||{},refs:new Map,processing:new Set,rootSchema:a,registry:b?.registry??hG};return function a(b,c){if("boolean"==typeof b)return b?ni.any():ni.never();let d=function b(c,d){let e;if(void 0!==c.not){if("object"==typeof c.not&&0===Object.keys(c.not).length)return ni.never();throw Error("not is not supported in Zod (except { not: {} } for never)")}if(void 0!==c.unevaluatedItems)throw Error("unevaluatedItems is not supported");if(void 0!==c.unevaluatedProperties)throw Error("unevaluatedProperties is not supported");if(void 0!==c.if||void 0!==c.then||void 0!==c.else)throw Error("Conditional schemas (if/then/else) are not supported");if(void 0!==c.dependentSchemas||void 0!==c.dependentRequired)throw Error("dependentSchemas and dependentRequired are not supported");if(c.$ref){let b=c.$ref;if(d.refs.has(b))return d.refs.get(b);if(d.processing.has(b))return ni.lazy(()=>{if(!d.refs.has(b))throw Error(`Circular reference not resolved: ${b}`);return d.refs.get(b)});d.processing.add(b);let e=a(function(a,b){if(!a.startsWith("#"))throw Error("External $ref is not supported, only local refs (#/...) are allowed");let c=a.slice(1).split("/").filter(Boolean);if(0===c.length)return b.rootSchema;let d="draft-2020-12"===b.version?"$defs":"definitions";if(c[0]===d){let d=c[1];if(!d||!b.defs[d])throw Error(`Reference not found: ${a}`);return b.defs[d]}throw Error(`Reference not found: ${a}`)}(b,d),d);return d.refs.set(b,e),d.processing.delete(b),e}if(void 0!==c.enum){let a=c.enum;if("openapi-3.0"===d.version&&!0===c.nullable&&1===a.length&&null===a[0])return ni.null();if(0===a.length)return ni.never();if(1===a.length)return ni.literal(a[0]);if(a.every(a=>"string"==typeof a))return ni.enum(a);let b=a.map(a=>ni.literal(a));return b.length<2?b[0]:ni.union([b[0],b[1],...b.slice(2)])}if(void 0!==c.const)return ni.literal(c.const);let f=c.type;if(Array.isArray(f)){let a=f.map(a=>b({...c,type:a},d));return 0===a.length?ni.never():1===a.length?a[0]:ni.union(a)}if(!f)return ni.any();switch(f){case"string":{let a=ni.string();if(c.format){let b=c.format;"email"===b?a=a.check(ni.email()):"uri"===b||"uri-reference"===b?a=a.check(ni.url()):"uuid"===b||"guid"===b?a=a.check(ni.uuid()):"date-time"===b?a=a.check(ni.iso.datetime()):"date"===b?a=a.check(ni.iso.date()):"time"===b?a=a.check(ni.iso.time()):"duration"===b?a=a.check(ni.iso.duration()):"ipv4"===b?a=a.check(ni.ipv4()):"ipv6"===b?a=a.check(ni.ipv6()):"mac"===b?a=a.check(ni.mac()):"cidr"===b?a=a.check(ni.cidrv4()):"cidr-v6"===b?a=a.check(ni.cidrv6()):"base64"===b?a=a.check(ni.base64()):"base64url"===b?a=a.check(ni.base64url()):"e164"===b?a=a.check(ni.e164()):"jwt"===b?a=a.check(ni.jwt()):"emoji"===b?a=a.check(ni.emoji()):"nanoid"===b?a=a.check(ni.nanoid()):"cuid"===b?a=a.check(ni.cuid()):"cuid2"===b?a=a.check(ni.cuid2()):"ulid"===b?a=a.check(ni.ulid()):"xid"===b?a=a.check(ni.xid()):"ksuid"===b&&(a=a.check(ni.ksuid()))}"number"==typeof c.minLength&&(a=a.min(c.minLength)),"number"==typeof c.maxLength&&(a=a.max(c.maxLength)),c.pattern&&(a=a.regex(new RegExp(c.pattern))),e=a;break}case"number":case"integer":{let a="integer"===f?ni.number().int():ni.number();"number"==typeof c.minimum&&(a=a.min(c.minimum)),"number"==typeof c.maximum&&(a=a.max(c.maximum)),"number"==typeof c.exclusiveMinimum?a=a.gt(c.exclusiveMinimum):!0===c.exclusiveMinimum&&"number"==typeof c.minimum&&(a=a.gt(c.minimum)),"number"==typeof c.exclusiveMaximum?a=a.lt(c.exclusiveMaximum):!0===c.exclusiveMaximum&&"number"==typeof c.maximum&&(a=a.lt(c.maximum)),"number"==typeof c.multipleOf&&(a=a.multipleOf(c.multipleOf)),e=a;break}case"boolean":e=ni.boolean();break;case"null":e=ni.null();break;case"object":{let b={},f=c.properties||{},g=new Set(c.required||[]);for(let[c,e]of Object.entries(f)){let f=a(e,d);b[c]=g.has(c)?f:f.optional()}if(c.propertyNames){let f=a(c.propertyNames,d),g=c.additionalProperties&&"object"==typeof c.additionalProperties?a(c.additionalProperties,d):ni.any();if(0===Object.keys(b).length){e=ni.record(f,g);break}let h=ni.object(b).passthrough(),i=ni.looseRecord(f,g);e=ni.intersection(h,i);break}if(c.patternProperties){let f=c.patternProperties,g=Object.keys(f),h=[];for(let b of g){let c=a(f[b],d),e=ni.string().regex(new RegExp(b));h.push(ni.looseRecord(e,c))}let i=[];if(Object.keys(b).length>0&&i.push(ni.object(b).passthrough()),i.push(...h),0===i.length)e=ni.object({}).passthrough();else if(1===i.length)e=i[0];else{let a=ni.intersection(i[0],i[1]);for(let b=2;b<i.length;b++)a=ni.intersection(a,i[b]);e=a}break}let h=ni.object(b);e=!1===c.additionalProperties?h.strict():"object"==typeof c.additionalProperties?h.catchall(a(c.additionalProperties,d)):h.passthrough();break}case"array":{let b=c.prefixItems,f=c.items;if(b&&Array.isArray(b)){let g=b.map(b=>a(b,d)),h=f&&"object"==typeof f&&!Array.isArray(f)?a(f,d):void 0;e=h?ni.tuple(g).rest(h):ni.tuple(g),"number"==typeof c.minItems&&(e=e.check(ni.minLength(c.minItems))),"number"==typeof c.maxItems&&(e=e.check(ni.maxLength(c.maxItems)))}else if(Array.isArray(f)){let b=f.map(b=>a(b,d)),g=c.additionalItems&&"object"==typeof c.additionalItems?a(c.additionalItems,d):void 0;e=g?ni.tuple(b).rest(g):ni.tuple(b),"number"==typeof c.minItems&&(e=e.check(ni.minLength(c.minItems))),"number"==typeof c.maxItems&&(e=e.check(ni.maxLength(c.maxItems)))}else if(void 0!==f){let b=a(f,d),g=ni.array(b);"number"==typeof c.minItems&&(g=g.min(c.minItems)),"number"==typeof c.maxItems&&(g=g.max(c.maxItems)),e=g}else e=ni.array(ni.any());break}default:throw Error(`Unsupported type: ${f}`)}return c.description&&(e=e.describe(c.description)),void 0!==c.default&&(e=e.default(c.default)),e}(b,c),e=b.type||void 0!==b.enum||void 0!==b.const;if(b.anyOf&&Array.isArray(b.anyOf)){let f=b.anyOf.map(b=>a(b,c)),g=ni.union(f);d=e?ni.intersection(d,g):g}if(b.oneOf&&Array.isArray(b.oneOf)){let f=b.oneOf.map(b=>a(b,c)),g=ni.xor(f);d=e?ni.intersection(d,g):g}if(b.allOf&&Array.isArray(b.allOf))if(0===b.allOf.length)d=e?d:ni.any();else{let f=e?d:a(b.allOf[0],c),g=+!e;for(let d=g;d<b.allOf.length;d++)f=ni.intersection(f,a(b.allOf[d],c));d=f}!0===b.nullable&&"openapi-3.0"===c.version&&(d=ni.nullable(d)),!0===b.readOnly&&(d=ni.readonly(d));let f={};for(let a of["$id","id","$comment","$anchor","$vocabulary","$dynamicRef","$dynamicAnchor"])a in b&&(f[a]=b[a]);for(let a of["contentEncoding","contentMediaType","contentSchema"])a in b&&(f[a]=b[a]);for(let a of Object.keys(b))nj.has(a)||(f[a]=b[a]);return Object.keys(f).length>0&&c.registry.add(d,f),d}(a,e)}function nl(a){return hI(kI,a)}function nm(a){return ia(lw,a)}function nn(a){return ii(lE,a)}function no(a){return ik(lG,a)}function np(a){return iw(lZ,a)}a.s(["bigint",()=>no,"boolean",()=>nn,"date",()=>np,"number",()=>nm,"string",()=>nl],50705),dk(hu()),a.s([],25183),a.i(25183),a.i(28946),a.i(52435),a.i(92099),a.i(83916),a.i(61345),a.i(93284),a.i(83702);var nq=ki,nr=kh;a.i(59078),a.s(["ar",0,function(){let a,b,c;return{localeError:(a={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}},b={regex:"",email:" ",url:"",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ISO",date:"  ISO",time:"  ISO",duration:"  ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:"   IPv4",cidrv6:"   IPv6",base64:"  base64-encoded",base64url:"  base64url-encoded",json_string:"   JSON",e164:"   E.164",jwt:"JWT",template_literal:""},c={nan:"NaN"},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=ea(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return`  :   instanceof ${d.expected}    ${e}`;return`  :   ${a}    ${e}`}case"invalid_value":if(1===d.values.length)return`  :   ${dV(d.values[0])}`;return`  :     : ${ds(d.values,"|")}`;case"too_big":{let b=d.inclusive?"<=":"<",c=a[d.origin]??null;if(c)return`   :    ${d.origin??""} ${b} ${d.maximum.toString()} ${c.unit??""}`;return`  :    ${d.origin??""} ${b} ${d.maximum.toString()}`}case"too_small":{let b=d.inclusive?">=":">",c=a[d.origin]??null;if(c)return`  :   ${d.origin}   ${b} ${d.minimum.toString()} ${c.unit}`;return`  :   ${d.origin}   ${b} ${d.minimum.toString()}`}case"invalid_format":if("starts_with"===d.format)return`  :     "${d.prefix}"`;if("ends_with"===d.format)return`  :     "${d.suffix}"`;if("includes"===d.format)return`  :    "${d.includes}"`;if("regex"===d.format)return`  :     ${d.pattern}`;return`${b[d.format]??d.format}  `;case"not_multiple_of":return`  :      ${d.divisor}`;case"unrecognized_keys":return`${d.keys.length>1?"":""} ${d.keys.length>1?"":""}: ${ds(d.keys," ")}`;case"invalid_key":return`    ${d.origin}`;case"invalid_union":default:return"  ";case"invalid_element":return`    ${d.origin}`}})}},"az",0,function(){let a,b,c;return{localeError:(a={string:{unit:"simvol",verb:"olmaldr"},file:{unit:"bayt",verb:"olmaldr"},array:{unit:"element",verb:"olmaldr"},set:{unit:"element",verb:"olmaldr"}},b={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"},c={nan:"NaN"},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=ea(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return`Yanl dyr: g\xf6zlniln instanceof ${d.expected}, daxil olan ${e}`;return`Yanl dyr: g\xf6zlniln ${a}, daxil olan ${e}`}case"invalid_value":if(1===d.values.length)return`Yanl dyr: g\xf6zlniln ${dV(d.values[0])}`;return`Yanl se\xe7im: aadaklardan biri olmaldr: ${ds(d.values,"|")}`;case"too_big":{let b=d.inclusive?"<=":"<",c=a[d.origin]??null;if(c)return`\xc7ox b\xf6y\xfck: g\xf6zlniln ${d.origin??"dyr"} ${b}${d.maximum.toString()} ${c.unit??"element"}`;return`\xc7ox b\xf6y\xfck: g\xf6zlniln ${d.origin??"dyr"} ${b}${d.maximum.toString()}`}case"too_small":{let b=d.inclusive?">=":">",c=a[d.origin]??null;if(c)return`\xc7ox ki\xe7ik: g\xf6zlniln ${d.origin} ${b}${d.minimum.toString()} ${c.unit}`;return`\xc7ox ki\xe7ik: g\xf6zlniln ${d.origin} ${b}${d.minimum.toString()}`}case"invalid_format":if("starts_with"===d.format)return`Yanl mtn: "${d.prefix}" il balamaldr`;if("ends_with"===d.format)return`Yanl mtn: "${d.suffix}" il bitmlidir`;if("includes"===d.format)return`Yanl mtn: "${d.includes}" daxil olmaldr`;if("regex"===d.format)return`Yanl mtn: ${d.pattern} ablonuna uyun olmaldr`;return`Yanl ${b[d.format]??d.format}`;case"not_multiple_of":return`Yanl dd: ${d.divisor} il b\xf6l\xfcn biln olmaldr`;case"unrecognized_keys":return`Tannmayan a\xe7ar${d.keys.length>1?"lar":""}: ${ds(d.keys,", ")}`;case"invalid_key":return`${d.origin} daxilind yanl a\xe7ar`;case"invalid_union":return"Yanl dyr";case"invalid_element":return`${d.origin} daxilind yanl dyr`;default:return`Yanl dyr`}})}},"be",0,function(){let a,b,c;return{localeError:(a={string:{unit:{one:"",few:"",many:""},verb:""},array:{unit:{one:"",few:"",many:""},verb:""},set:{unit:{one:"",few:"",many:""},verb:""},file:{unit:{one:"",few:"",many:""},verb:""}},b={regex:"",email:"email ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"   base64",base64url:"   base64url",json_string:"JSON ",e164:" E.164",jwt:"JWT",template_literal:""},c={nan:"NaN",number:"",array:""},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=ea(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return` :  instanceof ${d.expected},  ${e}`;return` :  ${a},  ${e}`}case"invalid_value":if(1===d.values.length)return` :  ${dV(d.values[0])}`;return` :    ${ds(d.values,"|")}`;case"too_big":{let b=d.inclusive?"<=":"<",c=a[d.origin]??null;if(c){let a=ht(Number(d.maximum),c.unit.one,c.unit.few,c.unit.many);return` : ,  ${d.origin??""}  ${c.verb} ${b}${d.maximum.toString()} ${a}`}return` : ,  ${d.origin??""}   ${b}${d.maximum.toString()}`}case"too_small":{let b=d.inclusive?">=":">",c=a[d.origin]??null;if(c){let a=ht(Number(d.minimum),c.unit.one,c.unit.few,c.unit.many);return` : ,  ${d.origin}  ${c.verb} ${b}${d.minimum.toString()} ${a}`}return` : ,  ${d.origin}   ${b}${d.minimum.toString()}`}case"invalid_format":if("starts_with"===d.format)return` :    "${d.prefix}"`;if("ends_with"===d.format)return` :    "${d.suffix}"`;if("includes"===d.format)return` :   "${d.includes}"`;if("regex"===d.format)return` :    ${d.pattern}`;return` ${b[d.format]??d.format}`;case"not_multiple_of":return` :    ${d.divisor}`;case"unrecognized_keys":return` ${d.keys.length>1?"":""}: ${ds(d.keys,", ")}`;case"invalid_key":return`   ${d.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${d.origin}`;default:return` `}})}},"bg",0,function(){let a,b,c;return{localeError:(a={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}},b={regex:"",email:" ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64- ",base64url:"base64url- ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},c={nan:"NaN",number:"",array:""},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=ea(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return` :  instanceof ${d.expected},  ${e}`;return` :  ${a},  ${e}`}case"invalid_value":if(1===d.values.length)return` :  ${dV(d.values[0])}`;return` :    ${ds(d.values,"|")}`;case"too_big":{let b=d.inclusive?"<=":"<",c=a[d.origin]??null;if(c)return` :   ${d.origin??""}   ${b}${d.maximum.toString()} ${c.unit??""}`;return` :   ${d.origin??""}   ${b}${d.maximum.toString()}`}case"too_small":{let b=d.inclusive?">=":">",c=a[d.origin]??null;if(c)return` :   ${d.origin}   ${b}${d.minimum.toString()} ${c.unit}`;return` :   ${d.origin}   ${b}${d.minimum.toString()}`}case"invalid_format":{if("starts_with"===d.format)return` :     "${d.prefix}"`;if("ends_with"===d.format)return` :     "${d.suffix}"`;if("includes"===d.format)return` :    "${d.includes}"`;if("regex"===d.format)return` :     ${d.pattern}`;let a="";return"emoji"===d.format&&(a=""),"datetime"===d.format&&(a=""),"date"===d.format&&(a=""),"time"===d.format&&(a=""),"duration"===d.format&&(a=""),`${a} ${b[d.format]??d.format}`}case"not_multiple_of":return` :      ${d.divisor}`;case"unrecognized_keys":return`${d.keys.length>1?"":""} ${d.keys.length>1?"":""}: ${ds(d.keys,", ")}`;case"invalid_key":return`   ${d.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${d.origin}`;default:return` `}})}},"ca",0,function(){let a,b,c;return{localeError:(a={string:{unit:"carcters",verb:"contenir"},file:{unit:"bytes",verb:"contenir"},array:{unit:"elements",verb:"contenir"},set:{unit:"elements",verb:"contenir"}},b={regex:"entrada",email:"adrea electrnica",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i hora ISO",date:"data ISO",time:"hora ISO",duration:"durada ISO",ipv4:"adrea IPv4",ipv6:"adrea IPv6",cidrv4:"rang IPv4",cidrv6:"rang IPv6",base64:"cadena codificada en base64",base64url:"cadena codificada en base64url",json_string:"cadena JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"},c={nan:"NaN"},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=ea(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return`Tipus inv\xe0lid: s'esperava instanceof ${d.expected}, s'ha rebut ${e}`;return`Tipus inv\xe0lid: s'esperava ${a}, s'ha rebut ${e}`}case"invalid_value":if(1===d.values.length)return`Valor inv\xe0lid: s'esperava ${dV(d.values[0])}`;return`Opci\xf3 inv\xe0lida: s'esperava una de ${ds(d.values," o ")}`;case"too_big":{let b=d.inclusive?"com a mxim":"menys de",c=a[d.origin]??null;if(c)return`Massa gran: s'esperava que ${d.origin??"el valor"} contingu\xe9s ${b} ${d.maximum.toString()} ${c.unit??"elements"}`;return`Massa gran: s'esperava que ${d.origin??"el valor"} fos ${b} ${d.maximum.toString()}`}case"too_small":{let b=d.inclusive?"com a mnim":"ms de",c=a[d.origin]??null;if(c)return`Massa petit: s'esperava que ${d.origin} contingu\xe9s ${b} ${d.minimum.toString()} ${c.unit}`;return`Massa petit: s'esperava que ${d.origin} fos ${b} ${d.minimum.toString()}`}case"invalid_format":if("starts_with"===d.format)return`Format inv\xe0lid: ha de comen\xe7ar amb "${d.prefix}"`;if("ends_with"===d.format)return`Format inv\xe0lid: ha d'acabar amb "${d.suffix}"`;if("includes"===d.format)return`Format inv\xe0lid: ha d'incloure "${d.includes}"`;if("regex"===d.format)return`Format inv\xe0lid: ha de coincidir amb el patr\xf3 ${d.pattern}`;return`Format inv\xe0lid per a ${b[d.format]??d.format}`;case"not_multiple_of":return`N\xfamero inv\xe0lid: ha de ser m\xfaltiple de ${d.divisor}`;case"unrecognized_keys":return`Clau${d.keys.length>1?"s":""} no reconeguda${d.keys.length>1?"s":""}: ${ds(d.keys,", ")}`;case"invalid_key":return`Clau inv\xe0lida a ${d.origin}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Element inv\xe0lid a ${d.origin}`;default:return`Entrada inv\xe0lida`}})}},"cs",0,function(){let a,b,c;return{localeError:(a={string:{unit:"znak",verb:"mt"},file:{unit:"bajt",verb:"mt"},array:{unit:"prvk",verb:"mt"},set:{unit:"prvk",verb:"mt"}},b={regex:"regulrn vraz",email:"e-mailov adresa",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"datum a as ve formtu ISO",date:"datum ve formtu ISO",time:"as ve formtu ISO",duration:"doba trvn ISO",ipv4:"IPv4 adresa",ipv6:"IPv6 adresa",cidrv4:"rozsah IPv4",cidrv6:"rozsah IPv6",base64:"etzec zakdovan ve formtu base64",base64url:"etzec zakdovan ve formtu base64url",json_string:"etzec ve formtu JSON",e164:"slo E.164",jwt:"JWT",template_literal:"vstup"},c={nan:"NaN",number:"slo",string:"etzec",function:"funkce",array:"pole"},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=ea(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return`Neplatn\xfd vstup: oek\xe1v\xe1no instanceof ${d.expected}, obdreno ${e}`;return`Neplatn\xfd vstup: oek\xe1v\xe1no ${a}, obdreno ${e}`}case"invalid_value":if(1===d.values.length)return`Neplatn\xfd vstup: oek\xe1v\xe1no ${dV(d.values[0])}`;return`Neplatn\xe1 monost: oek\xe1v\xe1na jedna z hodnot ${ds(d.values,"|")}`;case"too_big":{let b=d.inclusive?"<=":"<",c=a[d.origin]??null;if(c)return`Hodnota je p\xedli velk\xe1: ${d.origin??"hodnota"} mus\xed m\xedt ${b}${d.maximum.toString()} ${c.unit??"prvk"}`;return`Hodnota je p\xedli velk\xe1: ${d.origin??"hodnota"} mus\xed b\xfdt ${b}${d.maximum.toString()}`}case"too_small":{let b=d.inclusive?">=":">",c=a[d.origin]??null;if(c)return`Hodnota je p\xedli mal\xe1: ${d.origin??"hodnota"} mus\xed m\xedt ${b}${d.minimum.toString()} ${c.unit??"prvk"}`;return`Hodnota je p\xedli mal\xe1: ${d.origin??"hodnota"} mus\xed b\xfdt ${b}${d.minimum.toString()}`}case"invalid_format":if("starts_with"===d.format)return`Neplatn\xfd etzec: mus\xed za\xednat na "${d.prefix}"`;if("ends_with"===d.format)return`Neplatn\xfd etzec: mus\xed konit na "${d.suffix}"`;if("includes"===d.format)return`Neplatn\xfd etzec: mus\xed obsahovat "${d.includes}"`;if("regex"===d.format)return`Neplatn\xfd etzec: mus\xed odpov\xeddat vzoru ${d.pattern}`;return`Neplatn\xfd form\xe1t ${b[d.format]??d.format}`;case"not_multiple_of":return`Neplatn\xe9 \xedslo: mus\xed b\xfdt n\xe1sobkem ${d.divisor}`;case"unrecognized_keys":return`Nezn\xe1m\xe9 kl\xede: ${ds(d.keys,", ")}`;case"invalid_key":return`Neplatn\xfd kl\xed v ${d.origin}`;case"invalid_union":return"Neplatn vstup";case"invalid_element":return`Neplatn\xe1 hodnota v ${d.origin}`;default:return`Neplatn\xfd vstup`}})}},"da",0,function(){let a,b,c;return{localeError:(a={string:{unit:"tegn",verb:"havde"},file:{unit:"bytes",verb:"havde"},array:{unit:"elementer",verb:"indeholdt"},set:{unit:"elementer",verb:"indeholdt"}},b={regex:"input",email:"e-mailadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslt",date:"ISO-dato",time:"ISO-klokkeslt",duration:"ISO-varighed",ipv4:"IPv4-omrde",ipv6:"IPv6-omrde",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodet streng",base64url:"base64url-kodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"},c={nan:"NaN",string:"streng",number:"tal",boolean:"boolean",array:"liste",object:"objekt",set:"st",file:"fil"},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=ea(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return`Ugyldigt input: forventede instanceof ${d.expected}, fik ${e}`;return`Ugyldigt input: forventede ${a}, fik ${e}`}case"invalid_value":if(1===d.values.length)return`Ugyldig v\xe6rdi: forventede ${dV(d.values[0])}`;return`Ugyldigt valg: forventede en af f\xf8lgende ${ds(d.values,"|")}`;case"too_big":{let b=d.inclusive?"<=":"<",e=a[d.origin]??null,f=c[d.origin]??d.origin;if(e)return`For stor: forventede ${f??"value"} ${e.verb} ${b} ${d.maximum.toString()} ${e.unit??"elementer"}`;return`For stor: forventede ${f??"value"} havde ${b} ${d.maximum.toString()}`}case"too_small":{let b=d.inclusive?">=":">",e=a[d.origin]??null,f=c[d.origin]??d.origin;if(e)return`For lille: forventede ${f} ${e.verb} ${b} ${d.minimum.toString()} ${e.unit}`;return`For lille: forventede ${f} havde ${b} ${d.minimum.toString()}`}case"invalid_format":if("starts_with"===d.format)return`Ugyldig streng: skal starte med "${d.prefix}"`;if("ends_with"===d.format)return`Ugyldig streng: skal ende med "${d.suffix}"`;if("includes"===d.format)return`Ugyldig streng: skal indeholde "${d.includes}"`;if("regex"===d.format)return`Ugyldig streng: skal matche m\xf8nsteret ${d.pattern}`;return`Ugyldig ${b[d.format]??d.format}`;case"not_multiple_of":return`Ugyldigt tal: skal v\xe6re deleligt med ${d.divisor}`;case"unrecognized_keys":return`${d.keys.length>1?"Ukendte ngler":"Ukendt ngle"}: ${ds(d.keys,", ")}`;case"invalid_key":return`Ugyldig n\xf8gle i ${d.origin}`;case"invalid_union":return"Ugyldigt input: matcher ingen af de tilladte typer";case"invalid_element":return`Ugyldig v\xe6rdi i ${d.origin}`;default:return"Ugyldigt input"}})}},"de",0,function(){let a,b,c;return{localeError:(a={string:{unit:"Zeichen",verb:"zu haben"},file:{unit:"Bytes",verb:"zu haben"},array:{unit:"Elemente",verb:"zu haben"},set:{unit:"Elemente",verb:"zu haben"}},b={regex:"Eingabe",email:"E-Mail-Adresse",url:"URL",emoji:"Emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-Datum und -Uhrzeit",date:"ISO-Datum",time:"ISO-Uhrzeit",duration:"ISO-Dauer",ipv4:"IPv4-Adresse",ipv6:"IPv6-Adresse",cidrv4:"IPv4-Bereich",cidrv6:"IPv6-Bereich",base64:"Base64-codierter String",base64url:"Base64-URL-codierter String",json_string:"JSON-String",e164:"E.164-Nummer",jwt:"JWT",template_literal:"Eingabe"},c={nan:"NaN",number:"Zahl",array:"Array"},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=ea(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return`Ung\xfcltige Eingabe: erwartet instanceof ${d.expected}, erhalten ${e}`;return`Ung\xfcltige Eingabe: erwartet ${a}, erhalten ${e}`}case"invalid_value":if(1===d.values.length)return`Ung\xfcltige Eingabe: erwartet ${dV(d.values[0])}`;return`Ung\xfcltige Option: erwartet eine von ${ds(d.values,"|")}`;case"too_big":{let b=d.inclusive?"<=":"<",c=a[d.origin]??null;if(c)return`Zu gro\xdf: erwartet, dass ${d.origin??"Wert"} ${b}${d.maximum.toString()} ${c.unit??"Elemente"} hat`;return`Zu gro\xdf: erwartet, dass ${d.origin??"Wert"} ${b}${d.maximum.toString()} ist`}case"too_small":{let b=d.inclusive?">=":">",c=a[d.origin]??null;if(c)return`Zu klein: erwartet, dass ${d.origin} ${b}${d.minimum.toString()} ${c.unit} hat`;return`Zu klein: erwartet, dass ${d.origin} ${b}${d.minimum.toString()} ist`}case"invalid_format":if("starts_with"===d.format)return`Ung\xfcltiger String: muss mit "${d.prefix}" beginnen`;if("ends_with"===d.format)return`Ung\xfcltiger String: muss mit "${d.suffix}" enden`;if("includes"===d.format)return`Ung\xfcltiger String: muss "${d.includes}" enthalten`;if("regex"===d.format)return`Ung\xfcltiger String: muss dem Muster ${d.pattern} entsprechen`;return`Ung\xfcltig: ${b[d.format]??d.format}`;case"not_multiple_of":return`Ung\xfcltige Zahl: muss ein Vielfaches von ${d.divisor} sein`;case"unrecognized_keys":return`${d.keys.length>1?"Unbekannte Schlssel":"Unbekannter Schlssel"}: ${ds(d.keys,", ")}`;case"invalid_key":return`Ung\xfcltiger Schl\xfcssel in ${d.origin}`;case"invalid_union":return"Ungltige Eingabe";case"invalid_element":return`Ung\xfcltiger Wert in ${d.origin}`;default:return`Ung\xfcltige Eingabe`}})}},"en",0,hu,"eo",0,function(){let a,b,c;return{localeError:(a={string:{unit:"karaktrojn",verb:"havi"},file:{unit:"bajtojn",verb:"havi"},array:{unit:"elementojn",verb:"havi"},set:{unit:"elementojn",verb:"havi"}},b={regex:"enigo",email:"retadreso",url:"URL",emoji:"emoio",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datotempo",date:"ISO-dato",time:"ISO-tempo",duration:"ISO-daro",ipv4:"IPv4-adreso",ipv6:"IPv6-adreso",cidrv4:"IPv4-rango",cidrv6:"IPv6-rango",base64:"64-ume kodita karaktraro",base64url:"URL-64-ume kodita karaktraro",json_string:"JSON-karaktraro",e164:"E.164-nombro",jwt:"JWT",template_literal:"enigo"},c={nan:"NaN",number:"nombro",array:"tabelo",null:"senvalora"},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=ea(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return`Nevalida enigo: atendiis instanceof ${d.expected}, riceviis ${e}`;return`Nevalida enigo: atendiis ${a}, riceviis ${e}`}case"invalid_value":if(1===d.values.length)return`Nevalida enigo: atendiis ${dV(d.values[0])}`;return`Nevalida opcio: atendiis unu el ${ds(d.values,"|")}`;case"too_big":{let b=d.inclusive?"<=":"<",c=a[d.origin]??null;if(c)return`Tro granda: atendiis ke ${d.origin??"valoro"} havu ${b}${d.maximum.toString()} ${c.unit??"elementojn"}`;return`Tro granda: atendiis ke ${d.origin??"valoro"} havu ${b}${d.maximum.toString()}`}case"too_small":{let b=d.inclusive?">=":">",c=a[d.origin]??null;if(c)return`Tro malgranda: atendiis ke ${d.origin} havu ${b}${d.minimum.toString()} ${c.unit}`;return`Tro malgranda: atendiis ke ${d.origin} estu ${b}${d.minimum.toString()}`}case"invalid_format":if("starts_with"===d.format)return`Nevalida karaktraro: devas komencii per "${d.prefix}"`;if("ends_with"===d.format)return`Nevalida karaktraro: devas finii per "${d.suffix}"`;if("includes"===d.format)return`Nevalida karaktraro: devas inkluzivi "${d.includes}"`;if("regex"===d.format)return`Nevalida karaktraro: devas kongrui kun la modelo ${d.pattern}`;return`Nevalida ${b[d.format]??d.format}`;case"not_multiple_of":return`Nevalida nombro: devas esti oblo de ${d.divisor}`;case"unrecognized_keys":return`Nekonata${d.keys.length>1?"j":""} losilo${d.keys.length>1?"j":""}: ${ds(d.keys,", ")}`;case"invalid_key":return`Nevalida losilo en ${d.origin}`;case"invalid_union":default:return"Nevalida enigo";case"invalid_element":return`Nevalida valoro en ${d.origin}`}})}},"es",0,function(){let a,b,c;return{localeError:(a={string:{unit:"caracteres",verb:"tener"},file:{unit:"bytes",verb:"tener"},array:{unit:"elementos",verb:"tener"},set:{unit:"elementos",verb:"tener"}},b={regex:"entrada",email:"direccin de correo electrnico",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"fecha y hora ISO",date:"fecha ISO",time:"hora ISO",duration:"duracin ISO",ipv4:"direccin IPv4",ipv6:"direccin IPv6",cidrv4:"rango IPv4",cidrv6:"rango IPv6",base64:"cadena codificada en base64",base64url:"URL codificada en base64",json_string:"cadena JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"},c={nan:"NaN",string:"texto",number:"nmero",boolean:"booleano",array:"arreglo",object:"objeto",set:"conjunto",file:"archivo",date:"fecha",bigint:"nmero grande",symbol:"smbolo",undefined:"indefinido",null:"nulo",function:"funcin",map:"mapa",record:"registro",tuple:"tupla",enum:"enumeracin",union:"unin",literal:"literal",promise:"promesa",void:"vaco",never:"nunca",unknown:"desconocido",any:"cualquiera"},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=ea(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return`Entrada inv\xe1lida: se esperaba instanceof ${d.expected}, recibido ${e}`;return`Entrada inv\xe1lida: se esperaba ${a}, recibido ${e}`}case"invalid_value":if(1===d.values.length)return`Entrada inv\xe1lida: se esperaba ${dV(d.values[0])}`;return`Opci\xf3n inv\xe1lida: se esperaba una de ${ds(d.values,"|")}`;case"too_big":{let b=d.inclusive?"<=":"<",e=a[d.origin]??null,f=c[d.origin]??d.origin;if(e)return`Demasiado grande: se esperaba que ${f??"valor"} tuviera ${b}${d.maximum.toString()} ${e.unit??"elementos"}`;return`Demasiado grande: se esperaba que ${f??"valor"} fuera ${b}${d.maximum.toString()}`}case"too_small":{let b=d.inclusive?">=":">",e=a[d.origin]??null,f=c[d.origin]??d.origin;if(e)return`Demasiado peque\xf1o: se esperaba que ${f} tuviera ${b}${d.minimum.toString()} ${e.unit}`;return`Demasiado peque\xf1o: se esperaba que ${f} fuera ${b}${d.minimum.toString()}`}case"invalid_format":if("starts_with"===d.format)return`Cadena inv\xe1lida: debe comenzar con "${d.prefix}"`;if("ends_with"===d.format)return`Cadena inv\xe1lida: debe terminar en "${d.suffix}"`;if("includes"===d.format)return`Cadena inv\xe1lida: debe incluir "${d.includes}"`;if("regex"===d.format)return`Cadena inv\xe1lida: debe coincidir con el patr\xf3n ${d.pattern}`;return`Inv\xe1lido ${b[d.format]??d.format}`;case"not_multiple_of":return`N\xfamero inv\xe1lido: debe ser m\xfaltiplo de ${d.divisor}`;case"unrecognized_keys":return`Llave${d.keys.length>1?"s":""} desconocida${d.keys.length>1?"s":""}: ${ds(d.keys,", ")}`;case"invalid_key":return`Llave inv\xe1lida en ${c[d.origin]??d.origin}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Valor inv\xe1lido en ${c[d.origin]??d.origin}`;default:return`Entrada inv\xe1lida`}})}},"fa",0,function(){let a,b,c;return{localeError:(a={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}},b={regex:"",email:" ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ",date:" ",time:" ",duration:"  ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},c={nan:"NaN",number:"",array:""},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=ea(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return` :  instanceof ${d.expected}  ${e}  `;return` :  ${a}  ${e}  `}case"invalid_value":if(1===d.values.length)return` :  ${dV(d.values[0])} `;return` :    ${ds(d.values,"|")} `;case"too_big":{let b=d.inclusive?"<=":"<",c=a[d.origin]??null;if(c)return` : ${d.origin??""}  ${b}${d.maximum.toString()} ${c.unit??""} `;return` : ${d.origin??""}  ${b}${d.maximum.toString()} `}case"too_small":{let b=d.inclusive?">=":">",c=a[d.origin]??null;if(c)return` : ${d.origin}  ${b}${d.minimum.toString()} ${c.unit} `;return` : ${d.origin}  ${b}${d.minimum.toString()} `}case"invalid_format":if("starts_with"===d.format)return` :   "${d.prefix}"  `;if("ends_with"===d.format)return` :   "${d.suffix}"  `;if("includes"===d.format)return` :   "${d.includes}" `;if("regex"===d.format)return` :    ${d.pattern}   `;return`${b[d.format]??d.format} `;case"not_multiple_of":return` :   ${d.divisor} `;case"unrecognized_keys":return`${d.keys.length>1?"":""} : ${ds(d.keys,", ")}`;case"invalid_key":return`   ${d.origin}`;case"invalid_union":default:return` `;case"invalid_element":return`   ${d.origin}`}})}},"fi",0,function(){let a,b,c;return{localeError:(a={string:{unit:"merkki",subject:"merkkijonon"},file:{unit:"tavua",subject:"tiedoston"},array:{unit:"alkiota",subject:"listan"},set:{unit:"alkiota",subject:"joukon"},number:{unit:"",subject:"luvun"},bigint:{unit:"",subject:"suuren kokonaisluvun"},int:{unit:"",subject:"kokonaisluvun"},date:{unit:"",subject:"pivmrn"}},b={regex:"snnllinen lauseke",email:"shkpostiosoite",url:"URL-osoite",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-aikaleima",date:"ISO-pivmr",time:"ISO-aika",duration:"ISO-kesto",ipv4:"IPv4-osoite",ipv6:"IPv6-osoite",cidrv4:"IPv4-alue",cidrv6:"IPv6-alue",base64:"base64-koodattu merkkijono",base64url:"base64url-koodattu merkkijono",json_string:"JSON-merkkijono",e164:"E.164-luku",jwt:"JWT",template_literal:"templaattimerkkijono"},c={nan:"NaN"},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=ea(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return`Virheellinen tyyppi: odotettiin instanceof ${d.expected}, oli ${e}`;return`Virheellinen tyyppi: odotettiin ${a}, oli ${e}`}case"invalid_value":if(1===d.values.length)return`Virheellinen sy\xf6te: t\xe4ytyy olla ${dV(d.values[0])}`;return`Virheellinen valinta: t\xe4ytyy olla yksi seuraavista: ${ds(d.values,"|")}`;case"too_big":{let b=d.inclusive?"<=":"<",c=a[d.origin]??null;if(c)return`Liian suuri: ${c.subject} t\xe4ytyy olla ${b}${d.maximum.toString()} ${c.unit}`.trim();return`Liian suuri: arvon t\xe4ytyy olla ${b}${d.maximum.toString()}`}case"too_small":{let b=d.inclusive?">=":">",c=a[d.origin]??null;if(c)return`Liian pieni: ${c.subject} t\xe4ytyy olla ${b}${d.minimum.toString()} ${c.unit}`.trim();return`Liian pieni: arvon t\xe4ytyy olla ${b}${d.minimum.toString()}`}case"invalid_format":if("starts_with"===d.format)return`Virheellinen sy\xf6te: t\xe4ytyy alkaa "${d.prefix}"`;if("ends_with"===d.format)return`Virheellinen sy\xf6te: t\xe4ytyy loppua "${d.suffix}"`;if("includes"===d.format)return`Virheellinen sy\xf6te: t\xe4ytyy sis\xe4lt\xe4\xe4 "${d.includes}"`;if("regex"===d.format)return`Virheellinen sy\xf6te: t\xe4ytyy vastata s\xe4\xe4nn\xf6llist\xe4 lauseketta ${d.pattern}`;return`Virheellinen ${b[d.format]??d.format}`;case"not_multiple_of":return`Virheellinen luku: t\xe4ytyy olla luvun ${d.divisor} monikerta`;case"unrecognized_keys":return`${d.keys.length>1?"Tuntemattomat avaimet":"Tuntematon avain"}: ${ds(d.keys,", ")}`;case"invalid_key":return"Virheellinen avain tietueessa";case"invalid_union":return"Virheellinen unioni";case"invalid_element":return"Virheellinen arvo joukossa";default:return`Virheellinen sy\xf6te`}})}},"fr",0,function(){let a,b,c;return{localeError:(a={string:{unit:"caractres",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"lments",verb:"avoir"},set:{unit:"lments",verb:"avoir"}},b={regex:"entre",email:"adresse e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date et heure ISO",date:"date ISO",time:"heure ISO",duration:"dure ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chane encode en base64",base64url:"chane encode en base64url",json_string:"chane JSON",e164:"numro E.164",jwt:"JWT",template_literal:"entre"},c={nan:"NaN",number:"nombre",array:"tableau"},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=ea(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return`Entr\xe9e invalide : instanceof ${d.expected} attendu, ${e} re\xe7u`;return`Entr\xe9e invalide : ${a} attendu, ${e} re\xe7u`}case"invalid_value":if(1===d.values.length)return`Entr\xe9e invalide : ${dV(d.values[0])} attendu`;return`Option invalide : une valeur parmi ${ds(d.values,"|")} attendue`;case"too_big":{let b=d.inclusive?"<=":"<",c=a[d.origin]??null;if(c)return`Trop grand : ${d.origin??"valeur"} doit ${c.verb} ${b}${d.maximum.toString()} ${c.unit??"lment(s)"}`;return`Trop grand : ${d.origin??"valeur"} doit \xeatre ${b}${d.maximum.toString()}`}case"too_small":{let b=d.inclusive?">=":">",c=a[d.origin]??null;if(c)return`Trop petit : ${d.origin} doit ${c.verb} ${b}${d.minimum.toString()} ${c.unit}`;return`Trop petit : ${d.origin} doit \xeatre ${b}${d.minimum.toString()}`}case"invalid_format":if("starts_with"===d.format)return`Cha\xeene invalide : doit commencer par "${d.prefix}"`;if("ends_with"===d.format)return`Cha\xeene invalide : doit se terminer par "${d.suffix}"`;if("includes"===d.format)return`Cha\xeene invalide : doit inclure "${d.includes}"`;if("regex"===d.format)return`Cha\xeene invalide : doit correspondre au mod\xe8le ${d.pattern}`;return`${b[d.format]??d.format} invalide`;case"not_multiple_of":return`Nombre invalide : doit \xeatre un multiple de ${d.divisor}`;case"unrecognized_keys":return`Cl\xe9${d.keys.length>1?"s":""} non reconnue${d.keys.length>1?"s":""} : ${ds(d.keys,", ")}`;case"invalid_key":return`Cl\xe9 invalide dans ${d.origin}`;case"invalid_union":return"Entre invalide";case"invalid_element":return`Valeur invalide dans ${d.origin}`;default:return`Entr\xe9e invalide`}})}},"frCA",0,function(){let a,b,c;return{localeError:(a={string:{unit:"caractres",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"lments",verb:"avoir"},set:{unit:"lments",verb:"avoir"}},b={regex:"entre",email:"adresse courriel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date-heure ISO",date:"date ISO",time:"heure ISO",duration:"dure ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chane encode en base64",base64url:"chane encode en base64url",json_string:"chane JSON",e164:"numro E.164",jwt:"JWT",template_literal:"entre"},c={nan:"NaN"},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=ea(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return`Entr\xe9e invalide : attendu instanceof ${d.expected}, re\xe7u ${e}`;return`Entr\xe9e invalide : attendu ${a}, re\xe7u ${e}`}case"invalid_value":if(1===d.values.length)return`Entr\xe9e invalide : attendu ${dV(d.values[0])}`;return`Option invalide : attendu l'une des valeurs suivantes ${ds(d.values,"|")}`;case"too_big":{let b=d.inclusive?"":"<",c=a[d.origin]??null;if(c)return`Trop grand : attendu que ${d.origin??"la valeur"} ait ${b}${d.maximum.toString()} ${c.unit}`;return`Trop grand : attendu que ${d.origin??"la valeur"} soit ${b}${d.maximum.toString()}`}case"too_small":{let b=d.inclusive?"":">",c=a[d.origin]??null;if(c)return`Trop petit : attendu que ${d.origin} ait ${b}${d.minimum.toString()} ${c.unit}`;return`Trop petit : attendu que ${d.origin} soit ${b}${d.minimum.toString()}`}case"invalid_format":if("starts_with"===d.format)return`Cha\xeene invalide : doit commencer par "${d.prefix}"`;if("ends_with"===d.format)return`Cha\xeene invalide : doit se terminer par "${d.suffix}"`;if("includes"===d.format)return`Cha\xeene invalide : doit inclure "${d.includes}"`;if("regex"===d.format)return`Cha\xeene invalide : doit correspondre au motif ${d.pattern}`;return`${b[d.format]??d.format} invalide`;case"not_multiple_of":return`Nombre invalide : doit \xeatre un multiple de ${d.divisor}`;case"unrecognized_keys":return`Cl\xe9${d.keys.length>1?"s":""} non reconnue${d.keys.length>1?"s":""} : ${ds(d.keys,", ")}`;case"invalid_key":return`Cl\xe9 invalide dans ${d.origin}`;case"invalid_union":return"Entre invalide";case"invalid_element":return`Valeur invalide dans ${d.origin}`;default:return`Entr\xe9e invalide`}})}},"he",0,function(){let a,b,c,d,e,f,g,h,i;return{localeError:(a={string:{label:"",gender:"f"},number:{label:"",gender:"m"},boolean:{label:" ",gender:"m"},bigint:{label:"BigInt",gender:"m"},date:{label:"",gender:"m"},array:{label:"",gender:"m"},object:{label:"",gender:"m"},null:{label:"  (null)",gender:"m"},undefined:{label:"   (undefined)",gender:"m"},symbol:{label:" (Symbol)",gender:"m"},function:{label:"",gender:"f"},map:{label:" (Map)",gender:"f"},set:{label:" (Set)",gender:"f"},file:{label:"",gender:"m"},promise:{label:"Promise",gender:"m"},NaN:{label:"NaN",gender:"m"},unknown:{label:"  ",gender:"m"},value:{label:"",gender:"m"}},b={string:{unit:"",shortLabel:"",longLabel:""},file:{unit:"",shortLabel:"",longLabel:""},array:{unit:"",shortLabel:"",longLabel:""},set:{unit:"",shortLabel:"",longLabel:""},number:{unit:"",shortLabel:"",longLabel:""}},c=b=>b?a[b]:void 0,d=b=>{let d=c(b);return d?d.label:b??a.unknown.label},e=a=>`${d(a)}`,f=a=>{let b=c(a);return"f"===(b?.gender??"m")?" ":" "},g=a=>a?b[a]??null:null,h={regex:{label:"",gender:"m"},email:{label:" ",gender:"f"},url:{label:" ",gender:"f"},emoji:{label:"'",gender:"m"},uuid:{label:"UUID",gender:"m"},nanoid:{label:"nanoid",gender:"m"},guid:{label:"GUID",gender:"m"},cuid:{label:"cuid",gender:"m"},cuid2:{label:"cuid2",gender:"m"},ulid:{label:"ULID",gender:"m"},xid:{label:"XID",gender:"m"},ksuid:{label:"KSUID",gender:"m"},datetime:{label:"  ISO",gender:"m"},date:{label:" ISO",gender:"m"},time:{label:" ISO",gender:"m"},duration:{label:"  ISO",gender:"m"},ipv4:{label:" IPv4",gender:"f"},ipv6:{label:" IPv6",gender:"f"},cidrv4:{label:" IPv4",gender:"m"},cidrv6:{label:" IPv6",gender:"m"},base64:{label:"  64",gender:"f"},base64url:{label:"  64  ",gender:"f"},json_string:{label:" JSON",gender:"f"},e164:{label:" E.164",gender:"m"},jwt:{label:"JWT",gender:"m"},ends_with:{label:"",gender:"m"},includes:{label:"",gender:"m"},lowercase:{label:"",gender:"m"},starts_with:{label:"",gender:"m"},uppercase:{label:"",gender:"m"}},i={nan:"NaN"},b=>{switch(b.code){case"invalid_type":{let c=b.expected,e=i[c??""]??d(c),f=ea(b.input),g=i[f]??a[f]?.label??f;if(/^[A-Z]/.test(b.expected))return`  :   instanceof ${b.expected},  ${g}`;return`  :   ${e},  ${g}`}case"invalid_value":{if(1===b.values.length)return`  :    ${dV(b.values[0])}`;let a=b.values.map(a=>dV(a));if(2===b.values.length)return`  :    ${a[0]}  ${a[1]}`;let c=a[a.length-1],d=a.slice(0,-1).join(", ");return`  :    ${d}  ${c}`}case"too_big":{let a=g(b.origin),c=e(b.origin??"value");if("string"===b.origin)return`${a?.longLabel??""} : ${c}   ${b.maximum.toString()} ${a?.unit??""} ${b.inclusive?" ":" "}`.trim();if("number"===b.origin){let a=b.inclusive?`   -${b.maximum}`:` -${b.maximum}`;return` : ${c}   ${a}`}if("array"===b.origin||"set"===b.origin){let d="set"===b.origin?"":"",e=b.inclusive?`${b.maximum} ${a?.unit??""}  `:` -${b.maximum} ${a?.unit??""}`;return` : ${c} ${d}  ${e}`.trim()}let d=b.inclusive?"<=":"<",h=f(b.origin??"value");if(a?.unit)return`${a.longLabel} : ${c} ${h} ${d}${b.maximum.toString()} ${a.unit}`;return`${a?.longLabel??""} : ${c} ${h} ${d}${b.maximum.toString()}`}case"too_small":{let a=g(b.origin),c=e(b.origin??"value");if("string"===b.origin)return`${a?.shortLabel??""} : ${c}   ${b.minimum.toString()} ${a?.unit??""} ${b.inclusive?" ":""}`.trim();if("number"===b.origin){let a=b.inclusive?`   -${b.minimum}`:` -${b.minimum}`;return` : ${c}   ${a}`}if("array"===b.origin||"set"===b.origin){let d="set"===b.origin?"":"";if(1===b.minimum&&b.inclusive){let a=(b.origin,"  ");return` : ${c} ${d}  ${a}`}let e=b.inclusive?`${b.minimum} ${a?.unit??""}  `:` -${b.minimum} ${a?.unit??""}`;return` : ${c} ${d}  ${e}`.trim()}let d=b.inclusive?">=":">",h=f(b.origin??"value");if(a?.unit)return`${a.shortLabel} : ${c} ${h} ${d}${b.minimum.toString()} ${a.unit}`;return`${a?.shortLabel??""} : ${c} ${h} ${d}${b.minimum.toString()}`}case"invalid_format":{if("starts_with"===b.format)return`    "${b.prefix}"`;if("ends_with"===b.format)return`    "${b.suffix}"`;if("includes"===b.format)return`   "${b.includes}"`;if("regex"===b.format)return`    ${b.pattern}`;let a=h[b.format],c=a?.label??b.format,d=a?.gender??"m";return`${c}  ${"f"===d?"":""}`}case"not_multiple_of":return`  :     ${b.divisor}`;case"unrecognized_keys":return`${b.keys.length>1?"":""}  ${b.keys.length>1?"":""}: ${ds(b.keys,", ")}`;case"invalid_key":return`   `;case"invalid_union":return"  ";case"invalid_element":{let a=e(b.origin??"array");return`   ${a}`}default:return`  `}})}},"hu",0,function(){let a,b,c;return{localeError:(a={string:{unit:"karakter",verb:"legyen"},file:{unit:"byte",verb:"legyen"},array:{unit:"elem",verb:"legyen"},set:{unit:"elem",verb:"legyen"}},b={regex:"bemenet",email:"email cm",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO idblyeg",date:"ISO dtum",time:"ISO id",duration:"ISO idintervallum",ipv4:"IPv4 cm",ipv6:"IPv6 cm",cidrv4:"IPv4 tartomny",cidrv6:"IPv6 tartomny",base64:"base64-kdolt string",base64url:"base64url-kdolt string",json_string:"JSON string",e164:"E.164 szm",jwt:"JWT",template_literal:"bemenet"},c={nan:"NaN",number:"szm",array:"tmb"},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=ea(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return`\xc9rv\xe9nytelen bemenet: a v\xe1rt \xe9rt\xe9k instanceof ${d.expected}, a kapott \xe9rt\xe9k ${e}`;return`\xc9rv\xe9nytelen bemenet: a v\xe1rt \xe9rt\xe9k ${a}, a kapott \xe9rt\xe9k ${e}`}case"invalid_value":if(1===d.values.length)return`\xc9rv\xe9nytelen bemenet: a v\xe1rt \xe9rt\xe9k ${dV(d.values[0])}`;return`\xc9rv\xe9nytelen opci\xf3: valamelyik \xe9rt\xe9k v\xe1rt ${ds(d.values,"|")}`;case"too_big":{let b=d.inclusive?"<=":"<",c=a[d.origin]??null;if(c)return`T\xfal nagy: ${d.origin??"rtk"} m\xe9rete t\xfal nagy ${b}${d.maximum.toString()} ${c.unit??"elem"}`;return`T\xfal nagy: a bemeneti \xe9rt\xe9k ${d.origin??"rtk"} t\xfal nagy: ${b}${d.maximum.toString()}`}case"too_small":{let b=d.inclusive?">=":">",c=a[d.origin]??null;if(c)return`T\xfal kicsi: a bemeneti \xe9rt\xe9k ${d.origin} m\xe9rete t\xfal kicsi ${b}${d.minimum.toString()} ${c.unit}`;return`T\xfal kicsi: a bemeneti \xe9rt\xe9k ${d.origin} t\xfal kicsi ${b}${d.minimum.toString()}`}case"invalid_format":if("starts_with"===d.format)return`\xc9rv\xe9nytelen string: "${d.prefix}" \xe9rt\xe9kkel kell kezddnie`;if("ends_with"===d.format)return`\xc9rv\xe9nytelen string: "${d.suffix}" \xe9rt\xe9kkel kell v\xe9gzdnie`;if("includes"===d.format)return`\xc9rv\xe9nytelen string: "${d.includes}" \xe9rt\xe9ket kell tartalmaznia`;if("regex"===d.format)return`\xc9rv\xe9nytelen string: ${d.pattern} mint\xe1nak kell megfelelnie`;return`\xc9rv\xe9nytelen ${b[d.format]??d.format}`;case"not_multiple_of":return`\xc9rv\xe9nytelen sz\xe1m: ${d.divisor} t\xf6bbsz\xf6r\xf6s\xe9nek kell lennie`;case"unrecognized_keys":return`Ismeretlen kulcs${d.keys.length>1?"s":""}: ${ds(d.keys,", ")}`;case"invalid_key":return`\xc9rv\xe9nytelen kulcs ${d.origin}`;case"invalid_union":return"rvnytelen bemenet";case"invalid_element":return`\xc9rv\xe9nytelen \xe9rt\xe9k: ${d.origin}`;default:return`\xc9rv\xe9nytelen bemenet`}})}},"hy",0,function(){let a,b,c;return{localeError:(a={string:{unit:{one:"",many:""},verb:""},file:{unit:{one:"",many:""},verb:""},array:{unit:{one:"",many:""},verb:""},set:{unit:{one:"",many:""},verb:""}},b={regex:"",email:". ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64  ",base64url:"base64url  ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},c={nan:"NaN",number:"",array:""},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=ea(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return`    instanceof ${d.expected},   ${e}`;return`    ${a},   ${e}`}case"invalid_value":if(1===d.values.length)return`    ${dV(d.values[1])}`;return`      ${ds(d.values,"|")}`;case"too_big":{let b=d.inclusive?"<=":"<",c=a[d.origin]??null;if(c){let a=hv(Number(d.maximum),c.unit.one,c.unit.many);return`    ,  ${hw(d.origin??"")}  ${b}${d.maximum.toString()} ${a}`}return`    ,  ${hw(d.origin??"")}  ${b}${d.maximum.toString()}`}case"too_small":{let b=d.inclusive?">=":">",c=a[d.origin]??null;if(c){let a=hv(Number(d.minimum),c.unit.one,c.unit.many);return`    ,  ${hw(d.origin)}  ${b}${d.minimum.toString()} ${a}`}return`    ,  ${hw(d.origin)}  ${b}${d.minimum.toString()}`}case"invalid_format":if("starts_with"===d.format)return`     "${d.prefix}"-`;if("ends_with"===d.format)return`     "${d.suffix}"-`;if("includes"===d.format)return`     "${d.includes}"`;if("regex"===d.format)return`     ${d.pattern} `;return` ${b[d.format]??d.format}`;case"not_multiple_of":return`      ${d.divisor}-`;case"unrecognized_keys":return` ${d.keys.length>1?"":""}. ${ds(d.keys,", ")}`;case"invalid_key":return`  ${hw(d.origin)}-`;case"invalid_union":return" ";case"invalid_element":return`  ${hw(d.origin)}-`;default:return` `}})}},"id",0,function(){let a,b,c;return{localeError:(a={string:{unit:"karakter",verb:"memiliki"},file:{unit:"byte",verb:"memiliki"},array:{unit:"item",verb:"memiliki"},set:{unit:"item",verb:"memiliki"}},b={regex:"input",email:"alamat email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tanggal dan waktu format ISO",date:"tanggal format ISO",time:"jam format ISO",duration:"durasi format ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"rentang alamat IPv4",cidrv6:"rentang alamat IPv6",base64:"string dengan enkode base64",base64url:"string dengan enkode base64url",json_string:"string JSON",e164:"angka E.164",jwt:"JWT",template_literal:"input"},c={nan:"NaN"},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=ea(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return`Input tidak valid: diharapkan instanceof ${d.expected}, diterima ${e}`;return`Input tidak valid: diharapkan ${a}, diterima ${e}`}case"invalid_value":if(1===d.values.length)return`Input tidak valid: diharapkan ${dV(d.values[0])}`;return`Pilihan tidak valid: diharapkan salah satu dari ${ds(d.values,"|")}`;case"too_big":{let b=d.inclusive?"<=":"<",c=a[d.origin]??null;if(c)return`Terlalu besar: diharapkan ${d.origin??"value"} memiliki ${b}${d.maximum.toString()} ${c.unit??"elemen"}`;return`Terlalu besar: diharapkan ${d.origin??"value"} menjadi ${b}${d.maximum.toString()}`}case"too_small":{let b=d.inclusive?">=":">",c=a[d.origin]??null;if(c)return`Terlalu kecil: diharapkan ${d.origin} memiliki ${b}${d.minimum.toString()} ${c.unit}`;return`Terlalu kecil: diharapkan ${d.origin} menjadi ${b}${d.minimum.toString()}`}case"invalid_format":if("starts_with"===d.format)return`String tidak valid: harus dimulai dengan "${d.prefix}"`;if("ends_with"===d.format)return`String tidak valid: harus berakhir dengan "${d.suffix}"`;if("includes"===d.format)return`String tidak valid: harus menyertakan "${d.includes}"`;if("regex"===d.format)return`String tidak valid: harus sesuai pola ${d.pattern}`;return`${b[d.format]??d.format} tidak valid`;case"not_multiple_of":return`Angka tidak valid: harus kelipatan dari ${d.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali ${d.keys.length>1?"s":""}: ${ds(d.keys,", ")}`;case"invalid_key":return`Kunci tidak valid di ${d.origin}`;case"invalid_union":default:return"Input tidak valid";case"invalid_element":return`Nilai tidak valid di ${d.origin}`}})}},"is",0,function(){let a,b,c;return{localeError:(a={string:{unit:"stafi",verb:"a hafa"},file:{unit:"bti",verb:"a hafa"},array:{unit:"hluti",verb:"a hafa"},set:{unit:"hluti",verb:"a hafa"}},b={regex:"gildi",email:"netfang",url:"vefsl",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dagsetning og tmi",date:"ISO dagsetning",time:"ISO tmi",duration:"ISO tmalengd",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded strengur",base64url:"base64url-encoded strengur",json_string:"JSON strengur",e164:"E.164 tlugildi",jwt:"JWT",template_literal:"gildi"},c={nan:"NaN",number:"nmer",array:"fylki"},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=ea(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return`Rangt gildi: \xde\xfa sl\xf3st inn ${e} \xfear sem \xe1 a\xf0 vera instanceof ${d.expected}`;return`Rangt gildi: \xde\xfa sl\xf3st inn ${e} \xfear sem \xe1 a\xf0 vera ${a}`}case"invalid_value":if(1===d.values.length)return`Rangt gildi: gert r\xe1\xf0 fyrir ${dV(d.values[0])}`;return`\xd3gilt val: m\xe1 vera eitt af eftirfarandi ${ds(d.values,"|")}`;case"too_big":{let b=d.inclusive?"<=":"<",c=a[d.origin]??null;if(c)return`Of st\xf3rt: gert er r\xe1\xf0 fyrir a\xf0 ${d.origin??"gildi"} hafi ${b}${d.maximum.toString()} ${c.unit??"hluti"}`;return`Of st\xf3rt: gert er r\xe1\xf0 fyrir a\xf0 ${d.origin??"gildi"} s\xe9 ${b}${d.maximum.toString()}`}case"too_small":{let b=d.inclusive?">=":">",c=a[d.origin]??null;if(c)return`Of l\xedti\xf0: gert er r\xe1\xf0 fyrir a\xf0 ${d.origin} hafi ${b}${d.minimum.toString()} ${c.unit}`;return`Of l\xedti\xf0: gert er r\xe1\xf0 fyrir a\xf0 ${d.origin} s\xe9 ${b}${d.minimum.toString()}`}case"invalid_format":if("starts_with"===d.format)return`\xd3gildur strengur: ver\xf0ur a\xf0 byrja \xe1 "${d.prefix}"`;if("ends_with"===d.format)return`\xd3gildur strengur: ver\xf0ur a\xf0 enda \xe1 "${d.suffix}"`;if("includes"===d.format)return`\xd3gildur strengur: ver\xf0ur a\xf0 innihalda "${d.includes}"`;if("regex"===d.format)return`\xd3gildur strengur: ver\xf0ur a\xf0 fylgja mynstri ${d.pattern}`;return`Rangt ${b[d.format]??d.format}`;case"not_multiple_of":return`R\xf6ng tala: ver\xf0ur a\xf0 vera margfeldi af ${d.divisor}`;case"unrecognized_keys":return`\xd3\xfeekkt ${d.keys.length>1?"ir lyklar":"ur lykill"}: ${ds(d.keys,", ")}`;case"invalid_key":return`Rangur lykill \xed ${d.origin}`;case"invalid_union":default:return"Rangt gildi";case"invalid_element":return`Rangt gildi \xed ${d.origin}`}})}},"it",0,function(){let a,b,c;return{localeError:(a={string:{unit:"caratteri",verb:"avere"},file:{unit:"byte",verb:"avere"},array:{unit:"elementi",verb:"avere"},set:{unit:"elementi",verb:"avere"}},b={regex:"input",email:"indirizzo email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e ora ISO",date:"data ISO",time:"ora ISO",duration:"durata ISO",ipv4:"indirizzo IPv4",ipv6:"indirizzo IPv6",cidrv4:"intervallo IPv4",cidrv6:"intervallo IPv6",base64:"stringa codificata in base64",base64url:"URL codificata in base64",json_string:"stringa JSON",e164:"numero E.164",jwt:"JWT",template_literal:"input"},c={nan:"NaN",number:"numero",array:"vettore"},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=ea(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return`Input non valido: atteso instanceof ${d.expected}, ricevuto ${e}`;return`Input non valido: atteso ${a}, ricevuto ${e}`}case"invalid_value":if(1===d.values.length)return`Input non valido: atteso ${dV(d.values[0])}`;return`Opzione non valida: atteso uno tra ${ds(d.values,"|")}`;case"too_big":{let b=d.inclusive?"<=":"<",c=a[d.origin]??null;if(c)return`Troppo grande: ${d.origin??"valore"} deve avere ${b}${d.maximum.toString()} ${c.unit??"elementi"}`;return`Troppo grande: ${d.origin??"valore"} deve essere ${b}${d.maximum.toString()}`}case"too_small":{let b=d.inclusive?">=":">",c=a[d.origin]??null;if(c)return`Troppo piccolo: ${d.origin} deve avere ${b}${d.minimum.toString()} ${c.unit}`;return`Troppo piccolo: ${d.origin} deve essere ${b}${d.minimum.toString()}`}case"invalid_format":if("starts_with"===d.format)return`Stringa non valida: deve iniziare con "${d.prefix}"`;if("ends_with"===d.format)return`Stringa non valida: deve terminare con "${d.suffix}"`;if("includes"===d.format)return`Stringa non valida: deve includere "${d.includes}"`;if("regex"===d.format)return`Stringa non valida: deve corrispondere al pattern ${d.pattern}`;return`Invalid ${b[d.format]??d.format}`;case"not_multiple_of":return`Numero non valido: deve essere un multiplo di ${d.divisor}`;case"unrecognized_keys":return`Chiav${d.keys.length>1?"i":"e"} non riconosciut${d.keys.length>1?"e":"a"}: ${ds(d.keys,", ")}`;case"invalid_key":return`Chiave non valida in ${d.origin}`;case"invalid_union":default:return"Input non valido";case"invalid_element":return`Valore non valido in ${d.origin}`}})}},"ja",0,function(){let a,b,c;return{localeError:(a={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},b={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO",date:"ISO",time:"ISO",duration:"ISO",ipv4:"IPv4",ipv6:"IPv6",cidrv4:"IPv4",cidrv6:"IPv6",base64:"base64",base64url:"base64url",json_string:"JSON",e164:"E.164",jwt:"JWT",template_literal:""},c={nan:"NaN",number:"",array:""},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=ea(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return`: instanceof ${d.expected}${e}`;return`: ${a}${e}`}case"invalid_value":if(1===d.values.length)return`: ${dV(d.values[0])}`;return`: ${ds(d.values,"")}`;case"too_big":{let b=d.inclusive?"":"",c=a[d.origin]??null;if(c)return`: ${d.origin??""}${d.maximum.toString()}${c.unit??""}${b}`;return`: ${d.origin??""}${d.maximum.toString()}${b}`}case"too_small":{let b=d.inclusive?"":"",c=a[d.origin]??null;if(c)return`: ${d.origin}${d.minimum.toString()}${c.unit}${b}`;return`: ${d.origin}${d.minimum.toString()}${b}`}case"invalid_format":if("starts_with"===d.format)return`: "${d.prefix}"`;if("ends_with"===d.format)return`: "${d.suffix}"`;if("includes"===d.format)return`: "${d.includes}"`;if("regex"===d.format)return`: ${d.pattern}`;return`${b[d.format]??d.format}`;case"not_multiple_of":return`: ${d.divisor}`;case"unrecognized_keys":return`${d.keys.length>1?"":""}: ${ds(d.keys,"")}`;case"invalid_key":return`${d.origin}`;case"invalid_union":return"";case"invalid_element":return`${d.origin}`;default:return``}})}},"ka",0,function(){let a,b,c;return{localeError:(a={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}},b={regex:"",email:"- ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"-",date:"",time:"",duration:"",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64- ",base64url:"base64url- ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},c={nan:"NaN",number:"",string:"",boolean:"",function:"",array:""},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=ea(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return` :  instanceof ${d.expected},  ${e}`;return` :  ${a},  ${e}`}case"invalid_value":if(1===d.values.length)return` :  ${dV(d.values[0])}`;return` :  - ${ds(d.values,"|")}-`;case"too_big":{let b=d.inclusive?"<=":"<",c=a[d.origin]??null;if(c)return` :  ${d.origin??""} ${c.verb} ${b}${d.maximum.toString()} ${c.unit}`;return` :  ${d.origin??""}  ${b}${d.maximum.toString()}`}case"too_small":{let b=d.inclusive?">=":">",c=a[d.origin]??null;if(c)return` :  ${d.origin} ${c.verb} ${b}${d.minimum.toString()} ${c.unit}`;return` :  ${d.origin}  ${b}${d.minimum.toString()}`}case"invalid_format":if("starts_with"===d.format)return` :   "${d.prefix}"-`;if("ends_with"===d.format)return` :   "${d.suffix}"-`;if("includes"===d.format)return` :   "${d.includes}"-`;if("regex"===d.format)return` :    ${d.pattern}`;return` ${b[d.format]??d.format}`;case"not_multiple_of":return` :   ${d.divisor}- `;case"unrecognized_keys":return` ${d.keys.length>1?"":""}: ${ds(d.keys,", ")}`;case"invalid_key":return`  ${d.origin}-`;case"invalid_union":return" ";case"invalid_element":return`  ${d.origin}-`;default:return` `}})}},"kh",0,function(){return hx()},"km",0,hx,"ko",0,function(){let a,b,c;return{localeError:(a={string:{unit:"",verb:"to have"},file:{unit:"",verb:"to have"},array:{unit:"",verb:"to have"},set:{unit:"",verb:"to have"}},b={regex:"",email:" ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64  ",base64url:"base64url  ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},c={nan:"NaN"},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=ea(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return` :   instanceof ${d.expected},   ${e}`;return` :   ${a},   ${e}`}case"invalid_value":if(1===d.values.length)return` :  ${dV(d.values[0])}  `;return` : ${ds(d.values," ")}   `;case"too_big":{let b=d.inclusive?"":"",c=""===b?" ":" ",e=a[d.origin]??null,f=e?.unit??"";if(e)return`${d.origin??""}  : ${d.maximum.toString()}${f} ${b}${c}`;return`${d.origin??""}  : ${d.maximum.toString()} ${b}${c}`}case"too_small":{let b=d.inclusive?"":"",c=""===b?" ":" ",e=a[d.origin]??null,f=e?.unit??"";if(e)return`${d.origin??""}  : ${d.minimum.toString()}${f} ${b}${c}`;return`${d.origin??""}  : ${d.minimum.toString()} ${b}${c}`}case"invalid_format":if("starts_with"===d.format)return` : "${d.prefix}"()  `;if("ends_with"===d.format)return` : "${d.suffix}"()  `;if("includes"===d.format)return` : "${d.includes}"()  `;if("regex"===d.format)return` :  ${d.pattern}   `;return` ${b[d.format]??d.format}`;case"not_multiple_of":return` : ${d.divisor}  `;case"unrecognized_keys":return`   : ${ds(d.keys,", ")}`;case"invalid_key":return` : ${d.origin}`;case"invalid_union":default:return` `;case"invalid_element":return` : ${d.origin}`}})}},"lt",0,function(){return{localeError:(()=>{let a={string:{unit:{one:"simbolis",few:"simboliai",many:"simboli"},verb:{smaller:{inclusive:"turi bti ne ilgesn kaip",notInclusive:"turi bti trumpesn kaip"},bigger:{inclusive:"turi bti ne trumpesn kaip",notInclusive:"turi bti ilgesn kaip"}}},file:{unit:{one:"baitas",few:"baitai",many:"bait"},verb:{smaller:{inclusive:"turi bti ne didesnis kaip",notInclusive:"turi bti maesnis kaip"},bigger:{inclusive:"turi bti ne maesnis kaip",notInclusive:"turi bti didesnis kaip"}}},array:{unit:{one:"element",few:"elementus",many:"element"},verb:{smaller:{inclusive:"turi turti ne daugiau kaip",notInclusive:"turi turti maiau kaip"},bigger:{inclusive:"turi turti ne maiau kaip",notInclusive:"turi turti daugiau kaip"}}},set:{unit:{one:"element",few:"elementus",many:"element"},verb:{smaller:{inclusive:"turi turti ne daugiau kaip",notInclusive:"turi turti maiau kaip"},bigger:{inclusive:"turi turti ne maiau kaip",notInclusive:"turi turti daugiau kaip"}}}};function b(b,c,d,e){let f=a[b]??null;return null===f?f:{unit:f.unit[c],verb:f.verb[e][d?"inclusive":"notInclusive"]}}let c={regex:"vestis",email:"el. pato adresas",url:"URL",emoji:"jaustukas",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO data ir laikas",date:"ISO data",time:"ISO laikas",duration:"ISO trukm",ipv4:"IPv4 adresas",ipv6:"IPv6 adresas",cidrv4:"IPv4 tinklo prefiksas (CIDR)",cidrv6:"IPv6 tinklo prefiksas (CIDR)",base64:"base64 ukoduota eilut",base64url:"base64url ukoduota eilut",json_string:"JSON eilut",e164:"E.164 numeris",jwt:"JWT",template_literal:"vestis"},d={nan:"NaN",number:"skaiius",bigint:"sveikasis skaiius",string:"eilut",boolean:"login reikm",undefined:"neapibrta reikm",function:"funkcija",symbol:"simbolis",array:"masyvas",object:"objektas",null:"nulin reikm"};return a=>{switch(a.code){case"invalid_type":{let b=d[a.expected]??a.expected,c=ea(a.input),e=d[c]??c;if(/^[A-Z]/.test(a.expected))return`Gautas tipas ${e}, o tiktasi - instanceof ${a.expected}`;return`Gautas tipas ${e}, o tiktasi - ${b}`}case"invalid_value":if(1===a.values.length)return`Privalo bti ${dV(a.values[0])}`;return`Privalo bti vienas i ${ds(a.values,"|")} pasirinkim`;case"too_big":{let c=d[a.origin]??a.origin,e=b(a.origin,hz(Number(a.maximum)),a.inclusive??!1,"smaller");if(e?.verb)return`${hy(c??a.origin??"reikm")} ${e.verb} ${a.maximum.toString()} ${e.unit??"element"}`;let f=a.inclusive?"ne didesnis kaip":"maesnis kaip";return`${hy(c??a.origin??"reikm")} turi bti ${f} ${a.maximum.toString()} ${e?.unit}`}case"too_small":{let c=d[a.origin]??a.origin,e=b(a.origin,hz(Number(a.minimum)),a.inclusive??!1,"bigger");if(e?.verb)return`${hy(c??a.origin??"reikm")} ${e.verb} ${a.minimum.toString()} ${e.unit??"element"}`;let f=a.inclusive?"ne maesnis kaip":"didesnis kaip";return`${hy(c??a.origin??"reikm")} turi bti ${f} ${a.minimum.toString()} ${e?.unit}`}case"invalid_format":if("starts_with"===a.format)return`Eilut privalo prasidti "${a.prefix}"`;if("ends_with"===a.format)return`Eilut privalo pasibaigti "${a.suffix}"`;if("includes"===a.format)return`Eilut privalo traukti "${a.includes}"`;if("regex"===a.format)return`Eilut privalo atitikti ${a.pattern}`;return`Neteisingas ${c[a.format]??a.format}`;case"not_multiple_of":return`Skaiius privalo bti ${a.divisor} kartotinis.`;case"unrecognized_keys":return`Neatpaint${a.keys.length>1?"i":"as"} rakt${a.keys.length>1?"ai":"as"}: ${ds(a.keys,", ")}`;case"invalid_key":return"Rastas klaidingas raktas";case"invalid_union":default:return"Klaidinga vestis";case"invalid_element":{let b=d[a.origin]??a.origin;return`${hy(b??a.origin??"reikm")} turi klaiding vest`}}}})()}},"mk",0,function(){let a,b,c;return{localeError:(a={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}},b={regex:"",email:"  -",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64- ",base64url:"base64url- ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},c={nan:"NaN",number:"",array:""},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=ea(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return` :   instanceof ${d.expected},  ${e}`;return` :   ${a},  ${e}`}case"invalid_value":if(1===d.values.length)return`Invalid input: expected ${dV(d.values[0])}`;return` :    ${ds(d.values,"|")}`;case"too_big":{let b=d.inclusive?"<=":"<",c=a[d.origin]??null;if(c)return` :   ${d.origin??""}   ${b}${d.maximum.toString()} ${c.unit??""}`;return` :   ${d.origin??""}   ${b}${d.maximum.toString()}`}case"too_small":{let b=d.inclusive?">=":">",c=a[d.origin]??null;if(c)return` :   ${d.origin}   ${b}${d.minimum.toString()} ${c.unit}`;return` :   ${d.origin}   ${b}${d.minimum.toString()}`}case"invalid_format":if("starts_with"===d.format)return` :     "${d.prefix}"`;if("ends_with"===d.format)return` :     "${d.suffix}"`;if("includes"===d.format)return` :    "${d.includes}"`;if("regex"===d.format)return` :      ${d.pattern}`;return`Invalid ${b[d.format]??d.format}`;case"not_multiple_of":return` :      ${d.divisor}`;case"unrecognized_keys":return`${d.keys.length>1?" ":" "}: ${ds(d.keys,", ")}`;case"invalid_key":return`   ${d.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${d.origin}`;default:return` `}})}},"ms",0,function(){let a,b,c;return{localeError:(a={string:{unit:"aksara",verb:"mempunyai"},file:{unit:"bait",verb:"mempunyai"},array:{unit:"elemen",verb:"mempunyai"},set:{unit:"elemen",verb:"mempunyai"}},b={regex:"input",email:"alamat e-mel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tarikh masa ISO",date:"tarikh ISO",time:"masa ISO",duration:"tempoh ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"julat IPv4",cidrv6:"julat IPv6",base64:"string dikodkan base64",base64url:"string dikodkan base64url",json_string:"string JSON",e164:"nombor E.164",jwt:"JWT",template_literal:"input"},c={nan:"NaN",number:"nombor"},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=ea(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return`Input tidak sah: dijangka instanceof ${d.expected}, diterima ${e}`;return`Input tidak sah: dijangka ${a}, diterima ${e}`}case"invalid_value":if(1===d.values.length)return`Input tidak sah: dijangka ${dV(d.values[0])}`;return`Pilihan tidak sah: dijangka salah satu daripada ${ds(d.values,"|")}`;case"too_big":{let b=d.inclusive?"<=":"<",c=a[d.origin]??null;if(c)return`Terlalu besar: dijangka ${d.origin??"nilai"} ${c.verb} ${b}${d.maximum.toString()} ${c.unit??"elemen"}`;return`Terlalu besar: dijangka ${d.origin??"nilai"} adalah ${b}${d.maximum.toString()}`}case"too_small":{let b=d.inclusive?">=":">",c=a[d.origin]??null;if(c)return`Terlalu kecil: dijangka ${d.origin} ${c.verb} ${b}${d.minimum.toString()} ${c.unit}`;return`Terlalu kecil: dijangka ${d.origin} adalah ${b}${d.minimum.toString()}`}case"invalid_format":if("starts_with"===d.format)return`String tidak sah: mesti bermula dengan "${d.prefix}"`;if("ends_with"===d.format)return`String tidak sah: mesti berakhir dengan "${d.suffix}"`;if("includes"===d.format)return`String tidak sah: mesti mengandungi "${d.includes}"`;if("regex"===d.format)return`String tidak sah: mesti sepadan dengan corak ${d.pattern}`;return`${b[d.format]??d.format} tidak sah`;case"not_multiple_of":return`Nombor tidak sah: perlu gandaan ${d.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali: ${ds(d.keys,", ")}`;case"invalid_key":return`Kunci tidak sah dalam ${d.origin}`;case"invalid_union":default:return"Input tidak sah";case"invalid_element":return`Nilai tidak sah dalam ${d.origin}`}})}},"nl",0,function(){let a,b,c;return{localeError:(a={string:{unit:"tekens",verb:"heeft"},file:{unit:"bytes",verb:"heeft"},array:{unit:"elementen",verb:"heeft"},set:{unit:"elementen",verb:"heeft"}},b={regex:"invoer",email:"emailadres",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum en tijd",date:"ISO datum",time:"ISO tijd",duration:"ISO duur",ipv4:"IPv4-adres",ipv6:"IPv6-adres",cidrv4:"IPv4-bereik",cidrv6:"IPv6-bereik",base64:"base64-gecodeerde tekst",base64url:"base64 URL-gecodeerde tekst",json_string:"JSON string",e164:"E.164-nummer",jwt:"JWT",template_literal:"invoer"},c={nan:"NaN",number:"getal"},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=ea(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return`Ongeldige invoer: verwacht instanceof ${d.expected}, ontving ${e}`;return`Ongeldige invoer: verwacht ${a}, ontving ${e}`}case"invalid_value":if(1===d.values.length)return`Ongeldige invoer: verwacht ${dV(d.values[0])}`;return`Ongeldige optie: verwacht \xe9\xe9n van ${ds(d.values,"|")}`;case"too_big":{let b=d.inclusive?"<=":"<",c=a[d.origin]??null,e="date"===d.origin?"laat":"string"===d.origin?"lang":"groot";if(c)return`Te ${e}: verwacht dat ${d.origin??"waarde"} ${b}${d.maximum.toString()} ${c.unit??"elementen"} ${c.verb}`;return`Te ${e}: verwacht dat ${d.origin??"waarde"} ${b}${d.maximum.toString()} is`}case"too_small":{let b=d.inclusive?">=":">",c=a[d.origin]??null,e="date"===d.origin?"vroeg":"string"===d.origin?"kort":"klein";if(c)return`Te ${e}: verwacht dat ${d.origin} ${b}${d.minimum.toString()} ${c.unit} ${c.verb}`;return`Te ${e}: verwacht dat ${d.origin} ${b}${d.minimum.toString()} is`}case"invalid_format":if("starts_with"===d.format)return`Ongeldige tekst: moet met "${d.prefix}" beginnen`;if("ends_with"===d.format)return`Ongeldige tekst: moet op "${d.suffix}" eindigen`;if("includes"===d.format)return`Ongeldige tekst: moet "${d.includes}" bevatten`;if("regex"===d.format)return`Ongeldige tekst: moet overeenkomen met patroon ${d.pattern}`;return`Ongeldig: ${b[d.format]??d.format}`;case"not_multiple_of":return`Ongeldig getal: moet een veelvoud van ${d.divisor} zijn`;case"unrecognized_keys":return`Onbekende key${d.keys.length>1?"s":""}: ${ds(d.keys,", ")}`;case"invalid_key":return`Ongeldige key in ${d.origin}`;case"invalid_union":default:return"Ongeldige invoer";case"invalid_element":return`Ongeldige waarde in ${d.origin}`}})}},"no",0,function(){let a,b,c;return{localeError:(a={string:{unit:"tegn",verb:" ha"},file:{unit:"bytes",verb:" ha"},array:{unit:"elementer",verb:" inneholde"},set:{unit:"elementer",verb:" inneholde"}},b={regex:"input",email:"e-postadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslett",date:"ISO-dato",time:"ISO-klokkeslett",duration:"ISO-varighet",ipv4:"IPv4-omrde",ipv6:"IPv6-omrde",cidrv4:"IPv4-spekter",cidrv6:"IPv6-spekter",base64:"base64-enkodet streng",base64url:"base64url-enkodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"},c={nan:"NaN",number:"tall",array:"liste"},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=ea(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return`Ugyldig input: forventet instanceof ${d.expected}, fikk ${e}`;return`Ugyldig input: forventet ${a}, fikk ${e}`}case"invalid_value":if(1===d.values.length)return`Ugyldig verdi: forventet ${dV(d.values[0])}`;return`Ugyldig valg: forventet en av ${ds(d.values,"|")}`;case"too_big":{let b=d.inclusive?"<=":"<",c=a[d.origin]??null;if(c)return`For stor(t): forventet ${d.origin??"value"} til \xe5 ha ${b}${d.maximum.toString()} ${c.unit??"elementer"}`;return`For stor(t): forventet ${d.origin??"value"} til \xe5 ha ${b}${d.maximum.toString()}`}case"too_small":{let b=d.inclusive?">=":">",c=a[d.origin]??null;if(c)return`For lite(n): forventet ${d.origin} til \xe5 ha ${b}${d.minimum.toString()} ${c.unit}`;return`For lite(n): forventet ${d.origin} til \xe5 ha ${b}${d.minimum.toString()}`}case"invalid_format":if("starts_with"===d.format)return`Ugyldig streng: m\xe5 starte med "${d.prefix}"`;if("ends_with"===d.format)return`Ugyldig streng: m\xe5 ende med "${d.suffix}"`;if("includes"===d.format)return`Ugyldig streng: m\xe5 inneholde "${d.includes}"`;if("regex"===d.format)return`Ugyldig streng: m\xe5 matche m\xf8nsteret ${d.pattern}`;return`Ugyldig ${b[d.format]??d.format}`;case"not_multiple_of":return`Ugyldig tall: m\xe5 v\xe6re et multiplum av ${d.divisor}`;case"unrecognized_keys":return`${d.keys.length>1?"Ukjente nkler":"Ukjent nkkel"}: ${ds(d.keys,", ")}`;case"invalid_key":return`Ugyldig n\xf8kkel i ${d.origin}`;case"invalid_union":default:return"Ugyldig input";case"invalid_element":return`Ugyldig verdi i ${d.origin}`}})}},"ota",0,function(){let a,b,c;return{localeError:(a={string:{unit:"harf",verb:"olmaldr"},file:{unit:"bayt",verb:"olmaldr"},array:{unit:"unsur",verb:"olmaldr"},set:{unit:"unsur",verb:"olmaldr"}},b={regex:"giren",email:"epostagh",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO hengm",date:"ISO tarihi",time:"ISO zaman",duration:"ISO mddeti",ipv4:"IPv4 nin",ipv6:"IPv6 nin",cidrv4:"IPv4 menzili",cidrv6:"IPv6 menzili",base64:"base64-ifreli metin",base64url:"base64url-ifreli metin",json_string:"JSON metin",e164:"E.164 says",jwt:"JWT",template_literal:"giren"},c={nan:"NaN",number:"numara",array:"saf",null:"gayb"},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=ea(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return`F\xe2sit giren: umulan instanceof ${d.expected}, alnan ${e}`;return`F\xe2sit giren: umulan ${a}, alnan ${e}`}case"invalid_value":if(1===d.values.length)return`F\xe2sit giren: umulan ${dV(d.values[0])}`;return`F\xe2sit tercih: m\xfbteberler ${ds(d.values,"|")}`;case"too_big":{let b=d.inclusive?"<=":"<",c=a[d.origin]??null;if(c)return`Fazla b\xfcy\xfck: ${d.origin??"value"}, ${b}${d.maximum.toString()} ${c.unit??"elements"} sahip olmalyd.`;return`Fazla b\xfcy\xfck: ${d.origin??"value"}, ${b}${d.maximum.toString()} olmalyd.`}case"too_small":{let b=d.inclusive?">=":">",c=a[d.origin]??null;if(c)return`Fazla k\xfc\xe7\xfck: ${d.origin}, ${b}${d.minimum.toString()} ${c.unit} sahip olmalyd.`;return`Fazla k\xfc\xe7\xfck: ${d.origin}, ${b}${d.minimum.toString()} olmalyd.`}case"invalid_format":if("starts_with"===d.format)return`F\xe2sit metin: "${d.prefix}" ile balamal.`;if("ends_with"===d.format)return`F\xe2sit metin: "${d.suffix}" ile bitmeli.`;if("includes"===d.format)return`F\xe2sit metin: "${d.includes}" ihtiv\xe2 etmeli.`;if("regex"===d.format)return`F\xe2sit metin: ${d.pattern} nakna uymal.`;return`F\xe2sit ${b[d.format]??d.format}`;case"not_multiple_of":return`F\xe2sit say: ${d.divisor} kat olmalyd.`;case"unrecognized_keys":return`Tannmayan anahtar ${d.keys.length>1?"s":""}: ${ds(d.keys,", ")}`;case"invalid_key":return`${d.origin} i\xe7in tannmayan anahtar var.`;case"invalid_union":return"Giren tannamad.";case"invalid_element":return`${d.origin} i\xe7in tannmayan kymet var.`;default:return`Kymet tannamad.`}})}},"pl",0,function(){let a,b,c;return{localeError:(a={string:{unit:"znakw",verb:"mie"},file:{unit:"bajtw",verb:"mie"},array:{unit:"elementw",verb:"mie"},set:{unit:"elementw",verb:"mie"}},b={regex:"wyraenie",email:"adres email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i godzina w formacie ISO",date:"data w formacie ISO",time:"godzina w formacie ISO",duration:"czas trwania ISO",ipv4:"adres IPv4",ipv6:"adres IPv6",cidrv4:"zakres IPv4",cidrv6:"zakres IPv6",base64:"cig znakw zakodowany w formacie base64",base64url:"cig znakw zakodowany w formacie base64url",json_string:"cig znakw w formacie JSON",e164:"liczba E.164",jwt:"JWT",template_literal:"wejcie"},c={nan:"NaN",number:"liczba",array:"tablica"},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=ea(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return`Nieprawidowe dane wejciowe: oczekiwano instanceof ${d.expected}, otrzymano ${e}`;return`Nieprawidowe dane wejciowe: oczekiwano ${a}, otrzymano ${e}`}case"invalid_value":if(1===d.values.length)return`Nieprawidowe dane wejciowe: oczekiwano ${dV(d.values[0])}`;return`Nieprawidowa opcja: oczekiwano jednej z wartoci ${ds(d.values,"|")}`;case"too_big":{let b=d.inclusive?"<=":"<",c=a[d.origin]??null;if(c)return`Za dua warto: oczekiwano, e ${d.origin??"warto"} bdzie mie ${b}${d.maximum.toString()} ${c.unit??"elementw"}`;return`Zbyt du(y/a/e): oczekiwano, e ${d.origin??"warto"} bdzie wynosi ${b}${d.maximum.toString()}`}case"too_small":{let b=d.inclusive?">=":">",c=a[d.origin]??null;if(c)return`Za maa warto: oczekiwano, e ${d.origin??"warto"} bdzie mie ${b}${d.minimum.toString()} ${c.unit??"elementw"}`;return`Zbyt ma(y/a/e): oczekiwano, e ${d.origin??"warto"} bdzie wynosi ${b}${d.minimum.toString()}`}case"invalid_format":if("starts_with"===d.format)return`Nieprawidowy cig znak\xf3w: musi zaczyna si od "${d.prefix}"`;if("ends_with"===d.format)return`Nieprawidowy cig znak\xf3w: musi koczy si na "${d.suffix}"`;if("includes"===d.format)return`Nieprawidowy cig znak\xf3w: musi zawiera "${d.includes}"`;if("regex"===d.format)return`Nieprawidowy cig znak\xf3w: musi odpowiada wzorcowi ${d.pattern}`;return`Nieprawidow(y/a/e) ${b[d.format]??d.format}`;case"not_multiple_of":return`Nieprawidowa liczba: musi by wielokrotnoci ${d.divisor}`;case"unrecognized_keys":return`Nierozpoznane klucze${d.keys.length>1?"s":""}: ${ds(d.keys,", ")}`;case"invalid_key":return`Nieprawidowy klucz w ${d.origin}`;case"invalid_union":return"Nieprawidowe dane wejciowe";case"invalid_element":return`Nieprawidowa warto w ${d.origin}`;default:return`Nieprawidowe dane wejciowe`}})}},"ps",0,function(){let a,b,c;return{localeError:(a={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},b={regex:"",email:"",url:"  ",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"  ",date:"",time:"",duration:"",ipv4:" IPv4 ",ipv6:" IPv6 ",cidrv4:" IPv4 ",cidrv6:" IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:" E.164 ",jwt:"JWT",template_literal:""},c={nan:"NaN",number:"",array:""},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=ea(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return` :  instanceof ${d.expected} ,  ${e}  `;return` :  ${a} ,  ${e}  `}case"invalid_value":if(1===d.values.length)return` :  ${dV(d.values[0])} `;return` :    ${ds(d.values,"|")}  `;case"too_big":{let b=d.inclusive?"<=":"<",c=a[d.origin]??null;if(c)return` : ${d.origin??""}  ${b}${d.maximum.toString()} ${c.unit??""} `;return` : ${d.origin??""}  ${b}${d.maximum.toString()} `}case"too_small":{let b=d.inclusive?">=":">",c=a[d.origin]??null;if(c)return` : ${d.origin}  ${b}${d.minimum.toString()} ${c.unit} `;return` : ${d.origin}  ${b}${d.minimum.toString()} `}case"invalid_format":if("starts_with"===d.format)return` :   "${d.prefix}"   `;if("ends_with"===d.format)return` :   "${d.suffix}"    `;if("includes"===d.format)return` :  "${d.includes}" `;if("regex"===d.format)return` :   ${d.pattern}   `;return`${b[d.format]??d.format}  `;case"not_multiple_of":return` :   ${d.divisor}  `;case"unrecognized_keys":return` ${d.keys.length>1?"":""}: ${ds(d.keys,", ")}`;case"invalid_key":return`   ${d.origin} `;case"invalid_union":default:return` `;case"invalid_element":return`   ${d.origin} `}})}},"pt",0,function(){let a,b,c;return{localeError:(a={string:{unit:"caracteres",verb:"ter"},file:{unit:"bytes",verb:"ter"},array:{unit:"itens",verb:"ter"},set:{unit:"itens",verb:"ter"}},b={regex:"padro",email:"endereo de e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e hora ISO",date:"data ISO",time:"hora ISO",duration:"durao ISO",ipv4:"endereo IPv4",ipv6:"endereo IPv6",cidrv4:"faixa de IPv4",cidrv6:"faixa de IPv6",base64:"texto codificado em base64",base64url:"URL codificada em base64",json_string:"texto JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"},c={nan:"NaN",number:"nmero",null:"nulo"},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=ea(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return`Tipo inv\xe1lido: esperado instanceof ${d.expected}, recebido ${e}`;return`Tipo inv\xe1lido: esperado ${a}, recebido ${e}`}case"invalid_value":if(1===d.values.length)return`Entrada inv\xe1lida: esperado ${dV(d.values[0])}`;return`Op\xe7\xe3o inv\xe1lida: esperada uma das ${ds(d.values,"|")}`;case"too_big":{let b=d.inclusive?"<=":"<",c=a[d.origin]??null;if(c)return`Muito grande: esperado que ${d.origin??"valor"} tivesse ${b}${d.maximum.toString()} ${c.unit??"elementos"}`;return`Muito grande: esperado que ${d.origin??"valor"} fosse ${b}${d.maximum.toString()}`}case"too_small":{let b=d.inclusive?">=":">",c=a[d.origin]??null;if(c)return`Muito pequeno: esperado que ${d.origin} tivesse ${b}${d.minimum.toString()} ${c.unit}`;return`Muito pequeno: esperado que ${d.origin} fosse ${b}${d.minimum.toString()}`}case"invalid_format":if("starts_with"===d.format)return`Texto inv\xe1lido: deve come\xe7ar com "${d.prefix}"`;if("ends_with"===d.format)return`Texto inv\xe1lido: deve terminar com "${d.suffix}"`;if("includes"===d.format)return`Texto inv\xe1lido: deve incluir "${d.includes}"`;if("regex"===d.format)return`Texto inv\xe1lido: deve corresponder ao padr\xe3o ${d.pattern}`;return`${b[d.format]??d.format} inv\xe1lido`;case"not_multiple_of":return`N\xfamero inv\xe1lido: deve ser m\xfaltiplo de ${d.divisor}`;case"unrecognized_keys":return`Chave${d.keys.length>1?"s":""} desconhecida${d.keys.length>1?"s":""}: ${ds(d.keys,", ")}`;case"invalid_key":return`Chave inv\xe1lida em ${d.origin}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Valor inv\xe1lido em ${d.origin}`;default:return`Campo inv\xe1lido`}})}},"ru",0,function(){let a,b,c;return{localeError:(a={string:{unit:{one:"",few:"",many:""},verb:""},file:{unit:{one:"",few:"",many:""},verb:""},array:{unit:{one:"",few:"",many:""},verb:""},set:{unit:{one:"",few:"",many:""},verb:""}},b={regex:"",email:"email ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"   base64",base64url:"   base64url",json_string:"JSON ",e164:" E.164",jwt:"JWT",template_literal:""},c={nan:"NaN",number:"",array:""},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=ea(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return` :  instanceof ${d.expected},  ${e}`;return` :  ${a},  ${e}`}case"invalid_value":if(1===d.values.length)return` :  ${dV(d.values[0])}`;return` :    ${ds(d.values,"|")}`;case"too_big":{let b=d.inclusive?"<=":"<",c=a[d.origin]??null;if(c){let a=hA(Number(d.maximum),c.unit.one,c.unit.few,c.unit.many);return`  : ,  ${d.origin??""}   ${b}${d.maximum.toString()} ${a}`}return`  : ,  ${d.origin??""}  ${b}${d.maximum.toString()}`}case"too_small":{let b=d.inclusive?">=":">",c=a[d.origin]??null;if(c){let a=hA(Number(d.minimum),c.unit.one,c.unit.few,c.unit.many);return`  : ,  ${d.origin}   ${b}${d.minimum.toString()} ${a}`}return`  : ,  ${d.origin}  ${b}${d.minimum.toString()}`}case"invalid_format":if("starts_with"===d.format)return` :    "${d.prefix}"`;if("ends_with"===d.format)return` :    "${d.suffix}"`;if("includes"===d.format)return` :   "${d.includes}"`;if("regex"===d.format)return` :    ${d.pattern}`;return` ${b[d.format]??d.format}`;case"not_multiple_of":return` :    ${d.divisor}`;case"unrecognized_keys":return`${d.keys.length>1?"":""} ${d.keys.length>1?"":""}: ${ds(d.keys,", ")}`;case"invalid_key":return`   ${d.origin}`;case"invalid_union":return"  ";case"invalid_element":return`   ${d.origin}`;default:return`  `}})}},"sl",0,function(){let a,b,c;return{localeError:(a={string:{unit:"znakov",verb:"imeti"},file:{unit:"bajtov",verb:"imeti"},array:{unit:"elementov",verb:"imeti"},set:{unit:"elementov",verb:"imeti"}},b={regex:"vnos",email:"e-potni naslov",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum in as",date:"ISO datum",time:"ISO as",duration:"ISO trajanje",ipv4:"IPv4 naslov",ipv6:"IPv6 naslov",cidrv4:"obseg IPv4",cidrv6:"obseg IPv6",base64:"base64 kodiran niz",base64url:"base64url kodiran niz",json_string:"JSON niz",e164:"E.164 tevilka",jwt:"JWT",template_literal:"vnos"},c={nan:"NaN",number:"tevilo",array:"tabela"},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=ea(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return`Neveljaven vnos: priakovano instanceof ${d.expected}, prejeto ${e}`;return`Neveljaven vnos: priakovano ${a}, prejeto ${e}`}case"invalid_value":if(1===d.values.length)return`Neveljaven vnos: priakovano ${dV(d.values[0])}`;return`Neveljavna monost: priakovano eno izmed ${ds(d.values,"|")}`;case"too_big":{let b=d.inclusive?"<=":"<",c=a[d.origin]??null;if(c)return`Preveliko: priakovano, da bo ${d.origin??"vrednost"} imelo ${b}${d.maximum.toString()} ${c.unit??"elementov"}`;return`Preveliko: priakovano, da bo ${d.origin??"vrednost"} ${b}${d.maximum.toString()}`}case"too_small":{let b=d.inclusive?">=":">",c=a[d.origin]??null;if(c)return`Premajhno: priakovano, da bo ${d.origin} imelo ${b}${d.minimum.toString()} ${c.unit}`;return`Premajhno: priakovano, da bo ${d.origin} ${b}${d.minimum.toString()}`}case"invalid_format":if("starts_with"===d.format)return`Neveljaven niz: mora se zaeti z "${d.prefix}"`;if("ends_with"===d.format)return`Neveljaven niz: mora se konati z "${d.suffix}"`;if("includes"===d.format)return`Neveljaven niz: mora vsebovati "${d.includes}"`;if("regex"===d.format)return`Neveljaven niz: mora ustrezati vzorcu ${d.pattern}`;return`Neveljaven ${b[d.format]??d.format}`;case"not_multiple_of":return`Neveljavno tevilo: mora biti vekratnik ${d.divisor}`;case"unrecognized_keys":return`Neprepoznan${d.keys.length>1?"i kljui":" klju"}: ${ds(d.keys,", ")}`;case"invalid_key":return`Neveljaven klju v ${d.origin}`;case"invalid_union":default:return"Neveljaven vnos";case"invalid_element":return`Neveljavna vrednost v ${d.origin}`}})}},"sv",0,function(){let a,b,c;return{localeError:(a={string:{unit:"tecken",verb:"att ha"},file:{unit:"bytes",verb:"att ha"},array:{unit:"objekt",verb:"att innehlla"},set:{unit:"objekt",verb:"att innehlla"}},b={regex:"reguljrt uttryck",email:"e-postadress",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datum och tid",date:"ISO-datum",time:"ISO-tid",duration:"ISO-varaktighet",ipv4:"IPv4-intervall",ipv6:"IPv6-intervall",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodad strng",base64url:"base64url-kodad strng",json_string:"JSON-strng",e164:"E.164-nummer",jwt:"JWT",template_literal:"mall-literal"},c={nan:"NaN",number:"antal",array:"lista"},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=ea(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return`Ogiltig inmatning: f\xf6rv\xe4ntat instanceof ${d.expected}, fick ${e}`;return`Ogiltig inmatning: f\xf6rv\xe4ntat ${a}, fick ${e}`}case"invalid_value":if(1===d.values.length)return`Ogiltig inmatning: f\xf6rv\xe4ntat ${dV(d.values[0])}`;return`Ogiltigt val: f\xf6rv\xe4ntade en av ${ds(d.values,"|")}`;case"too_big":{let b=d.inclusive?"<=":"<",c=a[d.origin]??null;if(c)return`F\xf6r stor(t): f\xf6rv\xe4ntade ${d.origin??"vrdet"} att ha ${b}${d.maximum.toString()} ${c.unit??"element"}`;return`F\xf6r stor(t): f\xf6rv\xe4ntat ${d.origin??"vrdet"} att ha ${b}${d.maximum.toString()}`}case"too_small":{let b=d.inclusive?">=":">",c=a[d.origin]??null;if(c)return`F\xf6r lite(t): f\xf6rv\xe4ntade ${d.origin??"vrdet"} att ha ${b}${d.minimum.toString()} ${c.unit}`;return`F\xf6r lite(t): f\xf6rv\xe4ntade ${d.origin??"vrdet"} att ha ${b}${d.minimum.toString()}`}case"invalid_format":if("starts_with"===d.format)return`Ogiltig str\xe4ng: m\xe5ste b\xf6rja med "${d.prefix}"`;if("ends_with"===d.format)return`Ogiltig str\xe4ng: m\xe5ste sluta med "${d.suffix}"`;if("includes"===d.format)return`Ogiltig str\xe4ng: m\xe5ste inneh\xe5lla "${d.includes}"`;if("regex"===d.format)return`Ogiltig str\xe4ng: m\xe5ste matcha m\xf6nstret "${d.pattern}"`;return`Ogiltig(t) ${b[d.format]??d.format}`;case"not_multiple_of":return`Ogiltigt tal: m\xe5ste vara en multipel av ${d.divisor}`;case"unrecognized_keys":return`${d.keys.length>1?"Oknda nycklar":"Oknd nyckel"}: ${ds(d.keys,", ")}`;case"invalid_key":return`Ogiltig nyckel i ${d.origin??"vrdet"}`;case"invalid_union":default:return"Ogiltig input";case"invalid_element":return`Ogiltigt v\xe4rde i ${d.origin??"vrdet"}`}})}},"ta",0,function(){let a,b,c;return{localeError:(a={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}},b={regex:"",email:" ",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO  ",date:"ISO ",time:"ISO ",duration:"ISO  ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:"input"},c={nan:"NaN",number:"",array:"",null:""},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=ea(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return` :  instanceof ${d.expected},  ${e}`;return` :  ${a},  ${e}`}case"invalid_value":if(1===d.values.length)return` :  ${dV(d.values[0])}`;return` :  ${ds(d.values,"|")}  `;case"too_big":{let b=d.inclusive?"<=":"<",c=a[d.origin]??null;if(c)return` :  ${d.origin??""} ${b}${d.maximum.toString()} ${c.unit??""}   `;return` :  ${d.origin??""} ${b}${d.maximum.toString()}   `}case"too_small":{let b=d.inclusive?">=":">",c=a[d.origin]??null;if(c)return` :  ${d.origin} ${b}${d.minimum.toString()} ${c.unit}   `;return` :  ${d.origin} ${b}${d.minimum.toString()}   `}case"invalid_format":if("starts_with"===d.format)return` : "${d.prefix}"   `;if("ends_with"===d.format)return` : "${d.suffix}"   `;if("includes"===d.format)return` : "${d.includes}"   `;if("regex"===d.format)return` : ${d.pattern}   `;return` ${b[d.format]??d.format}`;case"not_multiple_of":return` : ${d.divisor}    `;case"unrecognized_keys":return`  ${d.keys.length>1?"":""}: ${ds(d.keys,", ")}`;case"invalid_key":return`${d.origin}   `;case"invalid_union":return" ";case"invalid_element":return`${d.origin}   `;default:return` `}})}},"th",0,function(){let a,b,c;return{localeError:(a={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},b={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:" ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IP  IPv4",cidrv6:" IP  IPv6",base64:" Base64",base64url:" Base64  URL",json_string:" JSON",e164:" (E.164)",jwt:" JWT",template_literal:""},c={nan:"NaN",number:"",array:" (Array)",null:" (null)"},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=ea(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return`:  instanceof ${d.expected}  ${e}`;return`:  ${a}  ${e}`}case"invalid_value":if(1===d.values.length)return`:  ${dV(d.values[0])}`;return`:  ${ds(d.values,"|")}`;case"too_big":{let b=d.inclusive?"":"",c=a[d.origin]??null;if(c)return`: ${d.origin??""} ${b} ${d.maximum.toString()} ${c.unit??""}`;return`: ${d.origin??""} ${b} ${d.maximum.toString()}`}case"too_small":{let b=d.inclusive?"":"",c=a[d.origin]??null;if(c)return`: ${d.origin} ${b} ${d.minimum.toString()} ${c.unit}`;return`: ${d.origin} ${b} ${d.minimum.toString()}`}case"invalid_format":if("starts_with"===d.format)return`:  "${d.prefix}"`;if("ends_with"===d.format)return`:  "${d.suffix}"`;if("includes"===d.format)return`:  "${d.includes}" `;if("regex"===d.format)return`:  ${d.pattern}`;return`: ${b[d.format]??d.format}`;case"not_multiple_of":return`:  ${d.divisor} `;case"unrecognized_keys":return`: ${ds(d.keys,", ")}`;case"invalid_key":return` ${d.origin}`;case"invalid_union":return": ";case"invalid_element":return` ${d.origin}`;default:return``}})}},"tr",0,function(){let a,b,c;return{localeError:(a={string:{unit:"karakter",verb:"olmal"},file:{unit:"bayt",verb:"olmal"},array:{unit:"e",verb:"olmal"},set:{unit:"e",verb:"olmal"}},b={regex:"girdi",email:"e-posta adresi",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO tarih ve saat",date:"ISO tarih",time:"ISO saat",duration:"ISO sre",ipv4:"IPv4 adresi",ipv6:"IPv6 adresi",cidrv4:"IPv4 aral",cidrv6:"IPv6 aral",base64:"base64 ile ifrelenmi metin",base64url:"base64url ile ifrelenmi metin",json_string:"JSON dizesi",e164:"E.164 says",jwt:"JWT",template_literal:"ablon dizesi"},c={nan:"NaN"},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=ea(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return`Ge\xe7ersiz deer: beklenen instanceof ${d.expected}, alnan ${e}`;return`Ge\xe7ersiz deer: beklenen ${a}, alnan ${e}`}case"invalid_value":if(1===d.values.length)return`Ge\xe7ersiz deer: beklenen ${dV(d.values[0])}`;return`Ge\xe7ersiz se\xe7enek: aadakilerden biri olmal: ${ds(d.values,"|")}`;case"too_big":{let b=d.inclusive?"<=":"<",c=a[d.origin]??null;if(c)return`\xc7ok b\xfcy\xfck: beklenen ${d.origin??"deer"} ${b}${d.maximum.toString()} ${c.unit??"e"}`;return`\xc7ok b\xfcy\xfck: beklenen ${d.origin??"deer"} ${b}${d.maximum.toString()}`}case"too_small":{let b=d.inclusive?">=":">",c=a[d.origin]??null;if(c)return`\xc7ok k\xfc\xe7\xfck: beklenen ${d.origin} ${b}${d.minimum.toString()} ${c.unit}`;return`\xc7ok k\xfc\xe7\xfck: beklenen ${d.origin} ${b}${d.minimum.toString()}`}case"invalid_format":if("starts_with"===d.format)return`Ge\xe7ersiz metin: "${d.prefix}" ile balamal`;if("ends_with"===d.format)return`Ge\xe7ersiz metin: "${d.suffix}" ile bitmeli`;if("includes"===d.format)return`Ge\xe7ersiz metin: "${d.includes}" i\xe7ermeli`;if("regex"===d.format)return`Ge\xe7ersiz metin: ${d.pattern} desenine uymal`;return`Ge\xe7ersiz ${b[d.format]??d.format}`;case"not_multiple_of":return`Ge\xe7ersiz say: ${d.divisor} ile tam b\xf6l\xfcnebilmeli`;case"unrecognized_keys":return`Tannmayan anahtar${d.keys.length>1?"lar":""}: ${ds(d.keys,", ")}`;case"invalid_key":return`${d.origin} i\xe7inde ge\xe7ersiz anahtar`;case"invalid_union":return"Geersiz deer";case"invalid_element":return`${d.origin} i\xe7inde ge\xe7ersiz deer`;default:return`Ge\xe7ersiz deer`}})}},"ua",0,function(){return hB()},"uk",0,hB,"ur",0,function(){let a,b,c;return{localeError:(a={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},b={regex:" ",email:"  ",url:"  ",emoji:"",uuid:"   ",uuidv4:"     4",uuidv6:"     6",nanoid:"  ",guid:"   ",cuid:"   ",cuid2:"    2",ulid:"   ",xid:"  ",ksuid:"    ",datetime:"    ",date:"   ",time:"   ",duration:"   ",ipv4:"   4 ",ipv6:"   6 ",cidrv4:"   4 ",cidrv6:"   6 ",base64:" 64   ",base64url:" 64      ",json_string:"    ",e164:" 164 ",jwt:"  ",template_literal:" "},c={nan:"NaN",number:"",array:"",null:""},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=ea(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return`  : instanceof ${d.expected}   ${e}  `;return`  : ${a}   ${e}  `}case"invalid_value":if(1===d.values.length)return`  : ${dV(d.values[0])}  `;return` : ${ds(d.values,"|")}     `;case"too_big":{let b=d.inclusive?"<=":"<",c=a[d.origin]??null;if(c)return` : ${d.origin??""}  ${b}${d.maximum.toString()} ${c.unit??""}   `;return` : ${d.origin??""}  ${b}${d.maximum.toString()}   `}case"too_small":{let b=d.inclusive?">=":">",c=a[d.origin]??null;if(c)return` : ${d.origin}  ${b}${d.minimum.toString()} ${c.unit}   `;return` : ${d.origin}  ${b}${d.minimum.toString()}   `}case"invalid_format":if("starts_with"===d.format)return` : "${d.prefix}"    `;if("ends_with"===d.format)return` : "${d.suffix}"    `;if("includes"===d.format)return` : "${d.includes}"   `;if("regex"===d.format)return` :  ${d.pattern}    `;return` ${b[d.format]??d.format}`;case"not_multiple_of":return` : ${d.divisor}    `;case"unrecognized_keys":return`   ${d.keys.length>1?"":""}: ${ds(d.keys," ")}`;case"invalid_key":return`${d.origin}   `;case"invalid_union":return"  ";case"invalid_element":return`${d.origin}   `;default:return`  `}})}},"uz",0,function(){let a,b,c;return{localeError:(a={string:{unit:"belgi",verb:"bolishi kerak"},file:{unit:"bayt",verb:"bolishi kerak"},array:{unit:"element",verb:"bolishi kerak"},set:{unit:"element",verb:"bolishi kerak"}},b={regex:"kirish",email:"elektron pochta manzili",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO sana va vaqti",date:"ISO sana",time:"ISO vaqt",duration:"ISO davomiylik",ipv4:"IPv4 manzil",ipv6:"IPv6 manzil",mac:"MAC manzil",cidrv4:"IPv4 diapazon",cidrv6:"IPv6 diapazon",base64:"base64 kodlangan satr",base64url:"base64url kodlangan satr",json_string:"JSON satr",e164:"E.164 raqam",jwt:"JWT",template_literal:"kirish"},c={nan:"NaN",number:"raqam",array:"massiv"},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=ea(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return`Notogri kirish: kutilgan instanceof ${d.expected}, qabul qilingan ${e}`;return`Notogri kirish: kutilgan ${a}, qabul qilingan ${e}`}case"invalid_value":if(1===d.values.length)return`Notogri kirish: kutilgan ${dV(d.values[0])}`;return`Notogri variant: quyidagilardan biri kutilgan ${ds(d.values,"|")}`;case"too_big":{let b=d.inclusive?"<=":"<",c=a[d.origin]??null;if(c)return`Juda katta: kutilgan ${d.origin??"qiymat"} ${b}${d.maximum.toString()} ${c.unit} ${c.verb}`;return`Juda katta: kutilgan ${d.origin??"qiymat"} ${b}${d.maximum.toString()}`}case"too_small":{let b=d.inclusive?">=":">",c=a[d.origin]??null;if(c)return`Juda kichik: kutilgan ${d.origin} ${b}${d.minimum.toString()} ${c.unit} ${c.verb}`;return`Juda kichik: kutilgan ${d.origin} ${b}${d.minimum.toString()}`}case"invalid_format":if("starts_with"===d.format)return`Notogri satr: "${d.prefix}" bilan boshlanishi kerak`;if("ends_with"===d.format)return`Notogri satr: "${d.suffix}" bilan tugashi kerak`;if("includes"===d.format)return`Notogri satr: "${d.includes}" ni oz ichiga olishi kerak`;if("regex"===d.format)return`Notogri satr: ${d.pattern} shabloniga mos kelishi kerak`;return`Notogri ${b[d.format]??d.format}`;case"not_multiple_of":return`Notogri raqam: ${d.divisor} ning karralisi bolishi kerak`;case"unrecognized_keys":return`Nomalum kalit${d.keys.length>1?"lar":""}: ${ds(d.keys,", ")}`;case"invalid_key":return`${d.origin} dagi kalit notogri`;case"invalid_union":return"Notogri kirish";case"invalid_element":return`${d.origin} da notogri qiymat`;default:return`Notogri kirish`}})}},"vi",0,function(){let a,b,c;return{localeError:(a={string:{unit:"k t",verb:"c"},file:{unit:"byte",verb:"c"},array:{unit:"phn t",verb:"c"},set:{unit:"phn t",verb:"c"}},b={regex:"u vo",email:"a ch email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ngy gi ISO",date:"ngy ISO",time:"gi ISO",duration:"khong thi gian ISO",ipv4:"a ch IPv4",ipv6:"a ch IPv6",cidrv4:"di IPv4",cidrv6:"di IPv6",base64:"chui m ha base64",base64url:"chui m ha base64url",json_string:"chui JSON",e164:"s E.164",jwt:"JWT",template_literal:"u vo"},c={nan:"NaN",number:"s",array:"mng"},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=ea(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return`u v\xe0o kh\xf4ng hp l: mong i instanceof ${d.expected}, nhn c ${e}`;return`u v\xe0o kh\xf4ng hp l: mong i ${a}, nhn c ${e}`}case"invalid_value":if(1===d.values.length)return`u v\xe0o kh\xf4ng hp l: mong i ${dV(d.values[0])}`;return`T\xf9y chn kh\xf4ng hp l: mong i mt trong c\xe1c gi\xe1 tr ${ds(d.values,"|")}`;case"too_big":{let b=d.inclusive?"<=":"<",c=a[d.origin]??null;if(c)return`Qu\xe1 ln: mong i ${d.origin??"gi tr"} ${c.verb} ${b}${d.maximum.toString()} ${c.unit??"phn t"}`;return`Qu\xe1 ln: mong i ${d.origin??"gi tr"} ${b}${d.maximum.toString()}`}case"too_small":{let b=d.inclusive?">=":">",c=a[d.origin]??null;if(c)return`Qu\xe1 nh: mong i ${d.origin} ${c.verb} ${b}${d.minimum.toString()} ${c.unit}`;return`Qu\xe1 nh: mong i ${d.origin} ${b}${d.minimum.toString()}`}case"invalid_format":if("starts_with"===d.format)return`Chui kh\xf4ng hp l: phi bt u bng "${d.prefix}"`;if("ends_with"===d.format)return`Chui kh\xf4ng hp l: phi kt th\xfac bng "${d.suffix}"`;if("includes"===d.format)return`Chui kh\xf4ng hp l: phi bao gm "${d.includes}"`;if("regex"===d.format)return`Chui kh\xf4ng hp l: phi khp vi mu ${d.pattern}`;return`${b[d.format]??d.format} kh\xf4ng hp l`;case"not_multiple_of":return`S kh\xf4ng hp l: phi l\xe0 bi s ca ${d.divisor}`;case"unrecognized_keys":return`Kh\xf3a kh\xf4ng c nhn dng: ${ds(d.keys,", ")}`;case"invalid_key":return`Kh\xf3a kh\xf4ng hp l trong ${d.origin}`;case"invalid_union":return"u vo khng hp l";case"invalid_element":return`Gi\xe1 tr kh\xf4ng hp l trong ${d.origin}`;default:return`u v\xe0o kh\xf4ng hp l`}})}},"yo",0,function(){let a,b,c;return{localeError:(a={string:{unit:"mi",verb:"n"},file:{unit:"bytes",verb:"n"},array:{unit:"nkan",verb:"n"},set:{unit:"nkan",verb:"n"}},b={regex:"r bwl",email:"drs ml",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"kk ISO",date:"j ISO",time:"kk ISO",duration:"kk t p ISO",ipv4:"drs IPv4",ipv6:"drs IPv6",cidrv4:"gbgb IPv4",cidrv6:"gbgb IPv6",base64:"r t a k n base64",base64url:"r base64url",json_string:"r JSON",e164:"nmb E.164",jwt:"JWT",template_literal:"r bwl"},c={nan:"NaN",number:"nmb",array:"akop"},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=ea(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return`\xccb\xe1wl\xe9 a\xece: a n\xed l\xe1ti fi instanceof ${d.expected}, \xe0m a r\xed ${e}`;return`\xccb\xe1wl\xe9 a\xece: a n\xed l\xe1ti fi ${a}, \xe0m a r\xed ${e}`}case"invalid_value":if(1===d.values.length)return`\xccb\xe1wl\xe9 a\xece: a n\xed l\xe1ti fi ${dV(d.values[0])}`;return`\xc0\xe0y\xe0n a\xece: yan kan l\xe1ra ${ds(d.values,"|")}`;case"too_big":{let b=d.inclusive?"<=":"<",c=a[d.origin]??null;if(c)return`T\xf3 p j\xf9: a n\xed l\xe1ti j p\xe9 ${d.origin??"iye"} ${c.verb} ${b}${d.maximum} ${c.unit}`;return`T\xf3 p j\xf9: a n\xed l\xe1ti j ${b}${d.maximum}`}case"too_small":{let b=d.inclusive?">=":">",c=a[d.origin]??null;if(c)return`K\xe9r\xe9 ju: a n\xed l\xe1ti j p\xe9 ${d.origin} ${c.verb} ${b}${d.minimum} ${c.unit}`;return`K\xe9r\xe9 ju: a n\xed l\xe1ti j ${b}${d.minimum}`}case"invalid_format":if("starts_with"===d.format)return`r a\xece: gbd br pl\xfa "${d.prefix}"`;if("ends_with"===d.format)return`r a\xece: gbd par\xed pl\xfa "${d.suffix}"`;if("includes"===d.format)return`r a\xece: gbd n\xed "${d.includes}"`;if("regex"===d.format)return`r a\xece: gbd b\xe1 \xe0pr mu ${d.pattern}`;return`A\xece: ${b[d.format]??d.format}`;case"not_multiple_of":return`Nmb\xe0 a\xece: gbd j \xe8y\xe0 p\xedp\xedn ti ${d.divisor}`;case"unrecognized_keys":return`Bt\xecn\xec \xe0\xecm: ${ds(d.keys,", ")}`;case"invalid_key":return`Bt\xecn\xec a\xece n\xedn\xfa ${d.origin}`;case"invalid_union":default:return"bwl ae";case"invalid_element":return`Iye a\xece n\xedn\xfa ${d.origin}`}})}},"zhCN",0,function(){let a,b,c;return{localeError:(a={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},b={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO",date:"ISO",time:"ISO",duration:"ISO",ipv4:"IPv4",ipv6:"IPv6",cidrv4:"IPv4",cidrv6:"IPv6",base64:"base64",base64url:"base64url",json_string:"JSON",e164:"E.164",jwt:"JWT",template_literal:""},c={nan:"NaN",number:"",array:"",null:"(null)"},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=ea(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return` instanceof ${d.expected} ${e}`;return` ${a} ${e}`}case"invalid_value":if(1===d.values.length)return` ${dV(d.values[0])}`;return` ${ds(d.values,"|")}`;case"too_big":{let b=d.inclusive?"<=":"<",c=a[d.origin]??null;if(c)return` ${d.origin??""} ${b}${d.maximum.toString()} ${c.unit??""}`;return` ${d.origin??""} ${b}${d.maximum.toString()}`}case"too_small":{let b=d.inclusive?">=":">",c=a[d.origin]??null;if(c)return` ${d.origin} ${b}${d.minimum.toString()} ${c.unit}`;return` ${d.origin} ${b}${d.minimum.toString()}`}case"invalid_format":if("starts_with"===d.format)return` "${d.prefix}" `;if("ends_with"===d.format)return` "${d.suffix}" `;if("includes"===d.format)return` "${d.includes}"`;if("regex"===d.format)return` ${d.pattern}`;return`${b[d.format]??d.format}`;case"not_multiple_of":return` ${d.divisor} `;case"unrecognized_keys":return`(key): ${ds(d.keys,", ")}`;case"invalid_key":return`${d.origin} (key)`;case"invalid_union":return"";case"invalid_element":return`${d.origin} (value)`;default:return``}})}},"zhTW",0,function(){let a,b,c;return{localeError:(a={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},b={regex:"",email:"",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64 ",base64url:"base64url ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},c={nan:"NaN"},d=>{switch(d.code){case"invalid_type":{let a=c[d.expected]??d.expected,b=ea(d.input),e=c[b]??b;if(/^[A-Z]/.test(d.expected))return` instanceof ${d.expected} ${e}`;return` ${a} ${e}`}case"invalid_value":if(1===d.values.length)return` ${dV(d.values[0])}`;return` ${ds(d.values,"|")}`;case"too_big":{let b=d.inclusive?"<=":"<",c=a[d.origin]??null;if(c)return` ${d.origin??""}  ${b}${d.maximum.toString()} ${c.unit??""}`;return` ${d.origin??""}  ${b}${d.maximum.toString()}`}case"too_small":{let b=d.inclusive?">=":">",c=a[d.origin]??null;if(c)return` ${d.origin}  ${b}${d.minimum.toString()} ${c.unit}`;return` ${d.origin}  ${b}${d.minimum.toString()}`}case"invalid_format":if("starts_with"===d.format)return` "${d.prefix}" `;if("ends_with"===d.format)return` "${d.suffix}" `;if("includes"===d.format)return` "${d.includes}"`;if("regex"===d.format)return` ${d.pattern}`;return` ${b[d.format]??d.format}`;case"not_multiple_of":return` ${d.divisor} `;case"unrecognized_keys":return`${d.keys.length>1?"":""}${ds(d.keys,"")}`;case"invalid_key":return`${d.origin} `;case"invalid_union":return"";case"invalid_element":return`${d.origin} `;default:return``}})}}],34454);var ns=a.i(34454);a.i(4359),a.i(47613),a.i(9451),a.i(3240);var nt=a.i(33106);a.s(["$ZodAny",0,gC,"$ZodArray",0,gI,"$ZodAsyncError",()=>dh,"$ZodBase64",0,gn,"$ZodBase64URL",0,gp,"$ZodBigInt",0,gx,"$ZodBigIntFormat",0,gy,"$ZodBoolean",0,gw,"$ZodCIDRv4",0,gk,"$ZodCIDRv6",0,gl,"$ZodCUID",0,f8,"$ZodCUID2",0,f9,"$ZodCatch",0,he,"$ZodCheck",0,fB,"$ZodCheckBigIntFormat",0,fH,"$ZodCheckEndsWith",0,fU,"$ZodCheckGreaterThan",0,fE,"$ZodCheckIncludes",0,fS,"$ZodCheckLengthEquals",0,fN,"$ZodCheckLessThan",0,fD,"$ZodCheckLowerCase",0,fQ,"$ZodCheckMaxLength",0,fL,"$ZodCheckMaxSize",0,fI,"$ZodCheckMimeType",0,fX,"$ZodCheckMinLength",0,fM,"$ZodCheckMinSize",0,fJ,"$ZodCheckMultipleOf",0,fF,"$ZodCheckNumberFormat",0,fG,"$ZodCheckOverwrite",0,fY,"$ZodCheckProperty",0,fW,"$ZodCheckRegex",0,fP,"$ZodCheckSizeEquals",0,fK,"$ZodCheckStartsWith",0,fT,"$ZodCheckStringFormat",0,fO,"$ZodCheckUpperCase",0,fR,"$ZodCodec",0,hi,"$ZodCustom",0,hr,"$ZodCustomStringFormat",0,gt,"$ZodDate",0,gG,"$ZodDefault",0,g8,"$ZodDiscriminatedUnion",0,gS,"$ZodE164",0,gq,"$ZodEmail",0,f4,"$ZodEmoji",0,f6,"$ZodEncodeError",()=>di,"$ZodEnum",0,g0,"$ZodError",0,el,"$ZodExactOptional",0,g6,"$ZodFile",0,g2,"$ZodFunction",0,ho,"$ZodGUID",0,f2,"$ZodIPv4",0,gh,"$ZodIPv6",0,gi,"$ZodISODate",0,ge,"$ZodISODateTime",0,gd,"$ZodISODuration",0,gg,"$ZodISOTime",0,gf,"$ZodIntersection",0,gT,"$ZodJWT",0,gs,"$ZodKSUID",0,gc,"$ZodLazy",0,hq,"$ZodLiteral",0,g1,"$ZodMAC",0,gj,"$ZodMap",0,gY,"$ZodNaN",0,hf,"$ZodNanoID",0,f7,"$ZodNever",0,gE,"$ZodNonOptional",0,hb,"$ZodNull",0,gB,"$ZodNullable",0,g7,"$ZodNumber",0,gu,"$ZodNumberFormat",0,gv,"$ZodObject",0,gM,"$ZodObjectJIT",0,gN,"$ZodOptional",0,g5,"$ZodPipe",0,hg,"$ZodPrefault",0,ha,"$ZodPromise",0,hp,"$ZodReadonly",0,hl,"$ZodRealError",0,em,"$ZodRecord",0,gX,"$ZodRegistry",()=>hE,"$ZodSet",0,g$,"$ZodString",0,f0,"$ZodStringFormat",0,f1,"$ZodSuccess",0,hd,"$ZodSymbol",0,gz,"$ZodTemplateLiteral",0,hn,"$ZodTransform",0,g3,"$ZodTuple",0,gV,"$ZodType",0,f_,"$ZodULID",0,ga,"$ZodURL",0,f5,"$ZodUUID",0,f3,"$ZodUndefined",0,gA,"$ZodUnion",0,gP,"$ZodUnknown",0,gD,"$ZodVoid",0,gF,"$ZodXID",0,gb,"$ZodXor",0,gR,"$brand",0,dg,"$constructor",()=>df,"$input",0,hD,"$output",0,hC,"Doc",()=>fZ,"JSONSchema",0,nt,"JSONSchemaGenerator",()=>kg,"NEVER",0,de,"TimePrecision",0,h4,"_any",()=>ir,"_array",()=>i_,"_base64",()=>h0,"_base64url",()=>h1,"_bigint",()=>ij,"_boolean",()=>ih,"_catch",()=>ji,"_check",()=>jr,"_cidrv4",()=>h$,"_cidrv6",()=>h_,"_coercedBigint",()=>ik,"_coercedBoolean",()=>ii,"_coercedDate",()=>iw,"_coercedNumber",()=>ia,"_coercedString",()=>hI,"_cuid",()=>hS,"_cuid2",()=>hT,"_custom",()=>jo,"_date",()=>iv,"_decode",0,eC,"_decodeAsync",0,eG,"_default",()=>jf,"_discriminatedUnion",()=>i2,"_e164",()=>h2,"_email",()=>hJ,"_emoji",()=>hQ,"_encode",0,eA,"_encodeAsync",0,eE,"_endsWith",()=>iS,"_enum",()=>i8,"_file",()=>jb,"_float32",()=>ic,"_float64",()=>id,"_gt",()=>iA,"_gte",()=>iB,"_guid",()=>hK,"_includes",()=>iQ,"_int",()=>ib,"_int32",()=>ie,"_int64",()=>il,"_intersection",()=>i3,"_ipv4",()=>hX,"_ipv6",()=>hY,"_isoDate",()=>h6,"_isoDateTime",()=>h5,"_isoDuration",()=>h8,"_isoTime",()=>h7,"_jwt",()=>h3,"_ksuid",()=>hW,"_lazy",()=>jm,"_length",()=>iM,"_literal",()=>ja,"_lowercase",()=>iO,"_lt",()=>iy,"_lte",()=>iz,"_mac",()=>hZ,"_map",()=>i6,"_max",()=>iz,"_maxLength",()=>iK,"_maxSize",()=>iH,"_mime",()=>iU,"_min",()=>iB,"_minLength",()=>iL,"_minSize",()=>iI,"_multipleOf",()=>iG,"_nan",()=>ix,"_nanoid",()=>hR,"_nativeEnum",()=>i9,"_negative",()=>iD,"_never",()=>it,"_nonnegative",()=>iF,"_nonoptional",()=>jg,"_nonpositive",()=>iE,"_normalize",()=>iW,"_null",()=>iq,"_nullable",()=>je,"_number",()=>h9,"_optional",()=>jd,"_overwrite",()=>iV,"_parse",0,es,"_parseAsync",0,eu,"_pipe",()=>jj,"_positive",()=>iC,"_promise",()=>jn,"_property",()=>iT,"_readonly",()=>jk,"_record",()=>i5,"_refine",()=>jp,"_regex",()=>iN,"_safeDecode",0,eK,"_safeDecodeAsync",0,eO,"_safeEncode",0,eI,"_safeEncodeAsync",0,eM,"_safeParse",0,ew,"_safeParseAsync",0,ey,"_set",()=>i7,"_size",()=>iJ,"_slugify",()=>i$,"_startsWith",()=>iR,"_string",()=>hH,"_stringFormat",()=>jv,"_stringbool",()=>ju,"_success",()=>jh,"_superRefine",()=>jq,"_symbol",()=>io,"_templateLiteral",()=>jl,"_toLowerCase",()=>iY,"_toUpperCase",()=>iZ,"_transform",()=>jc,"_trim",()=>iX,"_tuple",()=>i4,"_uint32",()=>ig,"_uint64",()=>im,"_ulid",()=>hU,"_undefined",()=>ip,"_union",()=>i0,"_unknown",()=>is,"_uppercase",()=>iP,"_url",()=>hP,"_uuid",()=>hL,"_uuidv4",()=>hM,"_uuidv6",()=>hN,"_uuidv7",()=>hO,"_void",()=>iu,"_xid",()=>hV,"_xor",()=>i1,"clone",()=>dS,"config",()=>dk,"createStandardJSONSchemaMethod",0,jB,"createToJSONSchemaMethod",0,jA,"decode",0,eD,"decodeAsync",0,eH,"describe",()=>js,"encode",0,eB,"encodeAsync",0,eF,"extractDefs",()=>jy,"finalize",()=>jz,"flattenError",()=>en,"formatError",()=>eo,"globalConfig",0,dj,"globalRegistry",0,hG,"initializeContext",()=>jw,"isValidBase64",()=>gm,"isValidBase64URL",()=>go,"isValidJWT",()=>gr,"locales",0,ns,"meta",()=>jt,"parse",0,et,"parseAsync",0,ev,"prettifyError",()=>er,"process",()=>jx,"regexes",0,nr,"registry",()=>hF,"safeDecode",0,eL,"safeDecodeAsync",0,eP,"safeEncode",0,eJ,"safeEncodeAsync",0,eN,"safeParse",0,ex,"safeParseAsync",0,ez,"toDotPath",()=>eq,"toJSONSchema",()=>kf,"treeifyError",()=>ep,"util",0,nq,"version",0,f$],63259);var nu=a.i(63259);a.i(31182),a.i(64653),a.i(48499),a.s(["$brand",0,dg,"ZodFirstPartyTypeKind",()=>M,"ZodIssueCode",0,nd,"config",()=>dk,"getErrorMap",()=>nf,"setErrorMap",()=>ne],93050),a.i(93050);var kh=kh,ki=ki,nv=a.i(50705);a.s(["$brand",0,dg,"$input",0,hD,"$output",0,hC,"NEVER",0,de,"TimePrecision",0,h4,"ZodAny",0,lR,"ZodArray",0,l_,"ZodBase64",0,lj,"ZodBase64URL",0,ll,"ZodBigInt",0,lG,"ZodBigIntFormat",0,lI,"ZodBoolean",0,lE,"ZodCIDRv4",0,lf,"ZodCIDRv6",0,lh,"ZodCUID",0,k_,"ZodCUID2",0,k1,"ZodCatch",0,mM,"ZodCodec",0,mS,"ZodCustom",0,m2,"ZodCustomStringFormat",0,lr,"ZodDate",0,lZ,"ZodDefault",0,mE,"ZodDiscriminatedUnion",0,ma,"ZodE164",0,ln,"ZodEmail",0,kL,"ZodEmoji",0,kX,"ZodEnum",0,mo,"ZodError",0,ks,"ZodExactOptional",0,mz,"ZodFile",0,mt,"ZodFirstPartyTypeKind",()=>M,"ZodFunction",0,m0,"ZodGUID",0,kN,"ZodIPv4",0,k9,"ZodIPv6",0,ld,"ZodISODate",0,kl,"ZodISODateTime",0,kj,"ZodISODuration",0,kp,"ZodISOTime",0,kn,"ZodIntersection",0,mc,"ZodIssueCode",0,nd,"ZodJWT",0,lp,"ZodKSUID",0,k7,"ZodLazy",0,mY,"ZodLiteral",0,mr,"ZodMAC",0,lb,"ZodMap",0,mk,"ZodNaN",0,mO,"ZodNanoID",0,kZ,"ZodNever",0,lV,"ZodNonOptional",0,mI,"ZodNull",0,lP,"ZodNullable",0,mB,"ZodNumber",0,lw,"ZodNumberFormat",0,ly,"ZodObject",0,l2,"ZodOptional",0,mx,"ZodPipe",0,mQ,"ZodPrefault",0,mG,"ZodPromise",0,m$,"ZodReadonly",0,mU,"ZodRealError",0,kt,"ZodRecord",0,mg,"ZodSet",0,mm,"ZodString",0,kI,"ZodStringFormat",0,kK,"ZodSuccess",0,mK,"ZodSymbol",0,lL,"ZodTemplateLiteral",0,mW,"ZodTransform",0,mv,"ZodTuple",0,me,"ZodType",0,kG,"ZodULID",0,k3,"ZodURL",0,kU,"ZodUUID",0,kP,"ZodUndefined",0,lN,"ZodUnion",0,l6,"ZodUnknown",0,lT,"ZodVoid",0,lX,"ZodXID",0,k5,"ZodXor",0,l8,"_ZodString",0,kH,"_default",()=>mF,"_function",()=>m1,"any",()=>lS,"array",()=>l0,"base64",()=>lk,"base64url",()=>lm,"bigint",()=>lH,"boolean",()=>lF,"catch",()=>mN,"check",()=>m3,"cidrv4",()=>lg,"cidrv6",()=>li,"clone",()=>dS,"codec",()=>mT,"coerce",0,nv,"config",()=>dk,"core",0,nu,"cuid",()=>k0,"cuid2",()=>k2,"custom",()=>m4,"date",()=>l$,"decode",0,kz,"decodeAsync",0,kB,"describe",0,m7,"discriminatedUnion",()=>mb,"e164",()=>lo,"email",()=>kM,"emoji",()=>kY,"encode",0,ky,"encodeAsync",0,kA,"endsWith",()=>iS,"enum",()=>mp,"exactOptional",()=>mA,"file",()=>mu,"flattenError",()=>en,"float32",()=>lA,"float64",()=>lB,"formatError",()=>eo,"fromJSONSchema",()=>nk,"function",()=>m1,"getErrorMap",()=>nf,"globalRegistry",0,hG,"gt",()=>iA,"gte",()=>iB,"guid",()=>kO,"hash",()=>lv,"hex",()=>lu,"hostname",()=>lt,"httpUrl",()=>kW,"includes",()=>iQ,"instanceof",()=>m9,"int",()=>lz,"int32",()=>lC,"int64",()=>lJ,"intersection",()=>md,"ipv4",()=>la,"ipv6",()=>le,"iso",0,nh,"json",()=>nb,"jwt",()=>lq,"keyof",()=>l1,"ksuid",()=>k8,"lazy",()=>mZ,"length",()=>iM,"literal",()=>ms,"locales",0,ns,"looseObject",()=>l5,"looseRecord",()=>mj,"lowercase",()=>iO,"lt",()=>iy,"lte",()=>iz,"mac",()=>lc,"map",()=>ml,"maxLength",()=>iK,"maxSize",()=>iH,"meta",0,m8,"mime",()=>iU,"minLength",()=>iL,"minSize",()=>iI,"multipleOf",()=>iG,"nan",()=>mP,"nanoid",()=>k$,"nativeEnum",()=>mq,"negative",()=>iD,"never",()=>lW,"nonnegative",()=>iF,"nonoptional",()=>mJ,"nonpositive",()=>iE,"normalize",()=>iW,"null",()=>lQ,"nullable",()=>mC,"nullish",()=>mD,"number",()=>lx,"object",()=>l3,"optional",()=>my,"overwrite",()=>iV,"parse",0,ku,"parseAsync",0,kv,"partialRecord",()=>mi,"pipe",()=>mR,"positive",()=>iC,"prefault",()=>mH,"preprocess",()=>nc,"prettifyError",()=>er,"promise",()=>m_,"property",()=>iT,"readonly",()=>mV,"record",()=>mh,"refine",()=>m5,"regex",()=>iN,"regexes",()=>kh,"registry",()=>hF,"safeDecode",0,kD,"safeDecodeAsync",0,kF,"safeEncode",0,kC,"safeEncodeAsync",0,kE,"safeParse",0,kw,"safeParseAsync",0,kx,"set",()=>mn,"setErrorMap",()=>ne,"size",()=>iJ,"slugify",()=>i$,"startsWith",()=>iR,"strictObject",()=>l4,"string",()=>kJ,"stringFormat",()=>ls,"stringbool",0,na,"success",()=>mL,"superRefine",()=>m6,"symbol",()=>lM,"templateLiteral",()=>mX,"toJSONSchema",()=>kf,"toLowerCase",()=>iY,"toUpperCase",()=>iZ,"transform",()=>mw,"treeifyError",()=>ep,"trim",()=>iX,"tuple",()=>mf,"uint32",()=>lD,"uint64",()=>lK,"ulid",()=>k4,"undefined",()=>lO,"union",()=>l7,"unknown",()=>lU,"uppercase",()=>iP,"url",()=>kV,"util",()=>ki,"uuid",()=>kQ,"uuidv4",()=>kR,"uuidv6",()=>kS,"uuidv7",()=>kT,"void",()=>lY,"xid",()=>k6,"xor",()=>l9],47651);var nv=nv;let nw={OK:200,CREATED:201,ACCEPTED:202,NO_CONTENT:204,MULTIPLE_CHOICES:300,MOVED_PERMANENTLY:301,FOUND:302,SEE_OTHER:303,NOT_MODIFIED:304,TEMPORARY_REDIRECT:307,BAD_REQUEST:400,UNAUTHORIZED:401,PAYMENT_REQUIRED:402,FORBIDDEN:403,NOT_FOUND:404,METHOD_NOT_ALLOWED:405,NOT_ACCEPTABLE:406,PROXY_AUTHENTICATION_REQUIRED:407,REQUEST_TIMEOUT:408,CONFLICT:409,GONE:410,LENGTH_REQUIRED:411,PRECONDITION_FAILED:412,PAYLOAD_TOO_LARGE:413,URI_TOO_LONG:414,UNSUPPORTED_MEDIA_TYPE:415,RANGE_NOT_SATISFIABLE:416,EXPECTATION_FAILED:417,"I'M_A_TEAPOT":418,MISDIRECTED_REQUEST:421,UNPROCESSABLE_ENTITY:422,LOCKED:423,FAILED_DEPENDENCY:424,TOO_EARLY:425,UPGRADE_REQUIRED:426,PRECONDITION_REQUIRED:428,TOO_MANY_REQUESTS:429,REQUEST_HEADER_FIELDS_TOO_LARGE:431,UNAVAILABLE_FOR_LEGAL_REASONS:451,INTERNAL_SERVER_ERROR:500,NOT_IMPLEMENTED:501,BAD_GATEWAY:502,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,HTTP_VERSION_NOT_SUPPORTED:505,VARIANT_ALSO_NEGOTIATES:506,INSUFFICIENT_STORAGE:507,LOOP_DETECTED:508,NOT_EXTENDED:510,NETWORK_AUTHENTICATION_REQUIRED:511};var nx=class extends Error{constructor(a="INTERNAL_SERVER_ERROR",b,c={},d="number"==typeof a?a:nw[a]){super(b?.message,b?.cause?{cause:b.cause}:void 0),this.status=a,this.body=b,this.headers=c,this.statusCode=d,this.name="APIError",this.status=a,this.headers=c,this.statusCode=d,this.body=b?{code:b?.message?.toUpperCase().replace(/ /g,"_").replace(/[^A-Z0-9_]/g,""),...b}:void 0}},ny=class extends nx{constructor(a,b){super(400,{message:a,code:"VALIDATION_ERROR"}),this.message=a,this.issues=b,this.issues=b}},nz=class extends Error{constructor(a){super(a),this.name="BetterCallError"}};let nA=function(a,b){class c extends a{#o;constructor(...a){if(function(){let a=Object.getOwnPropertyDescriptor(Error,"stackTraceLimit");return void 0===a?Object.isExtensible(Error):Object.prototype.hasOwnProperty.call(a,"writable")?a.writable:void 0!==a.set}()){const b=Error.stackTraceLimit;Error.stackTraceLimit=0,super(...a),Error.stackTraceLimit=b}else super(...a);const b=Error().stack;b&&(this.#o=function(a){let b=a.split("\n    at ");return b.length<=1?a:(b.splice(1,1),b.join("\n    at "))}(b.replace(/^Error/,this.name)))}get errorStack(){return this.#o}}return Object.defineProperty(c.prototype,"constructor",{get:()=>b,enumerable:!1,configurable:!0}),c}(nx,Error),nB=/^application\/([a-z0-9.+-]*\+)?json/i;async function nC(a,b){let c=a.headers.get("content-type")||"",d=c.toLowerCase();if(a.body){if(b&&b.length>0&&!b.some(a=>{let b=d.split(";")[0].trim(),c=a.toLowerCase().trim();return b===c||b.includes(c)})){if(!d)throw new nA(415,{message:`Content-Type is required. Allowed types: ${b.join(", ")}`,code:"UNSUPPORTED_MEDIA_TYPE"});throw new nA(415,{message:`Content-Type "${c}" is not allowed. Allowed types: ${b.join(", ")}`,code:"UNSUPPORTED_MEDIA_TYPE"})}if(nB.test(d))return await a.json();if(d.includes("application/x-www-form-urlencoded")){let b=await a.formData(),c={};return b.forEach((a,b)=>{c[b]=a.toString()}),c}if(d.includes("multipart/form-data")){let b=await a.formData(),c={};return b.forEach((a,b)=>{c[b]=a}),c}return d.includes("text/plain")?await a.text():d.includes("application/octet-stream")?await a.arrayBuffer():d.includes("application/pdf")||d.includes("image/")||d.includes("video/")?await a.blob():d.includes("application/stream")||a.body instanceof ReadableStream?a.body:await a.text()}}function nD(a){return a instanceof nA||a?.name==="APIError"}async function nE(a){try{return{data:await a,error:null}}catch(a){return{data:null,error:a}}}function nF(a,b){if(a instanceof Response)return b?.headers instanceof Headers&&b.headers.forEach((b,c)=>{a.headers.set(c,b)}),a;if(a&&"object"==typeof a&&"_flag"in a&&"json"===a._flag){let c=a.body,d=a.routerResponse;if(d instanceof Response)return d;let e=new Headers;if(d?.headers){let a=new Headers(d.headers);for(let[b,c]of a.entries())a.set(b,c)}if(a.headers)for(let[b,c]of new Headers(a.headers).entries())e.set(b,c);if(b?.headers)for(let[a,c]of new Headers(b.headers).entries())e.set(a,c);return e.set("Content-Type","application/json"),new Response(JSON.stringify(c),{...d,headers:e,status:a.status??b?.status??d?.status,statusText:b?.statusText??d?.statusText})}if(nD(a))return nF(a.body,{status:b?.status??a.statusCode,statusText:a.status.toString(),headers:b?.headers||a.headers});let c=a,d=new Headers(b?.headers);if(a){if("string"==typeof a)c=a,d.set("Content-Type","text/plain");else if(a instanceof ArrayBuffer||ArrayBuffer.isView(a))c=a,d.set("Content-Type","application/octet-stream");else if(a instanceof Blob)c=a,d.set("Content-Type",a.type||"application/octet-stream");else if(a instanceof FormData)c=a;else if(a instanceof URLSearchParams)c=a,d.set("Content-Type","application/x-www-form-urlencoded");else if(a instanceof ReadableStream)c=a,d.set("Content-Type","application/octet-stream");else if(function(a){if(void 0===a)return!1;let b=typeof a;return"string"===b||"number"===b||"boolean"===b||null===b||"object"===b&&(!!Array.isArray(a)||!a.buffer&&(a.constructor&&"Object"===a.constructor.name||"function"==typeof a.toJSON))}(a)){let b,e;b=0,e=new WeakMap,c=JSON.stringify(a,(a,c)=>{if("bigint"==typeof c)return c.toString();if("object"==typeof c&&null!==c){if(e.has(c))return`[Circular ref-${e.get(c)}]`;e.set(c,b++)}return c},void 0),d.set("Content-Type","application/json")}}else null===a&&(c=JSON.stringify(null)),d.set("content-type","application/json");return new Response(c,{...b,headers:d})}let nG={name:"HMAC",hash:"SHA-256"},nH=async a=>{let b="string"==typeof a?new TextEncoder().encode(a):a;return await cx().importKey("raw",b,nG,!1,["sign","verify"])},nI=async(a,b,c)=>{try{let d=atob(a),e=new Uint8Array(d.length);for(let a=0,b=d.length;a<b;a++)e[a]=d.charCodeAt(a);return await cx().verify(nG,c,e,new TextEncoder().encode(b))}catch(a){return!1}},nJ=async(a,b)=>{let c=await nH(b);return btoa(String.fromCharCode(...new Uint8Array(await cx().sign(nG.name,c,new TextEncoder().encode(a)))))},nK=async(a,b)=>{let c=await nJ(a,b);return encodeURIComponent(a=`${a}.${c}`)},nL=(a,b)=>{let c=a;if(b)if("secure"===b)c="__Secure-"+a;else{if("host"!==b)return;c="__Host-"+a}return c},nM=(a,b,c={})=>{let d;if(d=c?.prefix==="secure"?`__Secure-${a}=${b}`:c?.prefix==="host"?`__Host-${a}=${b}`:`${a}=${b}`,a.startsWith("__Secure-")&&!c.secure&&(c.secure=!0),a.startsWith("__Host-")&&(c.secure||(c.secure=!0),"/"!==c.path&&(c.path="/"),c.domain&&(c.domain=void 0)),c&&"number"==typeof c.maxAge&&c.maxAge>=0){if(c.maxAge>3456e4)throw Error("Cookies Max-Age SHOULD NOT be greater than 400 days (34560000 seconds) in duration.");d+=`; Max-Age=${Math.floor(c.maxAge)}`}if(c.domain&&"host"!==c.prefix&&(d+=`; Domain=${c.domain}`),c.path&&(d+=`; Path=${c.path}`),c.expires){if(c.expires.getTime()-Date.now()>3456e7)throw Error("Cookies Expires SHOULD NOT be greater than 400 days (34560000 seconds) in the future.");d+=`; Expires=${c.expires.toUTCString()}`}return c.httpOnly&&(d+="; HttpOnly"),c.secure&&(d+="; Secure"),c.sameSite&&(d+=`; SameSite=${c.sameSite.charAt(0).toUpperCase()+c.sameSite.slice(1)}`),c.partitioned&&(c.secure||(c.secure=!0),d+="; Partitioned"),d},nN=async(a,b,c,d)=>nM(a,b=await nK(b,c),d);async function nO(a,b={}){let c={body:b.body,query:b.query};if(a.body){let d=await a.body["~standard"].validate(b.body);if(d.issues)return{data:null,error:nP(d.issues,"body")};c.body=d.value}if(a.query){let d=await a.query["~standard"].validate(b.query);if(d.issues)return{data:null,error:nP(d.issues,"query")};c.query=d.value}return a.requireHeaders&&!b.headers?{data:null,error:{message:"Headers is required",issues:[]}}:a.requireRequest&&!b.request?{data:null,error:{message:"Request is required",issues:[]}}:{data:c,error:null}}function nP(a,b){return{message:a.map(a=>`[${a.path?.length?`${b}.`+a.path.map(a=>"object"==typeof a?a.key:a).join("."):b}] ${a.message}`).join("; "),issues:a}}let nQ=async(a,{options:b,path:c})=>{let d,e=new Headers,{data:f,error:g}=await nO(b,a);if(g)throw new ny(g.message,g.issues);let h="headers"in a?a.headers instanceof Headers?a.headers:new Headers(a.headers):"request"in a&&a.request instanceof Request?a.request.headers:null,i=h?.get("cookie"),j=i?function(a){if("string"!=typeof a)throw TypeError("argument str must be a string");let b=new Map,c=0;for(;c<a.length;){let d=a.indexOf("=",c);if(-1===d)break;let e=a.indexOf(";",c);if(-1===e)e=a.length;else if(e<d){c=a.lastIndexOf(";",d-1)+1;continue}let f=a.slice(c,d).trim();if(!b.has(f)){let c=a.slice(d+1,e).trim();34===c.codePointAt(0)&&(c=c.slice(1,-1)),b.set(f,function(a){try{return a.includes("%")?decodeURIComponent(a):a}catch{return a}}(c))}c=e+1}return b}(i):void 0,k={...a,body:f.body,query:f.query,path:a.path||c||"virtual:",context:"context"in a&&a.context?a.context:{},returned:void 0,headers:a?.headers,request:a?.request,params:"params"in a?a.params:void 0,method:a.method??(Array.isArray(b.method)?b.method[0]:"*"===b.method?"GET":b.method),setHeader:(a,b)=>{e.set(a,b)},getHeader:a=>h?h.get(a):null,getCookie:(a,b)=>{let c=nL(a,b);return c&&j?.get(c)||null},getSignedCookie:async(a,b,c)=>{let d=nL(a,c);if(!d)return null;let e=j?.get(d);if(!e)return null;let f=e.lastIndexOf(".");if(f<1)return null;let g=e.substring(0,f),h=e.substring(f+1);return 44===h.length&&h.endsWith("=")?!!await nI(h,g,await nH(b))&&g:null},setCookie:(a,b,c)=>{var d;let f=nM(a,d=encodeURIComponent(d=b),c);return e.append("set-cookie",f),f},setSignedCookie:async(a,b,c,d)=>{let f=await nN(a,b,c,d);return e.append("set-cookie",f),f},redirect:a=>(e.set("location",a),new nA("FOUND",void 0,e)),error:(a,b,c)=>new nA(a,b,c),setStatus:a=>{d=a},json:(b,c)=>a.asResponse?{body:c?.body||b,routerResponse:c,_flag:"json"}:b,responseHeaders:e,get responseStatus(){return d}};for(let a of b.use||[]){let b=await a({...k,returnHeaders:!0,asResponse:!1});b.response&&Object.assign(k.context,b.response),b.headers&&b.headers.forEach((a,b)=>{k.responseHeaders.set(b,a)})}return k};function nR(a,b,c){let d="string"==typeof a?a:void 0,e="object"==typeof b?b:a,f="function"==typeof b?b:c;if(("GET"===e.method||"HEAD"===e.method)&&e.body)throw new nz("Body is not allowed with GET or HEAD methods");if(d&&/\/{2,}/.test(d))throw new nz("Path cannot contain consecutive slashes");let g=async(...a)=>{let b=a[0]||{},{data:c,error:g}=await nE(nQ(b,{options:e,path:d}));if(g){if(!(g instanceof ny))throw g;throw e.onValidationError&&await e.onValidationError({message:g.message,issues:g.issues}),new nA(400,{message:g.message,code:"VALIDATION_ERROR"})}let h=await f(c).catch(async a=>{if(nD(a)){let c=e.onAPIError;if(c&&await c(a),b.asResponse)return a}throw a}),i=c.responseHeaders,j=c.responseStatus;return b.asResponse?nF(h,{headers:i,status:j}):b.returnHeaders?b.returnStatus?{headers:i,response:h,status:j}:{headers:i,response:h}:b.returnStatus?{response:h,status:j}:h};return g.options=e,g.path=d,g}function nS(a,b){let c=async c=>{let d="function"==typeof a?a:b,e=await nQ(c,{options:"function"==typeof a?{}:a,path:"/"});if(!d)throw Error("handler must be defined");let f=await d(e),g=e.responseHeaders;return c.returnHeaders?{headers:g,response:f}:f};return c.options="function"==typeof a?{}:a,c}nR.create=a=>(b,c,d)=>nR(b,{...c,use:[...c?.use||[],...a?.use||[]]},d),nS.create=a=>function(b,c){if("function"==typeof b)return nS({use:a?.use},b);if(!c)throw Error("Middleware handler is required");return nS({...b,method:"*",use:[...a?.use||[],...b.use||[]]},c)};let nT={};function nU(a){switch(a.constructor.name){case"ZodString":default:return"string";case"ZodNumber":return"number";case"ZodBoolean":return"boolean";case"ZodObject":return"object";case"ZodArray":return"array"}}function nV(a){let b=[];return a.metadata?.openapi?.parameters?b.push(...a.metadata.openapi.parameters):a.query instanceof l2&&Object.entries(a.query.shape).forEach(([a,c])=>{c instanceof l2&&b.push({name:a,in:"query",schema:{type:nU(c),..."minLength"in c&&c.minLength?{minLength:c.minLength}:{},description:c.description}})}),b}function nW(a){return{400:{content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}},required:["message"]}}},description:"Bad Request. Usually due to missing parameters, or invalid parameters."},401:{content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}},required:["message"]}}},description:"Unauthorized. Due to missing or invalid authentication."},403:{content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}},description:"Forbidden. You do not have permission to access this resource or to perform this action."},404:{content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}},description:"Not Found. The requested resource was not found."},429:{content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}},description:"Too Many Requests. You have exceeded the rate limit. Try again later."},500:{content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}},description:"Internal Server Error. This is a problem with the server that you cannot fix."},...a}}async function nX(a,b){return Object.entries(a).forEach(([a,b])=>{let c=b.options;if(!(!b.path||c.metadata?.SERVER_ONLY)&&("GET"===c.method&&(nT[b.path]={get:{tags:["Default",...c.metadata?.openapi?.tags||[]],description:c.metadata?.openapi?.description,operationId:c.metadata?.openapi?.operationId,security:[{bearerAuth:[]}],parameters:nV(c),responses:nW(c.metadata?.openapi?.responses)}}),"POST"===c.method)){let a=function(a){if(a.metadata?.openapi?.requestBody)return a.metadata.openapi.requestBody;if(a.body&&(a.body instanceof l2||a.body instanceof mx)){let b=a.body.shape;if(!b)return;let c={},d=[];return Object.entries(b).forEach(([a,b])=>{b instanceof l2&&(c[a]={type:nU(b),description:b.description},b instanceof mx||d.push(a))}),{required:!(a.body instanceof mx)&&!!a.body,content:{"application/json":{schema:{type:"object",properties:c,required:d}}}}}}(c);nT[b.path]={post:{tags:["Default",...c.metadata?.openapi?.tags||[]],description:c.metadata?.openapi?.description,operationId:c.metadata?.openapi?.operationId,security:[{bearerAuth:[]}],parameters:nV(c),...a?{requestBody:a}:{requestBody:{content:{"application/json":{schema:{type:"object",properties:{}}}}}},responses:nW(c.metadata?.openapi?.responses)}}}}),{openapi:"3.1.1",info:{title:"Better Auth",description:"API Reference for your Better Auth Instance",version:"1.1.0"},components:{schemas:{}},security:[{apiKeyCookie:[]}],servers:[{url:b?.url}],tags:[{name:"Default",description:"Default endpoints that are included with Better Auth by default. These endpoints are not part of any plugin."}],paths:nT}}let nY=((j=function(){}).prototype=Object.create(null),Object.freeze(j.prototype),j);function nZ(){return{root:{key:""},static:new nY}}function n$(a){let[b,...c]=a.split("/");return""===c[c.length-1]?c.slice(0,-1):c}function n_(a,b){let c=new nY;for(let[d,e]of b){let b=d<0?a.slice(-(d+1)).join("/"):a[d];if("string"==typeof e)c[e]=b;else{let a=b.match(e);if(a)for(let b in a.groups)c[b]=a.groups[b]}}return c}function n0(a,b="",c,d){b=b.toUpperCase(),47!==c.charCodeAt(0)&&(c=`/${c}`);let e=n$(c=c.replace(/\\:/g,"%3A")),f=a.root,g=0,h=[],i=[];for(let a=0;a<e.length;a++){let b=e[a];if(b.startsWith("**")){f.wildcard||(f.wildcard={key:"**"}),f=f.wildcard,h.push([-(a+1),b.split(":")[1]||"_",2===b.length]);break}if("*"===b||b.includes(":")){if(f.param||(f.param={key:"*"}),f=f.param,"*"===b)h.push([a,`_${g++}`,!0]);else if(b.includes(":",1)){let c=function(a){let b=a.replace(/:(\w+)/g,(a,b)=>`(?<${b}>[^/]+)`).replace(/\./g,"\\.");return RegExp(`^${b}$`)}(b);i[a]=c,f.hasRegexParam=!0,h.push([a,c,!1])}else h.push([a,b.slice(1),!1]);continue}"\\*"===b?b=e[a]="*":"\\*\\*"===b&&(b=e[a]="**");let c=f.static?.[b];if(c)f=c;else{let a={key:b};f.static||(f.static=new nY),f.static[b]=a,f=a}}let j=h.length>0;f.methods||(f.methods=new nY),f.methods[b]??=[],f.methods[b].push({data:d||null,paramsRegexp:i,paramsMap:j?h:void 0}),j||(a.static["/"+e.join("/")]=f)}async function n1(a,b,c){let d=a.body?.callbackURL||a.context.options.baseURL;if(!d)throw new nA("BAD_REQUEST",{message:"callbackURL is required"});let e=O(128),f=O(32),g=a.context.oauthConfig.storeStateStrategy,h={...c||{},callbackURL:d,codeVerifier:e,errorURL:a.body?.errorCallbackURL,newUserURL:a.body?.newUserCallbackURL,link:b,expiresAt:Date.now()+6e5,requestSignUp:a.body?.requestSignUp,state:f};if(await F(h),"cookie"===g){let b=await dc({key:a.context.secret,data:JSON.stringify(h)}),c=a.context.createAuthCookie("oauth_state",{maxAge:6e5});return a.setCookie(c.name,b,c.attributes),{state:f,codeVerifier:e}}let i=a.context.createAuthCookie("state",{maxAge:3e5});await a.setSignedCookie(i.name,f,a.context.secret,i.attributes);let j=new Date;j.setMinutes(j.getMinutes()+10);let k=await a.context.internalAdapter.createVerificationValue({value:JSON.stringify(h),identifier:f,expiresAt:j});if(!k)throw a.context.logger.error("Unable to create verification. Make sure the database adapter is properly working and there is a verification table in the database"),new nA("INTERNAL_SERVER_ERROR",{message:"Unable to create verification"});return{state:k.identifier,codeVerifier:e}}async function n2(a){let b,c=a.query.state||a.body.state,d=a.context.oauthConfig.storeStateStrategy,e=l5({callbackURL:kJ(),codeVerifier:kJ(),errorURL:kJ().optional(),newUserURL:kJ().optional(),expiresAt:lx(),link:l3({email:kJ(),userId:nv.string()}).optional(),requestSignUp:lF().optional(),state:kJ().optional()}),f=a.context.oauthConfig?.skipStateCookieCheck;if("cookie"===d){let d=a.context.createAuthCookie("oauth_state"),f=a.getCookie(d.name);if(!f){a.context.logger.error("State Mismatch. OAuth state cookie not found",{state:c});let b=a.context.options.onAPIError?.errorURL||`${a.context.baseURL}/error`;throw a.redirect(`${b}?error=please_restart_the_process`)}try{let c=await dd({key:a.context.secret,data:f});b=e.parse(JSON.parse(c))}catch(c){a.context.logger.error("Failed to decrypt or parse OAuth state cookie",{error:c});let b=a.context.options.onAPIError?.errorURL||`${a.context.baseURL}/error`;throw a.redirect(`${b}?error=please_restart_the_process`)}if(!a.context.oauthConfig?.skipStateCookieCheck&&b.state&&b.state!==c){a.context.logger.error("State Mismatch. State parameter does not match",{expected:b.state,received:c});let d=a.context.options.onAPIError?.errorURL||`${a.context.baseURL}/error`;throw a.redirect(`${d}?error=state_mismatch`)}a.setCookie(d.name,"",{maxAge:0})}else{let d=await a.context.internalAdapter.findVerificationValue(c);if(!d){a.context.logger.error("State Mismatch. Verification not found",{state:c});let b=a.context.options.onAPIError?.errorURL||`${a.context.baseURL}/error`;throw a.redirect(`${b}?error=please_restart_the_process`)}b=e.parse(JSON.parse(d.value));let g=a.context.createAuthCookie("state"),h=await a.getSignedCookie(g.name,a.context.secret);if(!f&&(!h||h!==c)){let b=a.context.options.onAPIError?.errorURL||`${a.context.baseURL}/error`;throw a.redirect(`${b}?error=state_mismatch`)}a.setCookie(g.name,"",{maxAge:0}),await a.context.internalAdapter.deleteVerificationValue(d.id)}if(b.errorURL||(b.errorURL=a.context.options.onAPIError?.errorURL||`${a.context.baseURL}/error`),b.expiresAt<Date.now()){let b=a.context.options.onAPIError?.errorURL||`${a.context.baseURL}/error`;throw a.redirect(`${b}?error=please_restart_the_process`)}return b&&await F(b),b}let n3={scope:"server"};var n4=cm;a.i(94317);var n5=cl,n6=cl;function n7(a,b){if(b.advanced?.ipAddress?.disableIpTracking)return null;let c="headers"in a?a.headers:a;for(let a of b.advanced?.ipAddress?.ipAddressHeaders||["x-forwarded-for"]){let b="get"in c?c.get(a):c[a];if("string"==typeof b){var d;let a=b.split(",")[0].trim();if(d=a,la().safeParse(d).success||le().safeParse(d).success)return a}}return(0,n6.p)()||(0,n5.d)()?"127.0.0.1":null}var n8=cl,co=cn;function n9(a,b="/api/auth"){try{let b=new URL(a);if("http:"!==b.protocol&&"https:"!==b.protocol)throw new co.t(`Invalid base URL: ${a}. URL must include 'http://' or 'https://'`)}catch(b){if(b instanceof co.t)throw b;throw new co.t(`Invalid base URL: ${a}. Please provide a valid base URL.`,String(b))}if(function(a){try{return"/"!==(new URL(a).pathname.replace(/\/+$/,"")||"/")}catch{throw new co.t(`Invalid base URL: ${a}. Please provide a valid base URL.`)}}(a))return a;let c=a.replace(/\/+$/,"");return b&&"/"!==b?(b=b.startsWith("/")?b:`/${b}`,`${c}${b}`):c}function oa(a,b){return!!a&&""!==a.trim()&&("proto"===b?"http"===a||"https"===a:"host"===b&&![/\.\./,/\0/,/[\s]/,/^[.]/,/[<>'"]/,/javascript:/i,/file:/i,/data:/i].some(b=>b.test(a))&&(/^[a-zA-Z0-9]([a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(\.[a-zA-Z0-9]([a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*(:[0-9]{1,5})?$/.test(a)||/^(\d{1,3}\.){3}\d{1,3}(:[0-9]{1,5})?$/.test(a)||/^\[[0-9a-fA-F:]+\](:[0-9]{1,5})?$/.test(a)||/^localhost(:[0-9]{1,5})?$/i.test(a)))}function ob(a,b,c,d,e){if(a)return n9(a,b);if(!1!==d){let a=n8.c.BETTER_AUTH_URL||n8.c.NEXT_PUBLIC_BETTER_AUTH_URL||n8.c.PUBLIC_BETTER_AUTH_URL||n8.c.NUXT_PUBLIC_BETTER_AUTH_URL||n8.c.NUXT_PUBLIC_AUTH_URL||("/"!==n8.c.BASE_URL?n8.c.BASE_URL:void 0);if(a)return n9(a,b)}let f=c?.headers.get("x-forwarded-host"),g=c?.headers.get("x-forwarded-proto");if(f&&g&&e&&oa(g,"proto")&&oa(f,"host"))try{return n9(`${g}://${f}`,b)}catch(a){}if(c){let a=oc(c.url);if(!a)throw new co.t("Could not get origin from request. Please provide a valid base URL.");return n9(a,b)}}function oc(a){try{let b=new URL(a);return"null"===b.origin?null:b.origin}catch{return null}}function od(a){return"-"===a||"^"===a||"$"===a||"+"===a||"."===a||"("===a||")"===a||"|"===a||"["===a||"]"===a||"{"===a||"}"===a||"*"===a||"?"===a||"\\"===a?`\\${a}`:a}function oe(a,b){if("string"!=typeof b)throw TypeError(`Sample must be a string, but ${typeof b} given`);return a.test(b)}function of(a,b){if("string"!=typeof a&&!Array.isArray(a))throw TypeError(`The first argument must be a single pattern string or an array of patterns, but ${typeof a} given`);if(("string"==typeof b||"boolean"==typeof b)&&(b={separator:b}),2==arguments.length&&!(void 0===b||"object"==typeof b&&null!==b&&!Array.isArray(b)))throw TypeError(`The second argument must be an options object or a string/boolean separator, but ${typeof b} given`);if("\\"===(b=b||{}).separator)throw Error("\\ is not a valid separator because it is used for escaping. Try setting the separator to `true` instead");let c=function a(b,c=!0){if(Array.isArray(b))return`(?:${b.map(b=>`^${a(b,c)}$`).join("|")})`;let d="",e="",f=".";!0===c?(d="/",e="[/\\\\]",f="[^/\\\\]"):c&&((e=function(a){let b="";for(let c=0;c<a.length;c++)b+=od(a[c]);return b}(d=c)).length>1?(e=`(?:${e})`,f=`((?!${e}).)`):f=`[^${e}]`);let g=c?`${e}+?`:"",h=c?`${e}*?`:"",i=c?b.split(d):[b],j="";for(let a=0;a<i.length;a++){let b=i[a],d=i[a+1],e="";if(b||!(a>0)){if(c&&(e=a===i.length-1?h:"**"!==d?g:""),c&&"**"===b){e&&(j+=0===a?"":e,j+=`(?:${f}*?${e})*?`);continue}for(let a=0;a<b.length;a++){let c=b[a];"\\"===c?a<b.length-1&&(j+=od(b[a+1]),a++):"?"===c?j+=f:"*"===c?j+=`${f}*?`:j+=od(c)}j+=e}}return j}(a,b.separator),d=RegExp(`^${c}$`,b.flags),e=oe.bind(null,d);return e.options=b,e.pattern=a,e.regexp=d,e}let og=(a,b,c)=>{if(a.startsWith("/"))return!!c?.allowRelativePaths&&a.startsWith("/")&&/^\/(?!\/|\\|%2f|%5c)[\w\-.\+/@]*(?:\?[\w\-.\+/=&%@]*)?$/.test(a);if(b.includes("*")||b.includes("?")){if(b.includes("://"))return of(b)(oc(a)||a);let c=function(a){try{return new URL(a).host}catch{return null}}(a);return!!c&&of(b)(c)}let d=function(a){try{return new URL(a).protocol}catch{return null}}(a);return"http:"!==d&&"https:"!==d&&d?a.startsWith(b):b===oc(a)};var oh=cn;let oi=nS(async()=>({})),oj=nS.create({use:[oi,nS(async()=>({}))]}),ok=[oi];function ol(a,b,c){let d="string"==typeof a?a:void 0,e="object"==typeof b?b:a,f="function"==typeof b?b:c;return d?nR(d,{...e,use:[...e?.use||[],...ok]},async a=>t(a,()=>f(a))):nR({...e,use:[...e?.use||[],...ok]},async a=>t(a,()=>f(a)))}let om=oj(async a=>{if(a.request?.method==="GET"||a.request?.method==="OPTIONS"||a.request?.method==="HEAD"||!a.request)return;await oo(a);let{body:b,query:c}=a,d=b?.callbackURL||c?.callbackURL,e=b?.redirectTo,f=b?.errorCallbackURL,g=b?.newUserCallbackURL,h=(b,c)=>{if(b&&!a.context.isTrustedOrigin(b,{allowRelativePaths:"origin"!==c}))throw a.context.logger.error(`Invalid ${c}: ${b}`),a.context.logger.info(`If it's a valid URL, please add ${b} to trustedOrigins in your auth config
`,`Current list of trustedOrigins: ${a.context.trustedOrigins}`),new nA("FORBIDDEN",{message:`Invalid ${c}`})};d&&h(d,"callbackURL"),e&&h(e,"redirectURL"),f&&h(f,"errorCallbackURL"),g&&h(g,"newUserCallbackURL")}),on=a=>oj(async b=>{if(!b.request)return;let c=a(b),d=(a,c)=>{if(a&&!b.context.isTrustedOrigin(a,{allowRelativePaths:"origin"!==c}))throw b.context.logger.error(`Invalid ${c}: ${a}`),b.context.logger.info(`If it's a valid URL, please add ${a} to trustedOrigins in your auth config
`,`Current list of trustedOrigins: ${b.context.trustedOrigins}`),new nA("FORBIDDEN",{message:`Invalid ${c}`})};for(let a of Array.isArray(c)?c:[c])d(a,"callbackURL")});async function oo(a,b=!1){let c=a.request?.headers;if(!c||!a.request)return;let d=c.get("origin")||c.get("referer")||"",e=c.has("cookie");if(!(b||e&&!a.context.skipCSRFCheck&&!a.context.skipOriginCheck))return;if(!d||"null"===d)throw new nA("FORBIDDEN",{message:"Missing or null Origin"});let f=Array.isArray(a.context.options.trustedOrigins)?a.context.trustedOrigins:[...a.context.trustedOrigins,...await a.context.options.trustedOrigins?.(a.request)||[]];if(!f.some(a=>og(d,a)))throw a.context.logger.error(`Invalid origin: ${d}`),a.context.logger.info(`If it's a valid URL, please add ${d} to trustedOrigins in your auth config
`,`Current list of trustedOrigins: ${f}`),new nA("FORBIDDEN",{message:"Invalid origin"})}let op=oj(async a=>{a.request&&await oq(a)});async function oq(a){let b=a.request;if(!b)return;let c=b.headers;if(c.has("cookie"))return await oo(a);let d=c.get("Sec-Fetch-Site"),e=c.get("Sec-Fetch-Mode"),f=c.get("Sec-Fetch-Dest");if(d&&d.trim()||e&&e.trim()||f&&f.trim()){if("cross-site"===d&&"navigate"===e)throw a.context.logger.error("Blocked cross-site navigation login attempt (CSRF protection)",{secFetchSite:d,secFetchMode:e,secFetchDest:f}),new nA("FORBIDDEN",{message:oh.n.CROSS_SITE_NAVIGATION_LOGIN_BLOCKED});return await oo(a,!0)}}var or=cm;let os=new Map;async function ot(a,b){if(!b.rateLimit.enabled)return;let c=new URL(a.url).pathname.replace(b.options.basePath||"/api/auth","").replace(/\/+$/,""),d=b.rateLimit.window,e=b.rateLimit.max,f=n7(a,b.options);if(!f)return;let g=f+c,h=[{pathMatcher:a=>a.startsWith("/sign-in")||a.startsWith("/sign-up")||a.startsWith("/change-password")||a.startsWith("/change-email"),window:10,max:3}].find(a=>a.pathMatcher(c));for(let a of(h&&(d=h.window,e=h.max),b.options.plugins||[]))if(a.rateLimit){let b=a.rateLimit.find(a=>a.pathMatcher(c));if(b){d=b.window,e=b.max;break}}if(b.rateLimit.customRules){let f=Object.keys(b.rateLimit.customRules).find(a=>a.includes("*")?of(a)(c):a===c);if(f){let c=b.rateLimit.customRules[f],g="function"==typeof c?await c(a):c;if(g&&(d=g.window,e=g.max),!1===g)return}}let i=function(a,b){let c,d;if(a.options.rateLimit?.customStorage)return a.options.rateLimit.customStorage;let e=a.rateLimit.storage;return"secondary-storage"===e?{get:async b=>{let c=await a.options.secondaryStorage?.get(b);return c?(0,or.n)(c):void 0},set:async(c,d,e)=>{let f=b?.window??a.options.rateLimit?.window??10;await a.options.secondaryStorage?.set?.(c,JSON.stringify(d),f)}}:"memory"===e?{get:async a=>os.get(a),async set(a,b,c){os.set(a,b)}}:(c="rateLimit",d=a.adapter,{get:async a=>{let b=(await d.findMany({model:c,where:[{field:"key",value:a}]}))[0];return"bigint"==typeof b?.lastRequest&&(b.lastRequest=Number(b.lastRequest)),b},set:async(b,e,f)=>{try{f?await d.updateMany({model:c,where:[{field:"key",value:b}],update:{count:e.count,lastRequest:e.lastRequest}}):await d.create({model:c,data:{key:b,count:e.count,lastRequest:e.lastRequest}})}catch(b){a.logger.error("Error setting rate limit",b)}}})}(b,{window:d}),j=await i.get(g),k=Date.now();if(j){var l,m,n;let a=k-j.lastRequest;if(l=e,m=d,Date.now()-j.lastRequest<1e3*m&&j.count>=l)return n=Math.ceil((j.lastRequest+1e3*d-Date.now())/1e3),new Response(JSON.stringify({message:"Too many requests. Please try again later."}),{status:429,statusText:"Too Many Requests",headers:{"X-Retry-After":n.toString()}});a>1e3*d?await i.set(g,{...j,count:1,lastRequest:k},!0):await i.set(g,{...j,count:j.count+1,lastRequest:k},!0)}else await i.set(g,{key:g,count:1,lastRequest:k})}let ou=(a,b="ms")=>new Date(Date.now()+("sec"===b?1e3*a:a)),ov=new WeakMap;function ow(a,b){let c=b.fields,d={};for(let b in a){let e=c[b];if(!e){d[b]=a[b];continue}!1!==e.returned&&(d[b]=a[b])}return d}function ox(a,b){ov.has(a)||ov.set(a,new Map);let c=ov.get(a);if(c.has(b))return c.get(b);let d={..."user"===b?a.user?.additionalFields:{},..."session"===b?a.session?.additionalFields:{}};for(let c of a.plugins||[])c.schema&&c.schema[b]&&(d={...d,...c.schema[b].fields});return ov.get(a).set(b,d),d}function oy(a,b){return{...ow(b,{fields:ox(a,"user")}),id:b.id}}function oz(a,b){return ow(b,{fields:ox(a,"account")})}function oA(a,b){return ow(b,{fields:ox(a,"session")})}function oB(a,b){let c=b.action||"create",d=b.fields,e=Object.assign(Object.create(null),null);for(let b in d){if(b in a){if(!1===d[b].input){if(void 0!==d[b].defaultValue&&"update"!==c){e[b]=d[b].defaultValue;continue}if(a[b])throw new nA("BAD_REQUEST",{message:`${b} is not allowed to be set`});continue}if(d[b].validator?.input&&void 0!==a[b]){let c=d[b].validator.input["~standard"].validate(a[b]);if(c instanceof Promise)throw new nA("INTERNAL_SERVER_ERROR",{message:"Async validation is not supported for additional fields"});if("issues"in c&&c.issues)throw new nA("BAD_REQUEST",{message:c.issues[0]?.message||"Validation Error"});e[b]=c.value;continue}if(d[b].transform?.input&&void 0!==a[b]){e[b]=d[b].transform?.input(a[b]);continue}e[b]=a[b];continue}if(void 0!==d[b].defaultValue&&"create"===c){if("function"==typeof d[b].defaultValue){e[b]=d[b].defaultValue();continue}e[b]=d[b].defaultValue;continue}if(d[b].required&&"create"===c)throw new nA("BAD_REQUEST",{message:`${b} is required`})}return e}function oC(a,b={},c){return oB(b,{fields:ox(a,"user"),action:c})}function oD(a,b){return oB(b||{},{fields:ox(a,"user")})}function oE(a,b){return oB(b,{fields:ox(a,"account")})}function oF(a,b){return oB(b,{fields:ox(a,"session")})}function oG(a,b){if(!b)return a;for(let c in b){let d=b[c]?.modelName;for(let e in d&&(a[c].modelName=d),a[c].fields){let d=b[c]?.fields?.[e];d&&(a[c].fields[e].fieldName=d)}}return a}var oH=Object.defineProperty,oI=Object.getOwnPropertyDescriptor,oJ=Object.getOwnPropertyNames,oK=Object.prototype.hasOwnProperty,oL=(a,b,c,d)=>{if(b&&"object"==typeof b||"function"==typeof b)for(var e,f=oJ(b),g=0,h=f.length;g<h;g++)e=f[g],oK.call(a,e)||e===c||oH(a,e,{get:(a=>b[a]).bind(null,e),enumerable:!(d=oI(b,e))||d.enumerable});return a},oM=a.i(94841),nv=nv;let oN=l3({id:kJ(),createdAt:l$().default(()=>new Date),updatedAt:l$().default(()=>new Date)}),oO=oN.extend({providerId:kJ(),accountId:kJ(),userId:nv.string(),accessToken:kJ().nullish(),refreshToken:kJ().nullish(),idToken:kJ().nullish(),accessTokenExpiresAt:l$().nullish(),refreshTokenExpiresAt:l$().nullish(),scope:kJ().nullish(),password:kJ().nullish()}),oP=l3({key:kJ(),count:lx(),lastRequest:lx()}),oQ=oN.extend({userId:nv.string(),expiresAt:l$(),token:kJ(),ipAddress:kJ().nullish(),userAgent:kJ().nullish()}),oR=oN.extend({email:kJ().transform(a=>a.toLowerCase()),emailVerified:lF().default(!1),name:kJ(),image:kJ().nullish()}),oS=oN.extend({value:kJ(),expiresAt:l$(),identifier:kJ()});a.s(["accountSchema",()=>oO,"coreSchema",()=>oN,"rateLimitSchema",()=>oP,"sessionSchema",()=>oQ,"userSchema",()=>oR,"verificationSchema",()=>oS],98124);var oT=oM,oU=a.i(53812);async function oV(b,c){let d;if(b.database)d="function"==typeof b.database?b.database(b):await c(b);else{let c=Object.keys((0,oT.t)(b)).reduce((a,b)=>(a[b]=[],a),{}),{memoryAdapter:e}=await a.A(63264);d=e(c)(b)}return d.transaction||(oU.logger.warn("Adapter does not correctly implement transaction function, patching it automatically. Please update your adapter implementation."),d.transaction=async a=>a(d)),d}var co=cn;async function oW(b){return oV(b,async b=>{let{createKyselyAdapter:c}=await a.A(25561),{kysely:d,databaseType:e,transaction:f}=await c(b);if(!d)throw new co.t("Failed to initialize database adapter");let{kyselyAdapter:g}=await a.A(25561);return g(d,{type:e||"sqlite",debugLogs:!!b.database&&"debugLogs"in b.database&&b.database.debugLogs,transaction:f})(b)})}let oX=(a,b)=>({type:a,...b});function oY(a,b){let c=b.id?{id:b.id}:{};for(let d in a){let e=a[d],f=b[d];void 0!==f&&(c[e.fieldName||d]=f)}return c}function oZ(a,b){if(!b)return null;let c={id:b.id};for(let[d,e]of Object.entries(a))c[d]=b[e.fieldName||d];return c}function o$(a,b){let c=b.hooks;return{createWithHooks:async function(b,d,e){let f=await s().catch(()=>null),g=b;for(let a of c||[]){let b=a[d]?.create?.before;if(b){let a=await b(g,f);if(!1===a)return null;"object"==typeof a&&"data"in a&&(g={...g,...a.data})}}let h=e?await e.fn(g):null,i=!e||e.executeMainFn?await (await B(a)).create({model:d,data:g,forceAllowId:!0}):h;for(let a of c||[]){let b=a[d]?.create?.after;b&&await b(i,f)}return i},updateWithHooks:async function(b,d,e,f){let g=await s().catch(()=>null),h=b;for(let a of c||[]){let c=a[e]?.update?.before;if(c){let a=await c(b,g);if(!1===a)return null;"object"==typeof a&&"data"in a&&(h={...h,...a.data})}}let i=f?await f.fn(h):null,j=!f||f.executeMainFn?await (await B(a)).update({model:e,update:h,where:d}):i;for(let a of c||[]){let b=a[e]?.update?.after;b&&await b(j,g)}return j},updateManyWithHooks:async function(b,d,e,f){let g=await s().catch(()=>null),h=b;for(let a of c||[]){let c=a[e]?.update?.before;if(c){let a=await c(b,g);if(!1===a)return null;"object"==typeof a&&"data"in a&&(h={...h,...a.data})}}let i=f?await f.fn(h):null,j=!f||f.executeMainFn?await (await B(a)).updateMany({model:e,update:h,where:d}):i;for(let a of c||[]){let b=a[e]?.update?.after;b&&await b(j,g)}return j},deleteWithHooks:async function(b,d,e){let f=await s().catch(()=>null),g=null;try{g=(await (await B(a)).findMany({model:d,where:b,limit:1}))[0]||null}catch{}if(g)for(let a of c||[]){let b=a[d]?.delete?.before;if(b&&await b(g,f)===!1)return null}let h=e?await e.fn(b):null,i=!e||e.executeMainFn?await (await B(a)).delete({model:d,where:b}):h;if(g)for(let a of c||[]){let b=a[d]?.delete?.after;b&&await b(g,f)}return i},deleteManyWithHooks:async function(b,d,e){let f=await s().catch(()=>null),g=[];try{g=await (await B(a)).findMany({model:d,where:b})}catch{}for(let a of g)for(let b of c||[]){let c=b[d]?.delete?.before;if(c&&await c(a,f)===!1)return null}let h=e?await e.fn(b):null,i=!e||e.executeMainFn?await (await B(a)).deleteMany({model:d,where:b}):h;for(let a of g)for(let b of c||[]){let c=b[d]?.delete?.after;c&&await c(a,f)}return i}}}var n4=cm,or=cm;let o_=(a,b)=>{let c=b.logger,d=b.options,e=d.secondaryStorage,f=d.session?.expiresIn||604800,{createWithHooks:g,updateWithHooks:h,updateManyWithHooks:i,deleteWithHooks:j,deleteManyWithHooks:k}=o$(a,b);async function l(a){if(!e)return;let b=await e.get(`active-sessions-${a.id}`);if(!b)return;let c=Date.now(),d=((0,or.n)(b)||[]).filter(a=>a.expiresAt>c);await Promise.all(d.map(async({token:b})=>{let d=await e.get(b);if(!d)return;let f=(0,or.n)(d);if(!f)return;let g=Math.max(Math.floor(new Date(f.session.expiresAt).getTime()-c)/1e3,0);await e.set(b,JSON.stringify({session:f.session,user:a}),Math.floor(g))}))}return{createOAuthUser:async(b,c)=>D(a,async()=>{let a=await g({createdAt:new Date,updatedAt:new Date,...b},"user",void 0);return{user:a,account:await g({...c,userId:a.id,createdAt:new Date,updatedAt:new Date},"account",void 0)}}),createUser:async a=>await g({createdAt:new Date,updatedAt:new Date,...a,email:a.email?.toLowerCase()},"user",void 0),createAccount:async a=>await g({createdAt:new Date,updatedAt:new Date,...a},"account",void 0),listSessions:async c=>{if(e){let a=await e.get(`active-sessions-${c}`);if(!a)return[];let d=(0,or.n)(a)||[],f=Date.now(),g=d.filter(a=>a.expiresAt>f),h=[];for(let a of g){let c=await e.get(a.token);if(c){let a=(0,or.n)(c);if(!a)return[];let d=oA(b.options,{...a.session,expiresAt:new Date(a.session.expiresAt)});h.push(d)}}return h}return await (await B(a)).findMany({model:"session",where:[{field:"userId",value:c}]})},listUsers:async(b,c,d,e)=>await (await B(a)).findMany({model:"user",limit:b,offset:c,sortBy:d,where:e}),countTotalUsers:async b=>{let c=await (await B(a)).count({model:"user",where:b});return"string"==typeof c?parseInt(c):c},deleteUser:async a=>{(!e||d.session?.storeSessionInDatabase)&&await k([{field:"userId",value:a}],"session",void 0),await k([{field:"userId",value:a}],"account",void 0),await j([{field:"id",value:a}],"user",void 0)},createSession:async(b,c,h,i)=>{let j=await s().catch(()=>null),k=j?.headers||j?.request?.headers,{id:l,...m}=h||{},n=oF(j?.context.options??d,{}),o={ipAddress:(j?.request||j?.headers)&&n7(j?.request||j?.headers,j?.context.options)||"",userAgent:k?.get("user-agent")||"",...m,expiresAt:c?ou(86400,"sec"):ou(f,"sec"),userId:b,token:(0,n4.r)(32),createdAt:new Date,updatedAt:new Date,...n,...i?m:{}};return await g(o,"session",e?{fn:async c=>{let d=await e.get(`active-sessions-${b}`),f=[],g=Date.now();d&&(f=(f=(0,or.n)(d)||[]).filter(a=>a.expiresAt>g));let h=f.sort((a,b)=>a.expiresAt-b.expiresAt),i=h.at(-1)?.expiresAt;h.push({token:o.token,expiresAt:o.expiresAt.getTime()}),(!i||i<o.expiresAt.getTime())&&(i=o.expiresAt.getTime());let j=Math.max(Math.floor((i-g)/1e3),0);j>0&&await e.set(`active-sessions-${b}`,JSON.stringify(h),j);let k=await a.findOne({model:"user",where:[{field:"id",value:b}]}),l=Math.max(Math.floor((o.expiresAt.getTime()-g)/1e3),0);return l>0&&await e.set(o.token,JSON.stringify({session:c,user:k}),l),c},executeMainFn:d.session?.storeSessionInDatabase}:void 0)},findSession:async c=>{if(e){let a=await e.get(c);if(!a&&!d.session?.storeSessionInDatabase)return null;if(a){let c=(0,or.n)(a);return c?{session:oA(b.options,{...c.session,expiresAt:new Date(c.session.expiresAt),createdAt:new Date(c.session.createdAt),updatedAt:new Date(c.session.updatedAt)}),user:oy(b.options,{...c.user,createdAt:new Date(c.user.createdAt),updatedAt:new Date(c.user.updatedAt)})}:null}}let f=await (await B(a)).findOne({model:"session",where:[{value:c,field:"token"}],join:{user:!0}});if(!f)return null;let{user:g,...h}=f;return g?{session:oA(b.options,h),user:oy(b.options,g)}:null},findSessions:async b=>{if(e){let a=[];for(let c of b){let b=await e.get(c);if(b){let c=(0,or.n)(b);if(!c)return[];let d={session:{...c.session,expiresAt:new Date(c.session.expiresAt)},user:{...c.user,createdAt:new Date(c.user.createdAt),updatedAt:new Date(c.user.updatedAt)}};a.push(d)}}return a}let c=await (await B(a)).findMany({model:"session",where:[{field:"token",value:b,operator:"in"}],join:{user:!0}});return!c.length||c.some(a=>!a.user)?[]:c.map(a=>{let{user:b,...c}=a;return{session:c,user:b}})},updateSession:async(a,c)=>await h(c,[{field:"token",value:a}],"session",e?{async fn(c){let d=await e.get(a);if(!d)return null;let f=(0,or.n)(d);if(!f)return null;let g={...f.session,...c,expiresAt:new Date(c.expiresAt??f.session.expiresAt),createdAt:new Date(f.session.createdAt),updatedAt:new Date(c.updatedAt??f.session.updatedAt)},h=oA(b.options,g),i=Date.now(),j=new Date(h.expiresAt).getTime(),k=Math.max(Math.floor((j-i)/1e3),0);if(k>0){await e.set(a,JSON.stringify({session:h,user:f.user}),k);let b=`active-sessions-${h.userId}`,c=await e.get(b),d=(c&&(0,or.n)(c)||[]).filter(b=>b.token!==a&&b.expiresAt>i).concat([{token:a,expiresAt:j}]).sort((a,b)=>a.expiresAt-b.expiresAt),g=d.at(-1)?.expiresAt;g&&g>i?await e.set(b,JSON.stringify(d),Math.floor((g-i)/1e3)):await e.delete(b)}return h},executeMainFn:d.session?.storeSessionInDatabase}:void 0),deleteSession:async a=>{if(e){let f=await e.get(a);if(f){let{session:b}=(0,or.n)(f)??{};if(!b)return void c.error("Session not found in secondary storage");let d=b.userId,g=await e.get(`active-sessions-${d}`);if(g){let b=(0,or.n)(g)||[],c=Date.now(),f=b.filter(b=>b.expiresAt>c&&b.token!==a),h=f.sort((a,b)=>a.expiresAt-b.expiresAt).at(-1)?.expiresAt;f.length>0&&h&&h>Date.now()?await e.set(`active-sessions-${d}`,JSON.stringify(f),Math.floor((h-c)/1e3)):await e.delete(`active-sessions-${d}`)}else c.error("Active sessions list not found in secondary storage")}if(await e.delete(a),!d.session?.storeSessionInDatabase||b.options.session?.preserveSessionInDatabase)return}await j([{field:"token",value:a}],"session",void 0)},deleteAccounts:async a=>{await k([{field:"userId",value:a}],"account",void 0)},deleteAccount:async a=>{await j([{field:"id",value:a}],"account",void 0)},deleteSessions:async a=>{if(e){if("string"==typeof a){let b=await e.get(`active-sessions-${a}`),c=b?(0,or.n)(b):[];if(!c)return;for(let a of c)await e.delete(a.token);await e.delete(`active-sessions-${a}`)}else for(let b of a)await e.get(b)&&await e.delete(b);if(!d.session?.storeSessionInDatabase||b.options.session?.preserveSessionInDatabase)return}await k([{field:Array.isArray(a)?"token":"userId",value:a,operator:Array.isArray(a)?"in":void 0}],"session",void 0)},findOAuthUser:async(b,c,d)=>{let e=await (await B(a)).findMany({model:"account",where:[{value:c,field:"accountId"}],join:{user:!0}}).then(a=>a.find(a=>a.providerId===d));if(e)if(e.user)return{user:e.user,accounts:[e]};else{let c=await (await B(a)).findOne({model:"user",where:[{value:b.toLowerCase(),field:"email"}]});return c?{user:c,accounts:[e]}:null}{let c=await (await B(a)).findOne({model:"user",where:[{value:b.toLowerCase(),field:"email"}]});return c?{user:c,accounts:await (await B(a)).findMany({model:"account",where:[{value:c.id,field:"userId"}]})||[]}:null}},findUserByEmail:async(b,c)=>{let d=await (await B(a)).findOne({model:"user",where:[{value:b.toLowerCase(),field:"email"}],join:{...c?.includeAccounts?{account:!0}:{}}});if(!d)return null;let{account:e,...f}=d;return{user:f,accounts:e??[]}},findUserById:async b=>b?await (await B(a)).findOne({model:"user",where:[{field:"id",value:b}]}):null,linkAccount:async a=>await g({createdAt:new Date,updatedAt:new Date,...a},"account",void 0),updateUser:async(a,b)=>{let c=await h(b,[{field:"id",value:a}],"user",void 0);return await l(c),c},updateUserByEmail:async(a,b)=>{let c=await h(b,[{field:"email",value:a.toLowerCase()}],"user",void 0);return await l(c),c},updatePassword:async(a,b)=>{await i({password:b},[{field:"userId",value:a},{field:"providerId",value:"credential"}],"account",void 0)},findAccounts:async b=>await (await B(a)).findMany({model:"account",where:[{field:"userId",value:b}]}),findAccount:async b=>await (await B(a)).findOne({model:"account",where:[{field:"accountId",value:b}]}),findAccountByProviderId:async(b,c)=>await (await B(a)).findOne({model:"account",where:[{field:"accountId",value:b},{field:"providerId",value:c}]}),findAccountByUserId:async b=>await (await B(a)).findMany({model:"account",where:[{field:"userId",value:b}]}),updateAccount:async(a,b)=>await h(b,[{field:"id",value:a}],"account",void 0),createVerificationValue:async a=>await g({createdAt:new Date,updatedAt:new Date,...a},"verification",void 0),findVerificationValue:async b=>{let c=await (await B(a)).findMany({model:"verification",where:[{field:"identifier",value:b}],sortBy:{field:"createdAt",direction:"desc"},limit:1});return d.verification?.disableCleanup||await k([{field:"expiresAt",value:new Date,operator:"lt"}],"verification",void 0),c[0]},deleteVerificationValue:async a=>{await j([{field:"id",value:a}],"verification",void 0)},deleteVerificationByIdentifier:async a=>{await j([{field:"identifier",value:a}],"verification",void 0)},updateVerificationValue:async(a,b)=>await h(b,[{field:"id",value:a}],"verification",void 0)}};var o0=a.i(47651);a.s(["default",0,o0],72861),a.i(72861),a.s(["$brand",0,dg,"$input",0,hD,"$output",0,hC,"NEVER",0,de,"TimePrecision",0,h4,"ZodAny",0,lR,"ZodArray",0,l_,"ZodBase64",0,lj,"ZodBase64URL",0,ll,"ZodBigInt",0,lG,"ZodBigIntFormat",0,lI,"ZodBoolean",0,lE,"ZodCIDRv4",0,lf,"ZodCIDRv6",0,lh,"ZodCUID",0,k_,"ZodCUID2",0,k1,"ZodCatch",0,mM,"ZodCodec",0,mS,"ZodCustom",0,m2,"ZodCustomStringFormat",0,lr,"ZodDate",0,lZ,"ZodDefault",0,mE,"ZodDiscriminatedUnion",0,ma,"ZodE164",0,ln,"ZodEmail",0,kL,"ZodEmoji",0,kX,"ZodEnum",0,mo,"ZodError",0,ks,"ZodExactOptional",0,mz,"ZodFile",0,mt,"ZodFirstPartyTypeKind",()=>M,"ZodFunction",0,m0,"ZodGUID",0,kN,"ZodIPv4",0,k9,"ZodIPv6",0,ld,"ZodISODate",0,kl,"ZodISODateTime",0,kj,"ZodISODuration",0,kp,"ZodISOTime",0,kn,"ZodIntersection",0,mc,"ZodIssueCode",0,nd,"ZodJWT",0,lp,"ZodKSUID",0,k7,"ZodLazy",0,mY,"ZodLiteral",0,mr,"ZodMAC",0,lb,"ZodMap",0,mk,"ZodNaN",0,mO,"ZodNanoID",0,kZ,"ZodNever",0,lV,"ZodNonOptional",0,mI,"ZodNull",0,lP,"ZodNullable",0,mB,"ZodNumber",0,lw,"ZodNumberFormat",0,ly,"ZodObject",0,l2,"ZodOptional",0,mx,"ZodPipe",0,mQ,"ZodPrefault",0,mG,"ZodPromise",0,m$,"ZodReadonly",0,mU,"ZodRealError",0,kt,"ZodRecord",0,mg,"ZodSet",0,mm,"ZodString",0,kI,"ZodStringFormat",0,kK,"ZodSuccess",0,mK,"ZodSymbol",0,lL,"ZodTemplateLiteral",0,mW,"ZodTransform",0,mv,"ZodTuple",0,me,"ZodType",0,kG,"ZodULID",0,k3,"ZodURL",0,kU,"ZodUUID",0,kP,"ZodUndefined",0,lN,"ZodUnion",0,l6,"ZodUnknown",0,lT,"ZodVoid",0,lX,"ZodXID",0,k5,"ZodXor",0,l8,"_ZodString",0,kH,"_default",()=>mF,"_function",()=>m1,"any",()=>lS,"array",()=>l0,"base64",()=>lk,"base64url",()=>lm,"bigint",()=>lH,"boolean",()=>lF,"catch",()=>mN,"check",()=>m3,"cidrv4",()=>lg,"cidrv6",()=>li,"clone",()=>dS,"codec",()=>mT,"coerce",()=>nv,"config",()=>dk,"core",()=>nu,"cuid",()=>k0,"cuid2",()=>k2,"custom",()=>m4,"date",()=>l$,"decode",0,kz,"decodeAsync",0,kB,"default",0,o0,"describe",0,m7,"discriminatedUnion",()=>mb,"e164",()=>lo,"email",()=>kM,"emoji",()=>kY,"encode",0,ky,"encodeAsync",0,kA,"endsWith",()=>iS,"enum",()=>mp,"exactOptional",()=>mA,"file",()=>mu,"flattenError",()=>en,"float32",()=>lA,"float64",()=>lB,"formatError",()=>eo,"fromJSONSchema",()=>nk,"function",()=>m1,"getErrorMap",()=>nf,"globalRegistry",0,hG,"gt",()=>iA,"gte",()=>iB,"guid",()=>kO,"hash",()=>lv,"hex",()=>lu,"hostname",()=>lt,"httpUrl",()=>kW,"includes",()=>iQ,"instanceof",()=>m9,"int",()=>lz,"int32",()=>lC,"int64",()=>lJ,"intersection",()=>md,"ipv4",()=>la,"ipv6",()=>le,"iso",()=>nh,"json",()=>nb,"jwt",()=>lq,"keyof",()=>l1,"ksuid",()=>k8,"lazy",()=>mZ,"length",()=>iM,"literal",()=>ms,"locales",()=>ns,"looseObject",()=>l5,"looseRecord",()=>mj,"lowercase",()=>iO,"lt",()=>iy,"lte",()=>iz,"mac",()=>lc,"map",()=>ml,"maxLength",()=>iK,"maxSize",()=>iH,"meta",0,m8,"mime",()=>iU,"minLength",()=>iL,"minSize",()=>iI,"multipleOf",()=>iG,"nan",()=>mP,"nanoid",()=>k$,"nativeEnum",()=>mq,"negative",()=>iD,"never",()=>lW,"nonnegative",()=>iF,"nonoptional",()=>mJ,"nonpositive",()=>iE,"normalize",()=>iW,"null",()=>lQ,"nullable",()=>mC,"nullish",()=>mD,"number",()=>lx,"object",()=>l3,"optional",()=>my,"overwrite",()=>iV,"parse",0,ku,"parseAsync",0,kv,"partialRecord",()=>mi,"pipe",()=>mR,"positive",()=>iC,"prefault",()=>mH,"preprocess",()=>nc,"prettifyError",()=>er,"promise",()=>m_,"property",()=>iT,"readonly",()=>mV,"record",()=>mh,"refine",()=>m5,"regex",()=>iN,"regexes",()=>kh,"registry",()=>hF,"safeDecode",0,kD,"safeDecodeAsync",0,kF,"safeEncode",0,kC,"safeEncodeAsync",0,kE,"safeParse",0,kw,"safeParseAsync",0,kx,"set",()=>mn,"setErrorMap",()=>ne,"size",()=>iJ,"slugify",()=>i$,"startsWith",()=>iR,"strictObject",()=>l4,"string",()=>kJ,"stringFormat",()=>ls,"stringbool",0,na,"success",()=>mL,"superRefine",()=>m6,"symbol",()=>lM,"templateLiteral",()=>mX,"toJSONSchema",()=>kf,"toLowerCase",()=>iY,"toUpperCase",()=>iZ,"transform",()=>mw,"treeifyError",()=>ep,"trim",()=>iX,"tuple",()=>mf,"uint32",()=>lD,"uint64",()=>lK,"ulid",()=>k4,"undefined",()=>lO,"union",()=>l7,"unknown",()=>lU,"uppercase",()=>iP,"url",()=>kV,"util",()=>ki,"uuid",()=>kQ,"uuidv4",()=>kR,"uuidv6",()=>kS,"uuidv7",()=>kT,"void",()=>lY,"xid",()=>k6,"xor",()=>l9,"z",0,o0],92);var o1=a.i(92);function o2({fields:a,isClientSide:b}){let c=Object.keys(a).reduce((c,d)=>{let e,f=a[d];return!f||b&&!1===f.input||(e="json"===f.type?o1.json?o1.json():o1.any():"string[]"===f.type||"number[]"===f.type?o1.array("string[]"===f.type?o1.string():o1.number()):Array.isArray(f.type)?o1.any():o1[f.type](),f?.required===!1&&(e=e.optional()),f?.returned===!1)?c:{...c,[d]:e}},{});return o1.object(c)}function o3(a){let b=(0,pd.getAuthTables)(a),c={};for(let a in b){let d=b[a],e=d.fields,f={};if(Object.entries(e).forEach(([a,c])=>{if(f[c.fieldName||a]=c,c.references){let d=b[c.references.model];d&&(f[c.fieldName||a].references={...c.references,model:d.modelName,field:c.references.field})}}),c[d.modelName]){c[d.modelName].fields={...c[d.modelName].fields,...f};continue}c[d.modelName]={fields:f,order:d.order||1/0}}return c}var o4=a.i(67921),oT=oM,o5=cl,o6=a.i(13657),o7=a.i(15292);let o8={postgres:{string:["character varying","varchar","text","uuid"],number:["int4","integer","bigint","smallint","numeric","real","double precision"],boolean:["bool","boolean"],date:["timestamptz","timestamp","date"],json:["json","jsonb"]},mysql:{string:["varchar","text","uuid"],number:["integer","int","bigint","smallint","decimal","float","double"],boolean:["boolean","tinyint"],date:["timestamp","datetime","date"],json:["json"]},sqlite:{string:["TEXT"],number:["INTEGER","REAL"],boolean:["INTEGER","BOOLEAN"],date:["DATE","INTEGER"],json:["TEXT"]},mssql:{string:["varchar","nvarchar","uniqueidentifier"],number:["int","bigint","smallint","decimal","float","double"],boolean:["bit","smallint"],date:["datetime2","date","datetime"],json:["varchar","nvarchar"]}};function o9(a,b,c){if("string[]"===b||"number[]"===b)return a.toLowerCase().includes("json");let d=o8[c];return(Array.isArray(b)?d.string.map(a=>a.toLowerCase()):d[b].map(a=>a.toLowerCase())).includes(a.toLowerCase().split("(")[0].trim())}async function pa(a){try{let b=await o6.sql`SHOW search_path`.execute(a);if(b.rows[0]?.search_path)return b.rows[0].search_path.split(",").map(a=>a.trim()).map(a=>a.replace(/^["']|["']$/g,"")).filter(a=>!a.startsWith("$"))[0]||"public"}catch{}return"public"}async function pb(a){let b=o3(a),c=(0,o5.n)(a.logger),{kysely:d,databaseType:e}=await (0,o4.createKyselyAdapter)(a);e||(c.warn("Could not determine database type, defaulting to sqlite. Please provide a type in the database options to avoid this."),e="sqlite"),d||(c.error("Only kysely adapter is supported for migrations. You can use `generate` command to generate the schema, if you're using a different adapter."),process.exit(1));let f="public";if("postgres"===e){f=await pa(d),c.debug(`PostgreSQL migration: Using schema '${f}' (from search_path)`);try{(await o6.sql`
				SELECT schema_name 
				FROM information_schema.schemata 
				WHERE schema_name = ${f}
			`.execute(d)).rows[0]||c.warn(`Schema '${f}' does not exist. Tables will be inspected from available schemas. Consider creating the schema first or checking your database configuration.`)}catch(a){c.debug(`Could not verify schema existence: ${a instanceof Error?a.message:String(a)}`)}}let g=await d.introspection.getTables(),h=g;if("postgres"===e)try{let a=await o6.sql`
				SELECT table_name 
				FROM information_schema.tables 
				WHERE table_schema = ${f}
				AND table_type = 'BASE TABLE'
			`.execute(d),b=new Set(a.rows.map(a=>a.table_name));h=g.filter(a=>a.schema===f&&b.has(a.name)),c.debug(`Found ${h.length} table(s) in schema '${f}': ${h.map(a=>a.name).join(", ")||"(none)"}`)}catch(a){c.warn(`Could not filter tables by schema. Using all discovered tables. Error: ${a instanceof Error?a.message:String(a)}`)}let i=[],j=[];for(let[a,d]of Object.entries(b)){let b=h.find(b=>b.name===a);if(!b){let b=i.findIndex(b=>b.table===a),c={table:a,fields:d.fields,order:d.order||1/0},e=i.findIndex(a=>(a.order||1/0)>c.order);-1===e?-1===b?i.push(c):i[b].fields={...i[b].fields,...d.fields}:i.splice(e,0,c);continue}let f={};for(let[g,h]of Object.entries(d.fields)){let d=b.columns.find(a=>a.name===g);if(!d){f[g]=h;continue}o9(d.dataType,h.type,e)||c.warn(`Field ${g} in table ${a} has a different type in the database. Expected ${h.type} but got ${d.dataType}.`)}Object.keys(f).length>0&&j.push({table:a,fields:f,order:d.order||1/0})}let k=[],l=a.advanced?.database?.generateId==="uuid",m=a.advanced?.database?.useNumberId||a.advanced?.database?.generateId==="serial";function n(a,b){let c=a.type,d=e||"sqlite",f={string:{sqlite:"text",postgres:"text",mysql:a.unique?"varchar(255)":a.references?"varchar(36)":a.sortable||a.index?"varchar(255)":"text",mssql:a.unique||a.sortable?"varchar(255)":a.references?"varchar(36)":"varchar(8000)"},boolean:{sqlite:"integer",postgres:"boolean",mysql:"boolean",mssql:"smallint"},number:{sqlite:a.bigint?"bigint":"integer",postgres:a.bigint?"bigint":"integer",mysql:a.bigint?"bigint":"integer",mssql:a.bigint?"bigint":"integer"},date:{sqlite:"date",postgres:"timestamptz",mysql:"timestamp(3)",mssql:o6.sql`datetime2(3)`},json:{sqlite:"text",postgres:"jsonb",mysql:"json",mssql:"varchar(8000)"},id:{postgres:m?o6.sql`integer GENERATED BY DEFAULT AS IDENTITY`:l?"uuid":"text",mysql:m?"integer":"varchar(36)",mssql:m?"integer":"varchar(36)",sqlite:m?"integer":"text"},foreignKeyId:{postgres:m?"integer":l?"uuid":"text",mysql:m?"integer":"varchar(36)",mssql:m?"integer":"varchar(36)",sqlite:m?"integer":"text"},"string[]":{sqlite:"text",postgres:"jsonb",mysql:"json",mssql:"varchar(8000)"},"number[]":{sqlite:"text",postgres:"jsonb",mysql:"json",mssql:"varchar(8000)"}};if("id"===b||a.references?.field==="id")return"id"===b?f.id[d]:f.foreignKeyId[d];if(Array.isArray(c))return"text";if(!(c in f))throw Error(`Unsupported field type '${String(c)}' for field '${b}'. Allowed types are: string, number, boolean, date, string[], number[]. If you need to store structured data, store it as a JSON string (type: "string") or split it into primitive fields. See https://better-auth.com/docs/advanced/schema#additional-fields`);return f[c][d]}let o=(0,o7.initGetModelName)({schema:(0,oT.t)(a),usePlural:!1}),p=(0,o7.initGetFieldName)({schema:(0,oT.t)(a),usePlural:!1});function q(a,b){try{return`${o(a)}.${p({model:a,field:b})}`}catch{return`${a}.${b}`}}if(j.length)for(let a of j)for(let[b,c]of Object.entries(a.fields)){let f=n(c,b),g=d.schema.alterTable(a.table);if(c.index){let c=d.schema.alterTable(a.table).addIndex(`${a.table}_${b}_idx`);k.push(c)}let h=g.addColumn(b,f,a=>(a=!1!==c.required?a.notNull():a,c.references&&(a=a.references(q(c.references.model,c.references.field)).onDelete(c.references.onDelete||"cascade")),c.unique&&(a=a.unique()),"date"===c.type&&"function"==typeof c.defaultValue&&("postgres"===e||"mysql"===e||"mssql"===e)&&(a="mysql"===e?a.defaultTo(o6.sql`CURRENT_TIMESTAMP(3)`):a.defaultTo(o6.sql`CURRENT_TIMESTAMP`)),a));k.push(h)}let r=[];if(a.advanced?.database?.useNumberId&&c.warn("`useNumberId` is deprecated. Please use `generateId` with `serial` instead."),i.length)for(let a of i){let b=n({type:m?"number":"string"},"id"),c=d.schema.createTable(a.table).addColumn("id",b,a=>{if(m)return"postgres"===e?a.primaryKey().notNull():"sqlite"===e?a.primaryKey().notNull():"mssql"===e?a.identity().primaryKey().notNull():a.autoIncrement().primaryKey().notNull();return l&&"postgres"===e?a.primaryKey().defaultTo(o6.sql`pg_catalog.gen_random_uuid()`).notNull():a.primaryKey().notNull()});for(let[b,f]of Object.entries(a.fields)){let g=n(f,b);if(c=c.addColumn(b,g,a=>(a=!1!==f.required?a.notNull():a,f.references&&(a=a.references(q(f.references.model,f.references.field)).onDelete(f.references.onDelete||"cascade")),f.unique&&(a=a.unique()),"date"===f.type&&"function"==typeof f.defaultValue&&("postgres"===e||"mysql"===e||"mssql"===e)&&(a="mysql"===e?a.defaultTo(o6.sql`CURRENT_TIMESTAMP(3)`):a.defaultTo(o6.sql`CURRENT_TIMESTAMP`)),a)),f.index){let c=d.schema.createIndex(`${a.table}_${b}_${f.unique?"uidx":"idx"}`).on(a.table).columns([b]);r.push(f.unique?c.unique():c)}}k.push(c)}if(r.length)for(let a of r)k.push(a);return{toBeCreated:i,toBeAdded:j,runMigrations:async function(){for(let a of k)await a.execute()},compileMigrations:async function(){return k.map(a=>a.compile().sql).join(";\n\n")+";"}}}a.i(98124),a.s(["accountSchema",()=>oO,"coreSchema",()=>oN,"getAuthTables",()=>oM.t,"rateLimitSchema",()=>oP,"sessionSchema",()=>oQ,"userSchema",()=>oR,"verificationSchema",()=>oS],94997);var pc=a.i(94997),pd=((a,b)=>{let c={};for(var d in a)oH(c,d,{get:a[d],enumerable:!0});return b&&oH(c,Symbol.toStringTag,{value:"Module"}),c})({convertFromDB:()=>oZ,convertToDB:()=>oY,createFieldAttribute:()=>oX,createInternalAdapter:()=>o_,getAdapter:()=>oW,getBaseAdapter:()=>oV,getMigrations:()=>pb,getSchema:()=>o3,getWithHooks:()=>o$,matchType:()=>o9,mergeSchema:()=>oG,parseAccountInput:()=>oE,parseAccountOutput:()=>oz,parseAdditionalUserInput:()=>oD,parseInputData:()=>oB,parseSessionInput:()=>oF,parseSessionOutput:()=>oA,parseUserInput:()=>oC,parseUserOutput:()=>oy,toZodSchema:()=>o2});I&&(oH(pd,Symbol.toStringTag,{value:"Module"}),H&&oH(H,Symbol.toStringTag,{value:"Module"})),oL(pd,pc,"default"),H&&oL(H,pc,"default");var or=cm,nv=nv;function pe(a){let b=a.split("."),c=parseInt(b[b.length-1]||"0",10);return isNaN(c)?0:c}function pf(a,b){let c={};for(let d in a)c[d]={name:d,value:"",options:{...b,maxAge:0}};return c}let pg=a=>(b,c,d)=>{let e=function(a,b){let c={};for(let[d,e]of Object.entries(function(a){let b=a.headers?.get("cookie");if(!b)return{};let c={};for(let a of b.split("; ")){let[b,...d]=a.split("=");b&&d.length>0&&(c[b]=d.join("="))}return c}(b)))d.startsWith(a)&&(c[d]=e);return c}(b,d),f=d.context.logger;return{getValue:()=>Object.keys(e).sort((a,b)=>pe(a)-pe(b)).map(a=>e[a]).join(""),hasChunks:()=>Object.keys(e).length>0,chunk(d,g){let h=pf(e,c);for(let a in e)delete e[a];for(let i of function(a,b,c,d){let e=Math.ceil(b.value.length/3896);if(1===e)return c[b.name]=b.value,[b];let f=[];for(let a=0;a<e;a++){let d=`${b.name}.${a}`,e=3896*a,g=b.value.substring(e,e+3896);f.push({...b,name:d,value:g}),c[d]=g}return d.debug(`CHUNKING_${a.toUpperCase()}_COOKIE`,{message:`${a} cookie exceeds allowed 4096 bytes.`,emptyCookieSize:200,valueSize:b.value.length,chunkCount:e,chunks:f.map(a=>a.value.length+200)}),f}(a,{name:b,value:d,options:{...c,...g}},e,f))h[i.name]=i;return Object.values(h)},clean(){let a=pf(e,c);for(let a in e)delete e[a];return Object.values(a)},setCookies(a){for(let b of a)d.setCookie(b.name,b.value,b.options)}}},ph=pg("Session"),pi=pg("Account");function pj(a,b){let c=a.getCookie(b);if(c)return c;let d=[],e=a.headers?.get("cookie");if(!e)return null;let f={};for(let a of e.split("; ")){let[b,...c]=a.split("=");b&&c.length>0&&(f[b]=c.join("="))}for(let[a,c]of Object.entries(f))if(a.startsWith(b+".")){let b=parseInt(a.split(".").at(-1)||"0",10);isNaN(b)||d.push({index:b,value:c})}return d.length>0?(d.sort((a,b)=>a.index-b.index),d.map(a=>a.value).join("")):null}async function pk(a,b){let c=a.context.authCookies.accountData,d={maxAge:300,...c.options},e=await cj(b,a.context.secret,"better-auth-account",d.maxAge);if(e.length>4096){let b=pi(c.name,d,a),f=b.chunk(e,d);b.setCookies(f)}else{let b=pi(c.name,d,a);if(b.hasChunks()){let a=b.clean();b.setCookies(a)}a.setCookie(c.name,e,d)}}async function pl(a){let b=pj(a,a.context.authCookies.accountData.name);if(b){let c=(0,or.n)(await ck(b,a.context.secret,"better-auth-account"));if(c)return c}return null}let pm=my(l3({disableCookieCache:nv.boolean().meta({description:"Disable cookie cache and fetch session from database"}).optional(),disableRefresh:nv.boolean().meta({description:"Disable session refresh. Useful for checking session status, without updating the session"}).optional()})),pn=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|months?|mo|years?|yrs?|y)(?: (ago|from now))?$/i;var n8=cl,po=cl,co=cn,or=cm;let pp=new Map,pq={decode:(a,b="utf-8")=>(pp.has(b)||pp.set(b,new TextDecoder(b)),pp.get(b).decode(a)),encode:new TextEncoder().encode},pr=(a="SHA-256",b="none")=>{let c={importKey:async(b,c)=>cx().importKey("raw","string"==typeof b?new TextEncoder().encode(b):b,{name:"HMAC",hash:{name:a}},!1,[c]),sign:async(a,d)=>{"string"==typeof a&&(a=await c.importKey(a,"sign"));let e=await cx().sign("HMAC",a,"string"==typeof d?new TextEncoder().encode(d):d);return"hex"===b?cp(e):"base64"===b||"base64url"===b||"base64urlnopad"===b?cC.encode(e,{padding:"base64urlnopad"!==b}):e},verify:async(a,d,e)=>("string"==typeof a&&(a=await c.importKey(a,"verify")),"hex"===b&&(e=(a=>{if(!a)return"";if("string"==typeof a){if(a.length%2!=0||!RegExp("^[0123456789abcdef]+$").test(a))throw Error("Invalid hexadecimal string");let b=new Uint8Array(a.length/2);for(let c=0;c<a.length;c+=2)b[c/2]=parseInt(a.slice(c,c+2),16);return new TextDecoder().decode(b)}return new TextDecoder().decode(a)})(e)),("base64"===b||"base64url"===b||"base64urlnopad"===b)&&(e=await cB.decode(e)),cx().verify("HMAC",a,"string"==typeof e?new TextEncoder().encode(e):e,"string"==typeof d?new TextEncoder().encode(d):d))};return c};function ps(a){let b=(a.advanced?.useSecureCookies!==void 0?a.advanced?.useSecureCookies:void 0!==a.baseURL?!!a.baseURL.startsWith("https://"):po.f)?"__Secure-":"",c=!!a.advanced?.crossSubDomainCookies?.enabled,d=c?a.advanced?.crossSubDomainCookies?.domain||(a.baseURL?new URL(a.baseURL).hostname:void 0):void 0;if(c&&!d)throw new co.t("baseURL is required when crossSubdomainCookies are enabled");return function(e,f={}){let g=a.advanced?.cookiePrefix||"better-auth",h=a.advanced?.cookies?.[e]?.name||`${g}.${e}`,i=a.advanced?.cookies?.[e]?.attributes;return{name:`${b}${h}`,attributes:{secure:!!b,sameSite:"lax",path:"/",httpOnly:!0,...c?{domain:d}:{},...a.advanced?.defaultCookieAttributes,...f,...i}}}}async function pt(a,b,c){if(a.context.options.session?.cookieCache?.enabled){let d,e=Object.entries(b.session).reduce((b,[c,d])=>{let e=a.context.options.session?.additionalFields?.[c];return e&&!1===e.returned||(b[c]=d),b},{}),f=oy(a.context.options,b.user),g=a.context.options.session?.cookieCache?.version,h="1";if(g){if("string"==typeof g)h=g;else if("function"==typeof g){let a=g(b.session,b.user);h=a instanceof Promise?await a:a}}let i={session:e,user:f,updatedAt:Date.now(),version:h},j={...a.context.authCookies.sessionData.options,maxAge:c?void 0:a.context.authCookies.sessionData.options.maxAge},k=ou(j.maxAge||60,"sec").getTime(),l=a.context.options.session?.cookieCache?.strategy||"compact";if((d="jwe"===l?await cj(i,a.context.secret,"better-auth-session",j.maxAge||300):"jwt"===l?await cf(i,a.context.secret,j.maxAge||300):cC.encode(JSON.stringify({session:i,expiresAt:k,signature:await pr("SHA-256","base64urlnopad").sign(a.context.secret,JSON.stringify({...i,expiresAt:k}))}),{padding:!1})).length>4093){let b=ph(a.context.authCookies.sessionData.name,j,a),c=b.chunk(d,j);b.setCookies(c)}else{let b=ph(a.context.authCookies.sessionData.name,j,a);if(b.hasChunks()){let a=b.clean();b.setCookies(a)}a.setCookie(a.context.authCookies.sessionData.name,d,j)}}}async function pu(a,b,c,d){let e=await a.getSignedCookie(a.context.authCookies.dontRememberToken.name,a.context.secret);c=void 0!==c?c:!!e;let f=a.context.authCookies.sessionToken.options,g=c?void 0:a.context.sessionConfig.expiresIn;await a.setSignedCookie(a.context.authCookies.sessionToken.name,b.session.token,a.context.secret,{...f,maxAge:g,...d}),c&&await a.setSignedCookie(a.context.authCookies.dontRememberToken.name,"true",a.context.secret,a.context.authCookies.dontRememberToken.options),await pt(a,b,c),a.context.setNewSession(b),a.context.options.secondaryStorage&&await a.context.secondaryStorage?.set(b.session.token,JSON.stringify({user:b.user,session:b.session}),Math.floor((new Date(b.session.expiresAt).getTime()-Date.now())/1e3))}function pv(a,b){if(a.setCookie(a.context.authCookies.sessionToken.name,"",{...a.context.authCookies.sessionToken.options,maxAge:0}),a.setCookie(a.context.authCookies.sessionData.name,"",{...a.context.authCookies.sessionData.options,maxAge:0}),a.context.options.account?.storeAccountCookie){a.setCookie(a.context.authCookies.accountData.name,"",{...a.context.authCookies.accountData.options,maxAge:0});let b=pi(a.context.authCookies.accountData.name,a.context.authCookies.accountData.options,a),c=b.clean();b.setCookies(c)}if("cookie"===a.context.oauthConfig.storeStateStrategy){let b=a.context.createAuthCookie("oauth_state");a.setCookie(b.name,"",{...b.attributes,maxAge:0})}let c=ph(a.context.authCookies.sessionData.name,a.context.authCookies.sessionData.options,a),d=c.clean();c.setCookies(d),b||a.setCookie(a.context.authCookies.dontRememberToken.name,"",{...a.context.authCookies.dontRememberToken.options,maxAge:0})}var oh=cn,or=cm;let pw=()=>ol("/get-session",{method:"GET",operationId:"getSession",query:pm,requireHeaders:!0,metadata:{openapi:{operationId:"getSession",description:"Get the current session",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",nullable:!0,properties:{session:{$ref:"#/components/schemas/Session"},user:{$ref:"#/components/schemas/User"}},required:["session","user"]}}}}}}}},async a=>{try{let b=await a.getSignedCookie(a.context.authCookies.sessionToken.name,a.context.secret);if(!b)return null;let c=pj(a,a.context.authCookies.sessionData.name),d=null;if(c){let b=a.context.options.session?.cookieCache?.strategy||"compact";if("jwe"===b){let b=await ck(c,a.context.secret,"better-auth-session");if(b&&b.session&&b.user)d={session:{session:b.session,user:b.user,updatedAt:b.updatedAt,version:b.version},expiresAt:b.exp?1e3*b.exp:Date.now()};else{let b=a.context.authCookies.sessionData.name;return a.setCookie(b,"",{maxAge:0}),a.json(null)}}else if("jwt"===b){let b=await cg(c,a.context.secret);if(b&&b.session&&b.user)d={session:{session:b.session,user:b.user,updatedAt:b.updatedAt,version:b.version},expiresAt:b.exp?1e3*b.exp:Date.now()};else{let b=a.context.authCookies.sessionData.name;return a.setCookie(b,"",{maxAge:0}),a.json(null)}}else{let b=(0,or.n)(pq.decode(cC.decode(c)));if(b)if(await pr("SHA-256","base64urlnopad").verify(a.context.secret,JSON.stringify({...b.session,expiresAt:b.expiresAt}),b.signature))d=b;else{let b=a.context.authCookies.sessionData.name;return a.setCookie(b,"",{maxAge:0}),a.json(null)}}}let e=await a.getSignedCookie(a.context.authCookies.dontRememberToken.name,a.context.secret);if(d?.session&&a.context.options.session?.cookieCache?.enabled&&!a.query?.disableCookieCache){let b=d.session,c=a.context.options.session?.cookieCache?.version,e="1";if(c){if("string"==typeof c)e=c;else if("function"==typeof c){let a=c(b.session,b.user);e=a instanceof Promise?await a:a}}if((b.version||"1")!==e){let b=a.context.authCookies.sessionData.name;a.setCookie(b,"",{maxAge:0})}else{let c=new Date(b.session.expiresAt);if(d.expiresAt<Date.now()||c<new Date){let b=a.context.authCookies.sessionData.name;a.setCookie(b,"",{maxAge:0})}else{let c=a.context.sessionConfig.cookieRefreshCache;if(!1===c)return a.context.session=b,a.json({session:b.session,user:b.user});if(d.expiresAt-Date.now()<1e3*c.updateAge){let c=ou(a.context.options.session?.cookieCache?.maxAge||300,"sec"),d={session:{...b.session,expiresAt:c},user:b.user,updatedAt:Date.now()};await pt(a,d,!1);let e=oA(a.context.options,{...d.session,expiresAt:new Date(d.session.expiresAt),createdAt:new Date(d.session.createdAt),updatedAt:new Date(d.session.updatedAt)}),f=oy(a.context.options,{...d.user,createdAt:new Date(d.user.createdAt),updatedAt:new Date(d.user.updatedAt)});return a.context.session={session:e,user:f},a.json({session:e,user:f})}let e=oA(a.context.options,{...b.session,expiresAt:new Date(b.session.expiresAt),createdAt:new Date(b.session.createdAt),updatedAt:new Date(b.session.updatedAt)}),f=oy(a.context.options,{...b.user,createdAt:new Date(b.user.createdAt),updatedAt:new Date(b.user.updatedAt)});return a.context.session={session:e,user:f},a.json({session:e,user:f})}}}let f=await a.context.internalAdapter.findSession(b);if(a.context.session=f,!f||f.session.expiresAt<new Date)return pv(a),f&&await a.context.internalAdapter.deleteSession(f.session.token),a.json(null);if(e||a.query?.disableRefresh){let b=oA(a.context.options,f.session),c=oy(a.context.options,f.user);return a.json({session:b,user:c})}let g=a.context.sessionConfig.expiresIn,h=a.context.sessionConfig.updateAge;if(f.session.expiresAt.valueOf()-1e3*g+1e3*h<=Date.now()&&(!a.query?.disableRefresh||!a.context.options.session?.disableSessionRefresh)){let b=await a.context.internalAdapter.updateSession(f.session.token,{expiresAt:ou(a.context.sessionConfig.expiresIn,"sec"),updatedAt:new Date});if(!b)return pv(a),a.json(null,{status:401});let c=(b.expiresAt.valueOf()-Date.now())/1e3;await pu(a,{session:b,user:f.user},!1,{maxAge:c});let d=oA(a.context.options,b),e=oy(a.context.options,f.user);return a.json({session:d,user:e})}return await pt(a,f,!!e),a.json(f)}catch(b){throw a.context.logger.error("INTERNAL_SERVER_ERROR",b),new nA("INTERNAL_SERVER_ERROR",{message:oh.n.FAILED_TO_GET_SESSION})}}),px=async(a,b)=>{if(a.context.session)return a.context.session;let c=await pw()({...a,asResponse:!1,headers:a.headers,returnHeaders:!1,returnStatus:!1,query:{...b,...a.query}}).catch(a=>null);return a.context.session=c,c},py=oj(async a=>{let b=await px(a);if(!b?.session)throw new nA("UNAUTHORIZED");return{session:b}}),pz=oj(async a=>{let b=await px(a,{disableCookieCache:!0});if(!b?.session)throw new nA("UNAUTHORIZED");return{session:b}});oj(async a=>{let b=await px(a);if(!b?.session&&(a.request||a.headers))throw new nA("UNAUTHORIZED");return{session:b}});let pA=oj(async a=>{let b=await px(a);if(!b?.session)throw new nA("UNAUTHORIZED");if(0===a.context.sessionConfig.freshAge)return{session:b};let c=a.context.sessionConfig.freshAge,d=new Date(b.session.updatedAt||b.session.createdAt).getTime();if(!(Date.now()-d<1e3*c))throw new nA("FORBIDDEN",{message:"Session is not fresh"});return{session:b}}),pB=ol("/revoke-session",{method:"POST",body:l3({token:kJ().meta({description:"The token to revoke"})}),use:[pz],requireHeaders:!0,metadata:{openapi:{description:"Revoke a single session",requestBody:{content:{"application/json":{schema:{type:"object",properties:{token:{type:"string",description:"The token to revoke"}},required:["token"]}}}},responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean",description:"Indicates if the session was revoked successfully"}},required:["status"]}}}}}}}},async a=>{let b=a.body.token;if((await a.context.internalAdapter.findSession(b))?.session.userId===a.context.session.user.id)try{await a.context.internalAdapter.deleteSession(b)}catch(b){throw a.context.logger.error(b&&"object"==typeof b&&"name"in b?b.name:"",b),new nA("INTERNAL_SERVER_ERROR")}return a.json({status:!0})}),pC=ol("/revoke-sessions",{method:"POST",use:[pz],requireHeaders:!0,metadata:{openapi:{description:"Revoke all sessions for the user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean",description:"Indicates if all sessions were revoked successfully"}},required:["status"]}}}}}}}},async a=>{try{await a.context.internalAdapter.deleteSessions(a.context.session.user.id)}catch(b){throw a.context.logger.error(b&&"object"==typeof b&&"name"in b?b.name:"",b),new nA("INTERNAL_SERVER_ERROR")}return a.json({status:!0})}),pD=ol("/revoke-other-sessions",{method:"POST",requireHeaders:!0,use:[pz],metadata:{openapi:{description:"Revoke all other sessions for the user except the current one",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean",description:"Indicates if all other sessions were revoked successfully"}},required:["status"]}}}}}}}},async a=>{let b=a.context.session;if(!b.user)throw new nA("UNAUTHORIZED");let c=(await a.context.internalAdapter.listSessions(b.user.id)).filter(a=>a.expiresAt>new Date).filter(b=>b.token!==a.context.session.session.token);return await Promise.all(c.map(b=>a.context.internalAdapter.deleteSession(b.token))),a.json({status:!0})});function pE(a,b){return a&&b.options.account?.encryptOAuthTokens?dd({key:b.secret,data:a}):a}function pF(a,b){return b.options.account?.encryptOAuthTokens&&a?dc({key:b.secret,data:a}):a}var oh=cn,pG=Object.defineProperty,pH=Object.defineProperties,pI=Object.getOwnPropertyDescriptors,pJ=Object.getOwnPropertySymbols,pK=Object.prototype.hasOwnProperty,pL=Object.prototype.propertyIsEnumerable,pM=(a,b,c)=>b in a?pG(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c,pN=(a,b)=>{for(var c in b||(b={}))pK.call(b,c)&&pM(a,c,b[c]);if(pJ)for(var c of pJ(b))pL.call(b,c)&&pM(a,c,b[c]);return a},pO=(a,b)=>pH(a,pI(b)),pP=class extends Error{constructor(a,b,c){super(b||a.toString(),{cause:c}),this.status=a,this.statusText=b,this.error=c,Error.captureStackTrace(this,this.constructor)}},pQ=async(a,b)=>{var c,d,e,f,g,h;let i=b||{},j={onRequest:[null==b?void 0:b.onRequest],onResponse:[null==b?void 0:b.onResponse],onSuccess:[null==b?void 0:b.onSuccess],onError:[null==b?void 0:b.onError],onRetry:[null==b?void 0:b.onRetry]};if(!b||!(null==b?void 0:b.plugins))return{url:a,options:i,hooks:j};for(let k of(null==b?void 0:b.plugins)||[]){if(k.init){let d=await (null==(c=k.init)?void 0:c.call(k,a.toString(),b));i=d.options||i,a=d.url}j.onRequest.push(null==(d=k.hooks)?void 0:d.onRequest),j.onResponse.push(null==(e=k.hooks)?void 0:e.onResponse),j.onSuccess.push(null==(f=k.hooks)?void 0:f.onSuccess),j.onError.push(null==(g=k.hooks)?void 0:g.onError),j.onRetry.push(null==(h=k.hooks)?void 0:h.onRetry)}return{url:a,options:i,hooks:j}},pR=class{constructor(a){this.options=a}shouldAttemptRetry(a,b){return this.options.shouldRetry?Promise.resolve(a<this.options.attempts&&this.options.shouldRetry(b)):Promise.resolve(a<this.options.attempts)}getDelay(){return this.options.delay}},pS=class{constructor(a){this.options=a}shouldAttemptRetry(a,b){return this.options.shouldRetry?Promise.resolve(a<this.options.attempts&&this.options.shouldRetry(b)):Promise.resolve(a<this.options.attempts)}getDelay(a){return Math.min(this.options.maxDelay,this.options.baseDelay*2**a)}},pT=async a=>{let b={},c=async a=>"function"==typeof a?await a():a;if(null==a?void 0:a.auth){if("Bearer"===a.auth.type){let d=await c(a.auth.token);if(!d)return b;b.authorization=`Bearer ${d}`}else if("Basic"===a.auth.type){let[d,e]=await Promise.all([c(a.auth.username),c(a.auth.password)]);if(!d||!e)return b;b.authorization=`Basic ${btoa(`${d}:${e}`)}`}else if("Custom"===a.auth.type){let[d,e]=await Promise.all([c(a.auth.prefix),c(a.auth.value)]);if(!e)return b;b.authorization=`${null!=d?d:""} ${e}`}}return b},pU=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function pV(a){if(void 0===a)return!1;let b=typeof a;return"string"===b||"number"===b||"boolean"===b||null===b||"object"===b&&(!!Array.isArray(a)||!a.buffer&&(a.constructor&&"Object"===a.constructor.name||"function"==typeof a.toJSON))}function pW(a){try{return JSON.parse(a)}catch(b){return a}}async function pX(a){let b=new Headers(null==a?void 0:a.headers);for(let[c,d]of Object.entries(await pT(a)||{}))b.set(c,d);if(!b.has("content-type")){let c=pV(null==a?void 0:a.body)?"application/json":null;c&&b.set("content-type",c)}return b}var pY=class a extends Error{constructor(b,c){super(c||JSON.stringify(b,null,2)),this.issues=b,Object.setPrototypeOf(this,a.prototype)}};async function pZ(a,b){let c=await a["~standard"].validate(b);if(c.issues)throw new pY(c.issues);return c.value}var p$=["get","post","put","patch","delete"],p_=async(a,b)=>{var c,d,e,f,g,h,i,j;let k,{hooks:l,url:m,options:n}=await pQ(a,b),o=function(a){if(null==a?void 0:a.customFetchImpl)return a.customFetchImpl;if("undefined"!=typeof globalThis&&"function"==typeof globalThis.fetch)return globalThis.fetch;throw Error("No fetch implementation found")}(n),p=new AbortController,q=null!=(c=n.signal)?c:p.signal,r=function(a,b){let{baseURL:c,params:d,query:e}=b||{query:{},params:{},baseURL:""},f=a.startsWith("http")?a.split("/").slice(0,3).join("/"):c||"";if(a.startsWith("@")){let b=a.toString().split("@")[1].split("/")[0];p$.includes(b)&&(a=a.replace(`@${b}/`,"/"))}f.endsWith("/")||(f+="/");let[g,h]=a.replace(f,"").split("?"),i=new URLSearchParams(h);for(let[a,b]of Object.entries(e||{})){let c;if(null!=b){if("string"==typeof b)c=b;else if(Array.isArray(b)){for(let c of b)i.append(a,c);continue}else c=JSON.stringify(b);i.set(a,c)}}if(d)if(Array.isArray(d))for(let[a,b]of g.split("/").filter(a=>a.startsWith(":")).entries()){let c=d[a];g=g.replace(b,c)}else for(let[a,b]of Object.entries(d))g=g.replace(`:${a}`,String(b));(g=g.split("/").map(encodeURIComponent).join("/")).startsWith("/")&&(g=g.slice(1));let j=i.toString();return(j=j.length>0?`?${j}`.replace(/\+/g,"%20"):"",f.startsWith("http"))?new URL(`${g}${j}`,f):`${f}${g}${j}`}(m,n),s=function(a){if(!(null==a?void 0:a.body))return null;let b=new Headers(null==a?void 0:a.headers);if(pV(a.body)&&!b.has("content-type")){for(let[b,c]of Object.entries(null==a?void 0:a.body))c instanceof Date&&(a.body[b]=c.toISOString());return JSON.stringify(a.body)}return b.has("content-type")&&"application/x-www-form-urlencoded"===b.get("content-type")&&pV(a.body)?new URLSearchParams(a.body).toString():a.body}(n),t=await pX(n),u=function(a,b){var c;if(null==b?void 0:b.method)return b.method.toUpperCase();if(a.startsWith("@")){let d=null==(c=a.split("@")[1])?void 0:c.split("/")[0];return p$.includes(d)?d.toUpperCase():(null==b?void 0:b.body)?"POST":"GET"}return(null==b?void 0:b.body)?"POST":"GET"}(m,n),v=pO(pN({},n),{url:r,headers:t,body:s,method:u,signal:q});for(let a of l.onRequest)if(a){let b=await a(v);"object"==typeof b&&null!==b&&(v=b)}("pipeTo"in v&&"function"==typeof v.pipeTo||"function"==typeof(null==(d=null==b?void 0:b.body)?void 0:d.pipe))&&!("duplex"in v)&&(v.duplex="half");let{clearTimeout:w}=(!(null==n?void 0:n.signal)&&(null==n?void 0:n.timeout)&&(k=setTimeout(()=>null==p?void 0:p.abort(),null==n?void 0:n.timeout)),{abortTimeout:k,clearTimeout:()=>{k&&clearTimeout(k)}}),x=await o(v.url,v);w();let y={response:x,request:v};for(let a of l.onResponse)if(a){let c=await a(pO(pN({},y),{response:(null==(e=null==b?void 0:b.hookOptions)?void 0:e.cloneResponse)?x.clone():x}));c instanceof Response?x=c:"object"==typeof c&&null!==c&&(x=c.response)}if(x.ok){if("HEAD"===v.method)return{data:"",error:null};let a=function(a){let b=a.headers.get("content-type"),c=new Set(["image/svg","application/xml","application/xhtml","application/html"]);if(!b)return"json";let d=b.split(";").shift()||"";return pU.test(d)?"json":c.has(d)||d.startsWith("text/")?"text":"blob"}(x),c={data:null,response:x,request:v};if("json"===a||"text"===a){let a=await x.text(),b=null!=(f=v.jsonParser)?f:pW;c.data=await b(a)}else c.data=await x[a]();for(let a of((null==v?void 0:v.output)&&v.output&&!v.disableValidation&&(c.data=await pZ(v.output,c.data)),l.onSuccess))a&&await a(pO(pN({},c),{response:(null==(g=null==b?void 0:b.hookOptions)?void 0:g.cloneResponse)?x.clone():x}));return(null==b?void 0:b.throw)?c.data:{data:c.data,error:null}}let z=null!=(h=null==b?void 0:b.jsonParser)?h:pW,A=await x.text(),B=function(a){try{return JSON.parse(a),!0}catch(a){return!1}}(A),C=B?await z(A):null,D={response:x,responseText:A,request:v,error:pO(pN({},C),{status:x.status,statusText:x.statusText})};for(let a of l.onError)a&&await a(pO(pN({},D),{response:(null==(i=null==b?void 0:b.hookOptions)?void 0:i.cloneResponse)?x.clone():x}));if(null==b?void 0:b.retry){let c=function(a){if("number"==typeof a)return new pR({type:"linear",attempts:a,delay:1e3});switch(a.type){case"linear":return new pR(a);case"exponential":return new pS(a);default:throw Error("Invalid retry strategy")}}(b.retry),d=null!=(j=b.retryAttempt)?j:0;if(await c.shouldAttemptRetry(d,x)){for(let a of l.onRetry)a&&await a(y);let e=c.getDelay(d);return await new Promise(a=>setTimeout(a,e)),await p_(a,pO(pN({},b),{retryAttempt:d+1}))}}if(null==b?void 0:b.throw)throw new pP(x.status,x.statusText,B?C:A);return{data:null,error:pO(pN({},C),{status:x.status,statusText:x.statusText})}};function p0(a){return bt(a)}class p1{#p;#q=new WeakMap;constructor(a){if(!function(a){return a&&"object"==typeof a&&Array.isArray(a.keys)&&a.keys.every(p0)}(a))throw new aT("JSON Web Key Set malformed");this.#p=structuredClone(a)}jwks(){return this.#p}async getKey(a,b){let{alg:c,kid:d}={...a,...b?.header},e=function(a){switch("string"==typeof a&&a.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";case"ML":return"AKP";default:throw new aN('Unsupported "alg" value for a JSON Web Key Set')}}(c),f=this.#p.keys.filter(a=>{let b=e===a.kty;if(b&&"string"==typeof d&&(b=d===a.kid),b&&("string"==typeof a.alg||"AKP"===e)&&(b=c===a.alg),b&&"string"==typeof a.use&&(b="sig"===a.use),b&&Array.isArray(a.key_ops)&&(b=a.key_ops.includes("verify")),b)switch(c){case"ES256":b="P-256"===a.crv;break;case"ES384":b="P-384"===a.crv;break;case"ES512":b="P-521"===a.crv;break;case"Ed25519":case"EdDSA":b="Ed25519"===a.crv}return b}),{0:g,length:h}=f;if(0===h)throw new aU;if(1!==h){let a=new aV,b=this.#q;throw a[Symbol.asyncIterator]=async function*(){for(let a of f)try{yield await p2(b,a,c)}catch{}},a}return p2(this.#q,g,c)}}async function p2(a,b,c){let d=a.get(b)||a.set(b,{}).get(b);if(void 0===d[c]){let a=await b5({...b,ext:!0},c);if(a instanceof Uint8Array||"public"!==a.type)throw new aT("JSON Web Key Set members must be public keys");d[c]=a}return d[c]}function p3(a){let b=new p1(a),c=async(a,c)=>b.getKey(a,c);return Object.defineProperties(c,{jwks:{value:()=>structuredClone(b.jwks()),enumerable:!1,configurable:!1,writable:!1}}),c}function p4(a){let b;if("string"==typeof a){let c=a.split(".");(3===c.length||5===c.length)&&([b]=c)}else if("object"==typeof a&&a)if("protected"in a)b=a.protected;else throw TypeError("Token does not contain a Protected Header");try{if("string"!=typeof b||!b)throw Error();let a=JSON.parse(aA.decode(aG(b)));if(!bt(a))throw Error();return a}catch{throw TypeError("Invalid Token or Protected Header formatting")}}function p5(a){let b=a=>new Date(new Date().getTime()+1e3*a);return{tokenType:a.token_type,accessToken:a.access_token,refreshToken:a.refresh_token,accessTokenExpiresAt:a.expires_in?b(a.expires_in):void 0,refreshTokenExpiresAt:a.refresh_token_expires_in?b(a.refresh_token_expires_in):void 0,scopes:a?.scope?"string"==typeof a.scope?a.scope.split(" "):a.scope:[],idToken:a.id_token,raw:a}}async function p6(a){let b=new TextEncoder().encode(a),c=await crypto.subtle.digest("SHA-256",b);return cC.encode(new Uint8Array(c),{padding:!1})}async function p7({id:a,options:b,authorizationEndpoint:c,state:d,codeVerifier:e,scopes:f,claims:g,redirectURI:h,duration:i,prompt:j,accessType:k,responseType:l,display:m,loginHint:n,hd:o,responseMode:p,additionalParams:q,scopeJoiner:r}){let s=new URL(c);s.searchParams.set("response_type",l||"code");let t=Array.isArray(b.clientId)?b.clientId[0]:b.clientId;if(s.searchParams.set("client_id",t),s.searchParams.set("state",d),f&&s.searchParams.set("scope",f.join(r||" ")),s.searchParams.set("redirect_uri",b.redirectURI||h),i&&s.searchParams.set("duration",i),m&&s.searchParams.set("display",m),n&&s.searchParams.set("login_hint",n),j&&s.searchParams.set("prompt",j),o&&s.searchParams.set("hd",o),k&&s.searchParams.set("access_type",k),p&&s.searchParams.set("response_mode",p),e){let a=await p6(e);s.searchParams.set("code_challenge_method","S256"),s.searchParams.set("code_challenge",a)}if(g){let a=g.reduce((a,b)=>(a[b]=null,a),{});s.searchParams.set("claims",JSON.stringify({id_token:{email:null,email_verified:null,...a}}))}return q&&Object.entries(q).forEach(([a,b])=>{s.searchParams.set(a,b)}),s}async function p8({refreshToken:a,options:b,tokenEndpoint:c,authentication:d,extraParams:e}){let{body:f,headers:g}=function({refreshToken:a,options:b,authentication:c,extraParams:d,resource:e}){let f=new URLSearchParams,g={"content-type":"application/x-www-form-urlencoded",accept:"application/json"};if(f.set("grant_type","refresh_token"),f.set("refresh_token",a),"basic"===c){let a=Array.isArray(b.clientId)?b.clientId[0]:b.clientId;a?g.authorization="Basic "+cB.encode(`${a}:${b.clientSecret??""}`):g.authorization="Basic "+cB.encode(`:${b.clientSecret??""}`)}else{let a=Array.isArray(b.clientId)?b.clientId[0]:b.clientId;f.set("client_id",a),b.clientSecret&&f.set("client_secret",b.clientSecret)}if(e)if("string"==typeof e)f.append("resource",e);else for(let a of e)f.append("resource",a);if(d)for(let[a,b]of Object.entries(d))f.set(a,b);return{body:f,headers:g}}({refreshToken:a,options:b,authentication:d,extraParams:e}),{data:h,error:i}=await p_(c,{method:"POST",body:f,headers:g});if(i)throw i;let j={accessToken:h.access_token,refreshToken:h.refresh_token,tokenType:h.token_type,scopes:h.scope?.split(" "),idToken:h.id_token};return h.expires_in&&(j.accessTokenExpiresAt=new Date(new Date().getTime()+1e3*h.expires_in)),j}async function p9({code:a,codeVerifier:b,redirectURI:c,options:d,tokenEndpoint:e,authentication:f,deviceId:g,headers:h,additionalParams:i={},resource:j}){let{body:k,headers:l}=function({code:a,codeVerifier:b,redirectURI:c,options:d,authentication:e,deviceId:f,headers:g,additionalParams:h={},resource:i}){let j=new URLSearchParams,k={"content-type":"application/x-www-form-urlencoded",accept:"application/json",...g};if(j.set("grant_type","authorization_code"),j.set("code",a),b&&j.set("code_verifier",b),d.clientKey&&j.set("client_key",d.clientKey),f&&j.set("device_id",f),j.set("redirect_uri",d.redirectURI||c),i)if("string"==typeof i)j.append("resource",i);else for(let a of i)j.append("resource",a);if("basic"===e){let a=Array.isArray(d.clientId)?d.clientId[0]:d.clientId;k.authorization=`Basic ${cB.encode(`${a}:${d.clientSecret??""}`)}`}else{let a=Array.isArray(d.clientId)?d.clientId[0]:d.clientId;j.set("client_id",a),d.clientSecret&&j.set("client_secret",d.clientSecret)}for(let[a,b]of Object.entries(h))j.has(a)||j.append(a,b);return{body:j,headers:k}}({code:a,codeVerifier:b,redirectURI:c,options:d,authentication:f,deviceId:g,headers:h,additionalParams:i,resource:j}),{data:m,error:n}=await p_(e,{method:"POST",body:k,headers:l});if(n)throw n;return p5(m)}"undefined"!=typeof navigator&&navigator.userAgent?.startsWith?.("Mozilla/5.0 ")||(c="jose/v6.1.3");let qa=Symbol();async function qb(a,b,c,d=fetch){let e=await d(a,{method:"GET",signal:c,redirect:"manual",headers:b}).catch(a=>{if("TimeoutError"===a.name)throw new aW;throw a});if(200!==e.status)throw new aJ("Expected 200 OK from the JSON Web Key Set HTTP response");try{return await e.json()}catch{throw new aJ("Failed to parse the JSON Web Key Set HTTP response as JSON")}}let qc=Symbol();class qd{#r;#s;#t;#u;#v;#w;#x;#y;#z;#A;constructor(a,b){if(!(a instanceof URL))throw TypeError("url must be an instance of URL");this.#r=new URL(a.href),this.#s="number"==typeof b?.timeoutDuration?b?.timeoutDuration:5e3,this.#t="number"==typeof b?.cooldownDuration?b?.cooldownDuration:3e4,this.#u="number"==typeof b?.cacheMaxAge?b?.cacheMaxAge:6e5,this.#x=new Headers(b?.headers),c&&!this.#x.has("User-Agent")&&this.#x.set("User-Agent",c),this.#x.has("accept")||(this.#x.set("accept","application/json"),this.#x.append("accept","application/jwk-set+json")),this.#y=b?.[qa],b?.[qc]!==void 0&&(this.#A=b?.[qc],function(a,b){return!("object"!=typeof a||null===a||!("uat"in a)||"number"!=typeof a.uat||Date.now()-a.uat>=b)&&"jwks"in a&&!!bt(a.jwks)&&!!Array.isArray(a.jwks.keys)&&!!Array.prototype.every.call(a.jwks.keys,bt)}(b?.[qc],this.#u)&&(this.#v=this.#A.uat,this.#z=p3(this.#A.jwks)))}pendingFetch(){return!!this.#w}coolingDown(){return"number"==typeof this.#v&&Date.now()<this.#v+this.#t}fresh(){return"number"==typeof this.#v&&Date.now()<this.#v+this.#u}jwks(){return this.#z?.jwks()}async getKey(a,b){this.#z&&this.fresh()||await this.reload();try{return await this.#z(a,b)}catch(c){if(c instanceof aU&&!1===this.coolingDown())return await this.reload(),this.#z(a,b);throw c}}async reload(){this.#w&&("undefined"!=typeof WebSocketPair||"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||"undefined"!=typeof EdgeRuntime&&"vercel"===EdgeRuntime)&&(this.#w=void 0),this.#w||=qb(this.#r.href,this.#x,AbortSignal.timeout(this.#s),this.#y).then(a=>{this.#z=p3(a),this.#A&&(this.#A.uat=Date.now(),this.#A.jwks=a),this.#v=Date.now(),this.#w=void 0}).catch(a=>{throw this.#w=void 0,a}),await this.#w}}function qe(a){let b,c;if("string"!=typeof a)throw new aR("JWTs must use Compact JWS serialization, JWT must be a string");let{1:d,length:e}=a.split(".");if(5===e)throw new aR("Only JWTs using Compact JWS serialization can be decoded");if(3!==e)throw new aR("Invalid JWT");if(!d)throw new aR("JWTs must contain a payload");try{b=aG(d)}catch{throw new aR("Failed to base64url decode the payload")}try{c=JSON.parse(aA.decode(b))}catch{throw new aR("Failed to parse the decoded payload as JSON")}if(!bt(c))throw new aR("Invalid JWT Claims Set");return c}let qf=async a=>{let{data:b}=await p_("https://appleid.apple.com/auth/keys");if(!b?.keys)throw new nA("BAD_REQUEST",{message:"Keys not found"});let c=b.keys.find(b=>b.kid===a);if(!c)throw Error(`JWK with kid ${a} not found`);return await b5(c,c.alg)},qg=async(a,b,c)=>{let d=`https://cognito-idp.${b}.amazonaws.com/${c}/.well-known/jwks.json`;try{let{data:b}=await p_(d);if(!b?.keys)throw new nA("BAD_REQUEST",{message:"Keys not found"});let c=b.keys.find(b=>b.kid===a);if(!c)throw Error(`JWK with kid ${a} not found`);return await b5(c,c.alg)}catch(a){throw cl.i.error("Failed to fetch Cognito public key:",a),a}},qh=(a="")=>a.split("://").map(a=>a.replace(/\/{2,}/g,"/")).join("://"),qi=async a=>{let{data:b}=await p_("https://www.googleapis.com/oauth2/v3/certs");if(!b?.keys)throw new nA("BAD_REQUEST",{message:"Keys not found"});let c=b.keys.find(b=>b.kid===a);if(!c)throw Error(`JWK with kid ${a} not found`);return await b5(c,c.alg)},qj={apple:a=>({id:"apple",name:"Apple",async createAuthorizationURL({state:b,scopes:c,redirectURI:d}){let e=a.disableDefaultScope?[]:["email","name"];return a.scope&&e.push(...a.scope),c&&e.push(...c),await p7({id:"apple",options:a,authorizationEndpoint:"https://appleid.apple.com/auth/authorize",scopes:e,state:b,redirectURI:d,responseMode:"form_post",responseType:"code id_token"})},validateAuthorizationCode:async({code:b,codeVerifier:c,redirectURI:d})=>p9({code:b,codeVerifier:c,redirectURI:d,options:a,tokenEndpoint:"https://appleid.apple.com/auth/token"}),async verifyIdToken(b,c){if(a.disableIdTokenSignIn)return!1;if(a.verifyIdToken)return a.verifyIdToken(b,c);let{kid:d,alg:e}=p4(b);if(!d||!e)return!1;let{payload:f}=await ce(b,await qf(d),{algorithms:[e],issuer:"https://appleid.apple.com",audience:a.audience&&a.audience.length?a.audience:a.appBundleIdentifier?a.appBundleIdentifier:a.clientId,maxTokenAge:"1h"});return["email_verified","is_private_email"].forEach(a=>{void 0!==f[a]&&(f[a]=!!f[a])}),(!c||f.nonce===c)&&!!f},refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>p8({refreshToken:b,options:{clientId:a.clientId,clientKey:a.clientKey,clientSecret:a.clientSecret},tokenEndpoint:"https://appleid.apple.com/auth/token"}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);if(!b.idToken)return null;let c=qe(b.idToken);if(!c)return null;let d=b.user?`${b.user.name?.firstName} ${b.user.name?.lastName}`:c.name||c.email,e="boolean"==typeof c.email_verified?c.email_verified:"true"===c.email_verified,f={...c,name:d},g=await a.mapProfileToUser?.(f);return{user:{id:c.sub,name:f.name,emailVerified:e,email:c.email,...g},data:f}},options:a}),atlassian:a=>({id:"atlassian",name:"Atlassian",async createAuthorizationURL({state:b,scopes:c,codeVerifier:d,redirectURI:e}){if(!a.clientId||!a.clientSecret)throw cl.i.error("Client Id and Secret are required for Atlassian"),new cn.t("CLIENT_ID_AND_SECRET_REQUIRED");if(!d)throw new cn.t("codeVerifier is required for Atlassian");let f=a.disableDefaultScope?[]:["read:jira-user","offline_access"];return a.scope&&f.push(...a.scope),c&&f.push(...c),p7({id:"atlassian",options:a,authorizationEndpoint:"https://auth.atlassian.com/authorize",scopes:f,state:b,codeVerifier:d,redirectURI:e,additionalParams:{audience:"api.atlassian.com"},prompt:a.prompt})},validateAuthorizationCode:async({code:b,codeVerifier:c,redirectURI:d})=>p9({code:b,codeVerifier:c,redirectURI:d,options:a,tokenEndpoint:"https://auth.atlassian.com/oauth/token"}),refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>p8({refreshToken:b,options:{clientId:a.clientId,clientSecret:a.clientSecret},tokenEndpoint:"https://auth.atlassian.com/oauth/token"}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);if(!b.accessToken)return null;try{let{data:c}=await p_("https://api.atlassian.com/me",{headers:{Authorization:`Bearer ${b.accessToken}`}});if(!c)return null;let d=await a.mapProfileToUser?.(c);return{user:{id:c.account_id,name:c.name,email:c.email,image:c.picture,emailVerified:!1,...d},data:c}}catch(a){return cl.i.error("Failed to fetch user info from Figma:",a),null}},options:a}),cognito:a=>{if(!a.domain||!a.region||!a.userPoolId)throw cl.i.error("Domain, region and userPoolId are required for Amazon Cognito. Make sure to provide them in the options."),new cn.t("DOMAIN_AND_REGION_REQUIRED");let b=a.domain.replace(/^https?:\/\//,""),c=`https://${b}/oauth2/authorize`,d=`https://${b}/oauth2/token`,e=`https://${b}/oauth2/userinfo`;return{id:"cognito",name:"Cognito",async createAuthorizationURL({state:b,scopes:d,codeVerifier:e,redirectURI:f}){if(!a.clientId)throw cl.i.error("ClientId is required for Amazon Cognito. Make sure to provide them in the options."),new cn.t("CLIENT_ID_AND_SECRET_REQUIRED");if(a.requireClientSecret&&!a.clientSecret)throw cl.i.error("Client Secret is required when requireClientSecret is true. Make sure to provide it in the options."),new cn.t("CLIENT_SECRET_REQUIRED");let g=a.disableDefaultScope?[]:["openid","profile","email"];a.scope&&g.push(...a.scope),d&&g.push(...d);let h=await p7({id:"cognito",options:{...a},authorizationEndpoint:c,scopes:g,state:b,codeVerifier:e,redirectURI:f,prompt:a.prompt}),i=h.searchParams.get("scope");if(i){h.searchParams.delete("scope");let a=encodeURIComponent(i),b=h.toString(),c=b.includes("?")?"&":"?";return new URL(`${b}${c}scope=${a}`)}return h},validateAuthorizationCode:async({code:b,codeVerifier:c,redirectURI:e})=>p9({code:b,codeVerifier:c,redirectURI:e,options:a,tokenEndpoint:d}),refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>p8({refreshToken:b,options:{clientId:a.clientId,clientKey:a.clientKey,clientSecret:a.clientSecret},tokenEndpoint:d}),async verifyIdToken(b,c){if(a.disableIdTokenSignIn)return!1;if(a.verifyIdToken)return a.verifyIdToken(b,c);try{let{kid:d,alg:e}=p4(b);if(!d||!e)return!1;let f=await qg(d,a.region,a.userPoolId),g=`https://cognito-idp.${a.region}.amazonaws.com/${a.userPoolId}`,{payload:h}=await ce(b,f,{algorithms:[e],issuer:g,audience:a.clientId,maxTokenAge:"1h"});if(c&&h.nonce!==c)return!1;return!0}catch(a){return cl.i.error("Failed to verify ID token:",a),!1}},async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);if(b.idToken)try{let c=qe(b.idToken);if(!c)return null;let d=c.name||c.given_name||c.username||c.email,e={...c,name:d},f=await a.mapProfileToUser?.(e);return{user:{id:c.sub,name:e.name,email:c.email,image:c.picture,emailVerified:c.email_verified,...f},data:e}}catch(a){cl.i.error("Failed to decode ID token:",a)}if(b.accessToken)try{let{data:c}=await p_(e,{headers:{Authorization:`Bearer ${b.accessToken}`}});if(c){let b=await a.mapProfileToUser?.(c);return{user:{id:c.sub,name:c.name||c.given_name||c.username,email:c.email,image:c.picture,emailVerified:c.email_verified,...b},data:c}}}catch(a){cl.i.error("Failed to fetch user info from Cognito:",a)}return null},options:a}},discord:a=>({id:"discord",name:"Discord",createAuthorizationURL({state:b,scopes:c,redirectURI:d}){let e=a.disableDefaultScope?[]:["identify","email"];c&&e.push(...c),a.scope&&e.push(...a.scope);let f=e.includes("bot")&&void 0!==a.permissions?`&permissions=${a.permissions}`:"";return new URL(`https://discord.com/api/oauth2/authorize?scope=${e.join("+")}&response_type=code&client_id=${a.clientId}&redirect_uri=${encodeURIComponent(a.redirectURI||d)}&state=${b}&prompt=${a.prompt||"none"}${f}`)},validateAuthorizationCode:async({code:b,redirectURI:c})=>p9({code:b,redirectURI:c,options:a,tokenEndpoint:"https://discord.com/api/oauth2/token"}),refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>p8({refreshToken:b,options:{clientId:a.clientId,clientKey:a.clientKey,clientSecret:a.clientSecret},tokenEndpoint:"https://discord.com/api/oauth2/token"}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);let{data:c,error:d}=await p_("https://discord.com/api/users/@me",{headers:{authorization:`Bearer ${b.accessToken}`}});if(d)return null;if(null===c.avatar)c.image_url=`https://cdn.discordapp.com/embed/avatars/${"0"===c.discriminator?Number(BigInt(c.id)>>BigInt(22))%6:parseInt(c.discriminator)%5}.png`;else{let a=c.avatar.startsWith("a_")?"gif":"png";c.image_url=`https://cdn.discordapp.com/avatars/${c.id}/${c.avatar}.${a}`}let e=await a.mapProfileToUser?.(c);return{user:{id:c.id,name:c.global_name||c.username||"",email:c.email,emailVerified:c.verified,image:c.image_url,...e},data:c}},options:a}),facebook:a=>({id:"facebook",name:"Facebook",async createAuthorizationURL({state:b,scopes:c,redirectURI:d,loginHint:e}){let f=a.disableDefaultScope?[]:["email","public_profile"];return a.scope&&f.push(...a.scope),c&&f.push(...c),await p7({id:"facebook",options:a,authorizationEndpoint:"https://www.facebook.com/v21.0/dialog/oauth",scopes:f,state:b,redirectURI:d,loginHint:e,additionalParams:a.configId?{config_id:a.configId}:{}})},validateAuthorizationCode:async({code:b,redirectURI:c})=>p9({code:b,redirectURI:c,options:a,tokenEndpoint:"https://graph.facebook.com/oauth/access_token"}),async verifyIdToken(b,c){if(a.disableIdTokenSignIn)return!1;if(a.verifyIdToken)return a.verifyIdToken(b,c);if(3===b.split(".").length)try{var d;let e,f,{payload:g}=await ce(b,(d=new URL("https://limited.facebook.com/.well-known/oauth/openid/jwks/"),e=new qd(d,void 0),f=async(a,b)=>e.getKey(a,b),Object.defineProperties(f,{coolingDown:{get:()=>e.coolingDown(),enumerable:!0,configurable:!1},fresh:{get:()=>e.fresh(),enumerable:!0,configurable:!1},reload:{value:()=>e.reload(),enumerable:!0,configurable:!1,writable:!1},reloading:{get:()=>e.pendingFetch(),enumerable:!0,configurable:!1},jwks:{value:()=>e.jwks(),enumerable:!0,configurable:!1,writable:!1}}),f),{algorithms:["RS256"],audience:a.clientId,issuer:"https://www.facebook.com"});if(c&&g.nonce!==c)return!1;return!!g}catch{return!1}return!0},refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>p8({refreshToken:b,options:{clientId:a.clientId,clientKey:a.clientKey,clientSecret:a.clientSecret},tokenEndpoint:"https://graph.facebook.com/v18.0/oauth/access_token"}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);if(b.idToken&&3===b.idToken.split(".").length){let c=qe(b.idToken),d={id:c.sub,name:c.name,email:c.email,picture:{data:{url:c.picture,height:100,width:100,is_silhouette:!1}}},e=await a.mapProfileToUser?.({...d,email_verified:!1});return{user:{...d,emailVerified:!1,...e},data:c}}let{data:c,error:d}=await p_("https://graph.facebook.com/me?fields="+["id","name","email","picture",...a?.fields||[]].join(","),{auth:{type:"Bearer",token:b.accessToken}});if(d)return null;let e=await a.mapProfileToUser?.(c);return{user:{id:c.id,name:c.name,email:c.email,image:c.picture.data.url,emailVerified:c.email_verified,...e},data:c}},options:a}),figma:a=>({id:"figma",name:"Figma",async createAuthorizationURL({state:b,scopes:c,codeVerifier:d,redirectURI:e}){if(!a.clientId||!a.clientSecret)throw cl.i.error("Client Id and Client Secret are required for Figma. Make sure to provide them in the options."),new cn.t("CLIENT_ID_AND_SECRET_REQUIRED");if(!d)throw new cn.t("codeVerifier is required for Figma");let f=a.disableDefaultScope?[]:["file_read"];return a.scope&&f.push(...a.scope),c&&f.push(...c),await p7({id:"figma",options:a,authorizationEndpoint:"https://www.figma.com/oauth",scopes:f,state:b,codeVerifier:d,redirectURI:e})},validateAuthorizationCode:async({code:b,codeVerifier:c,redirectURI:d})=>p9({code:b,codeVerifier:c,redirectURI:d,options:a,tokenEndpoint:"https://www.figma.com/api/oauth/token"}),refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>p8({refreshToken:b,options:{clientId:a.clientId,clientKey:a.clientKey,clientSecret:a.clientSecret},tokenEndpoint:"https://www.figma.com/api/oauth/token"}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);try{let{data:c}=await p_("https://api.figma.com/v1/me",{headers:{Authorization:`Bearer ${b.accessToken}`}});if(!c)return cl.i.error("Failed to fetch user from Figma"),null;let d=await a.mapProfileToUser?.(c);return{user:{id:c.id,name:c.handle,email:c.email,image:c.img_url,emailVerified:!1,...d},data:c}}catch(a){return cl.i.error("Failed to fetch user info from Figma:",a),null}},options:a}),github:a=>({id:"github",name:"GitHub",createAuthorizationURL({state:b,scopes:c,loginHint:d,codeVerifier:e,redirectURI:f}){let g=a.disableDefaultScope?[]:["read:user","user:email"];return a.scope&&g.push(...a.scope),c&&g.push(...c),p7({id:"github",options:a,authorizationEndpoint:"https://github.com/login/oauth/authorize",scopes:g,state:b,codeVerifier:e,redirectURI:f,loginHint:d,prompt:a.prompt})},validateAuthorizationCode:async({code:b,codeVerifier:c,redirectURI:d})=>p9({code:b,codeVerifier:c,redirectURI:d,options:a,tokenEndpoint:"https://github.com/login/oauth/access_token"}),refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>p8({refreshToken:b,options:{clientId:a.clientId,clientKey:a.clientKey,clientSecret:a.clientSecret},tokenEndpoint:"https://github.com/login/oauth/access_token"}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);let{data:c,error:d}=await p_("https://api.github.com/user",{headers:{"User-Agent":"better-auth",authorization:`Bearer ${b.accessToken}`}});if(d)return null;let{data:e}=await p_("https://api.github.com/user/emails",{headers:{Authorization:`Bearer ${b.accessToken}`,"User-Agent":"better-auth"}});!c.email&&e&&(c.email=(e.find(a=>a.primary)??e[0])?.email);let f=e?.find(a=>a.email===c.email)?.verified??!1,g=await a.mapProfileToUser?.(c);return{user:{id:c.id,name:c.name||c.login,email:c.email,image:c.avatar_url,emailVerified:f,...g},data:c}},options:a}),microsoft:a=>{let b=a.tenantId||"common",c=a.authority||"https://login.microsoftonline.com",d=`${c}/${b}/oauth2/v2.0/authorize`,e=`${c}/${b}/oauth2/v2.0/token`;return{id:"microsoft",name:"Microsoft EntraID",createAuthorizationURL(b){let c=a.disableDefaultScope?[]:["openid","profile","email","User.Read","offline_access"];return a.scope&&c.push(...a.scope),b.scopes&&c.push(...b.scopes),p7({id:"microsoft",options:a,authorizationEndpoint:d,state:b.state,codeVerifier:b.codeVerifier,scopes:c,redirectURI:b.redirectURI,prompt:a.prompt,loginHint:b.loginHint})},validateAuthorizationCode:({code:b,codeVerifier:c,redirectURI:d})=>p9({code:b,codeVerifier:c,redirectURI:d,options:a,tokenEndpoint:e}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);if(!b.idToken)return null;let c=qe(b.idToken),d=a.profilePhotoSize||48;await p_(`https://graph.microsoft.com/v1.0/me/photos/${d}x${d}/$value`,{headers:{Authorization:`Bearer ${b.accessToken}`},async onResponse(b){if(!a.disableProfilePhoto&&b.response.ok)try{let a=await b.response.clone().arrayBuffer();c.picture=`data:image/jpeg;base64, ${cB.encode(a)}`}catch(a){cl.i.error(a&&"object"==typeof a&&"name"in a?a.name:"",a)}}});let e=await a.mapProfileToUser?.(c),f=void 0!==c.email_verified?c.email_verified:!!(c.email&&(c.verified_primary_email?.includes(c.email)||c.verified_secondary_email?.includes(c.email)));return{user:{id:c.sub,name:c.name,email:c.email,image:c.picture,emailVerified:f,...e},data:c}},refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>{let c=a.disableDefaultScope?[]:["openid","profile","email","User.Read","offline_access"];return a.scope&&c.push(...a.scope),p8({refreshToken:b,options:{clientId:a.clientId,clientSecret:a.clientSecret},extraParams:{scope:c.join(" ")},tokenEndpoint:e})},options:a}},google:a=>({id:"google",name:"Google",async createAuthorizationURL({state:b,scopes:c,codeVerifier:d,redirectURI:e,loginHint:f,display:g}){if(!a.clientId||!a.clientSecret)throw cl.i.error("Client Id and Client Secret is required for Google. Make sure to provide them in the options."),new cn.t("CLIENT_ID_AND_SECRET_REQUIRED");if(!d)throw new cn.t("codeVerifier is required for Google");let h=a.disableDefaultScope?[]:["email","profile","openid"];return a.scope&&h.push(...a.scope),c&&h.push(...c),await p7({id:"google",options:a,authorizationEndpoint:"https://accounts.google.com/o/oauth2/auth",scopes:h,state:b,codeVerifier:d,redirectURI:e,prompt:a.prompt,accessType:a.accessType,display:g||a.display,loginHint:f,hd:a.hd,additionalParams:{include_granted_scopes:"true"}})},validateAuthorizationCode:async({code:b,codeVerifier:c,redirectURI:d})=>p9({code:b,codeVerifier:c,redirectURI:d,options:a,tokenEndpoint:"https://oauth2.googleapis.com/token"}),refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>p8({refreshToken:b,options:{clientId:a.clientId,clientKey:a.clientKey,clientSecret:a.clientSecret},tokenEndpoint:"https://www.googleapis.com/oauth2/v4/token"}),async verifyIdToken(b,c){if(a.disableIdTokenSignIn)return!1;if(a.verifyIdToken)return a.verifyIdToken(b,c);let{kid:d,alg:e}=p4(b);if(!d||!e)return!1;let{payload:f}=await ce(b,await qi(d),{algorithms:[e],issuer:["https://accounts.google.com","accounts.google.com"],audience:a.clientId,maxTokenAge:"1h"});return!c||f.nonce===c},async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);if(!b.idToken)return null;let c=qe(b.idToken),d=await a.mapProfileToUser?.(c);return{user:{id:c.sub,name:c.name,email:c.email,image:c.picture,emailVerified:c.email_verified,...d},data:c}},options:a}),huggingface:a=>({id:"huggingface",name:"Hugging Face",createAuthorizationURL({state:b,scopes:c,codeVerifier:d,redirectURI:e}){let f=a.disableDefaultScope?[]:["openid","profile","email"];return a.scope&&f.push(...a.scope),c&&f.push(...c),p7({id:"huggingface",options:a,authorizationEndpoint:"https://huggingface.co/oauth/authorize",scopes:f,state:b,codeVerifier:d,redirectURI:e})},validateAuthorizationCode:async({code:b,codeVerifier:c,redirectURI:d})=>p9({code:b,codeVerifier:c,redirectURI:d,options:a,tokenEndpoint:"https://huggingface.co/oauth/token"}),refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>p8({refreshToken:b,options:{clientId:a.clientId,clientKey:a.clientKey,clientSecret:a.clientSecret},tokenEndpoint:"https://huggingface.co/oauth/token"}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);let{data:c,error:d}=await p_("https://huggingface.co/oauth/userinfo",{method:"GET",headers:{Authorization:`Bearer ${b.accessToken}`}});if(d)return null;let e=await a.mapProfileToUser?.(c);return{user:{id:c.sub,name:c.name||c.preferred_username,email:c.email,image:c.picture,emailVerified:c.email_verified??!1,...e},data:c}},options:a}),slack:a=>({id:"slack",name:"Slack",createAuthorizationURL({state:b,scopes:c,redirectURI:d}){let e=a.disableDefaultScope?[]:["openid","profile","email"];c&&e.push(...c),a.scope&&e.push(...a.scope);let f=new URL("https://slack.com/openid/connect/authorize");return f.searchParams.set("scope",e.join(" ")),f.searchParams.set("response_type","code"),f.searchParams.set("client_id",a.clientId),f.searchParams.set("redirect_uri",a.redirectURI||d),f.searchParams.set("state",b),f},validateAuthorizationCode:async({code:b,redirectURI:c})=>p9({code:b,redirectURI:c,options:a,tokenEndpoint:"https://slack.com/api/openid.connect.token"}),refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>p8({refreshToken:b,options:{clientId:a.clientId,clientKey:a.clientKey,clientSecret:a.clientSecret},tokenEndpoint:"https://slack.com/api/openid.connect.token"}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);let{data:c,error:d}=await p_("https://slack.com/api/openid.connect.userInfo",{headers:{authorization:`Bearer ${b.accessToken}`}});if(d)return null;let e=await a.mapProfileToUser?.(c);return{user:{id:c["https://slack.com/user_id"],name:c.name||"",email:c.email,emailVerified:c.email_verified,image:c.picture||c["https://slack.com/user_image_512"],...e},data:c}},options:a}),spotify:a=>({id:"spotify",name:"Spotify",createAuthorizationURL({state:b,scopes:c,codeVerifier:d,redirectURI:e}){let f=a.disableDefaultScope?[]:["user-read-email"];return a.scope&&f.push(...a.scope),c&&f.push(...c),p7({id:"spotify",options:a,authorizationEndpoint:"https://accounts.spotify.com/authorize",scopes:f,state:b,codeVerifier:d,redirectURI:e})},validateAuthorizationCode:async({code:b,codeVerifier:c,redirectURI:d})=>p9({code:b,codeVerifier:c,redirectURI:d,options:a,tokenEndpoint:"https://accounts.spotify.com/api/token"}),refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>p8({refreshToken:b,options:{clientId:a.clientId,clientKey:a.clientKey,clientSecret:a.clientSecret},tokenEndpoint:"https://accounts.spotify.com/api/token"}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);let{data:c,error:d}=await p_("https://api.spotify.com/v1/me",{method:"GET",headers:{Authorization:`Bearer ${b.accessToken}`}});if(d)return null;let e=await a.mapProfileToUser?.(c);return{user:{id:c.id,name:c.display_name,email:c.email,image:c.images[0]?.url,emailVerified:!1,...e},data:c}},options:a}),twitch:a=>({id:"twitch",name:"Twitch",createAuthorizationURL({state:b,scopes:c,redirectURI:d}){let e=a.disableDefaultScope?[]:["user:read:email","openid"];return a.scope&&e.push(...a.scope),c&&e.push(...c),p7({id:"twitch",redirectURI:d,options:a,authorizationEndpoint:"https://id.twitch.tv/oauth2/authorize",scopes:e,state:b,claims:a.claims||["email","email_verified","preferred_username","picture"]})},validateAuthorizationCode:async({code:b,redirectURI:c})=>p9({code:b,redirectURI:c,options:a,tokenEndpoint:"https://id.twitch.tv/oauth2/token"}),refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>p8({refreshToken:b,options:{clientId:a.clientId,clientKey:a.clientKey,clientSecret:a.clientSecret},tokenEndpoint:"https://id.twitch.tv/oauth2/token"}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);let c=b.idToken;if(!c)return cl.i.error("No idToken found in token"),null;let d=qe(c),e=await a.mapProfileToUser?.(d);return{user:{id:d.sub,name:d.preferred_username,email:d.email,image:d.picture,emailVerified:d.email_verified,...e},data:d}},options:a}),twitter:a=>({id:"twitter",name:"Twitter",createAuthorizationURL(b){let c=a.disableDefaultScope?[]:["users.read","tweet.read","offline.access","users.email"];return a.scope&&c.push(...a.scope),b.scopes&&c.push(...b.scopes),p7({id:"twitter",options:a,authorizationEndpoint:"https://x.com/i/oauth2/authorize",scopes:c,state:b.state,codeVerifier:b.codeVerifier,redirectURI:b.redirectURI})},validateAuthorizationCode:async({code:b,codeVerifier:c,redirectURI:d})=>p9({code:b,codeVerifier:c,authentication:"basic",redirectURI:d,options:a,tokenEndpoint:"https://api.x.com/2/oauth2/token"}),refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>p8({refreshToken:b,options:{clientId:a.clientId,clientKey:a.clientKey,clientSecret:a.clientSecret},authentication:"basic",tokenEndpoint:"https://api.x.com/2/oauth2/token"}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);let{data:c,error:d}=await p_("https://api.x.com/2/users/me?user.fields=profile_image_url",{method:"GET",headers:{Authorization:`Bearer ${b.accessToken}`}});if(d)return null;let{data:e,error:f}=await p_("https://api.x.com/2/users/me?user.fields=confirmed_email",{method:"GET",headers:{Authorization:`Bearer ${b.accessToken}`}}),g=!1;!f&&e?.data?.confirmed_email&&(c.data.email=e.data.confirmed_email,g=!0);let h=await a.mapProfileToUser?.(c);return{user:{id:c.data.id,name:c.data.name,email:c.data.email||c.data.username||null,image:c.data.profile_image_url,emailVerified:g,...h},data:c}},options:a}),dropbox:a=>({id:"dropbox",name:"Dropbox",createAuthorizationURL:async({state:b,scopes:c,codeVerifier:d,redirectURI:e})=>{let f=a.disableDefaultScope?[]:["account_info.read"];a.scope&&f.push(...a.scope),c&&f.push(...c);let g={};return a.accessType&&(g.token_access_type=a.accessType),await p7({id:"dropbox",options:a,authorizationEndpoint:"https://www.dropbox.com/oauth2/authorize",scopes:f,state:b,redirectURI:e,codeVerifier:d,additionalParams:g})},validateAuthorizationCode:async({code:b,codeVerifier:c,redirectURI:d})=>await p9({code:b,codeVerifier:c,redirectURI:d,options:a,tokenEndpoint:"https://api.dropboxapi.com/oauth2/token"}),refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>p8({refreshToken:b,options:{clientId:a.clientId,clientKey:a.clientKey,clientSecret:a.clientSecret},tokenEndpoint:"https://api.dropbox.com/oauth2/token"}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);let{data:c,error:d}=await p_("https://api.dropboxapi.com/2/users/get_current_account",{method:"POST",headers:{Authorization:`Bearer ${b.accessToken}`}});if(d)return null;let e=await a.mapProfileToUser?.(c);return{user:{id:c.account_id,name:c.name?.display_name,email:c.email,emailVerified:c.email_verified||!1,image:c.profile_photo_url,...e},data:c}},options:a}),kick:a=>({id:"kick",name:"Kick",createAuthorizationURL({state:b,scopes:c,redirectURI:d,codeVerifier:e}){let f=a.disableDefaultScope?[]:["user:read"];return a.scope&&f.push(...a.scope),c&&f.push(...c),p7({id:"kick",redirectURI:d,options:a,authorizationEndpoint:"https://id.kick.com/oauth/authorize",scopes:f,codeVerifier:e,state:b})},validateAuthorizationCode:async({code:b,redirectURI:c,codeVerifier:d})=>p9({code:b,redirectURI:c,options:a,tokenEndpoint:"https://id.kick.com/oauth/token",codeVerifier:d}),refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>p8({refreshToken:b,options:{clientId:a.clientId,clientSecret:a.clientSecret},tokenEndpoint:"https://id.kick.com/oauth/token"}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);let{data:c,error:d}=await p_("https://api.kick.com/public/v1/users",{method:"GET",headers:{Authorization:`Bearer ${b.accessToken}`}});if(d)return null;let e=c.data[0],f=await a.mapProfileToUser?.(e);return{user:{id:e.user_id,name:e.name,email:e.email,image:e.profile_picture,emailVerified:!1,...f},data:e}},options:a}),linear:a=>{let b="https://api.linear.app/oauth/token";return{id:"linear",name:"Linear",createAuthorizationURL({state:b,scopes:c,loginHint:d,redirectURI:e}){let f=a.disableDefaultScope?[]:["read"];return a.scope&&f.push(...a.scope),c&&f.push(...c),p7({id:"linear",options:a,authorizationEndpoint:"https://linear.app/oauth/authorize",scopes:f,state:b,redirectURI:e,loginHint:d})},validateAuthorizationCode:async({code:c,redirectURI:d})=>p9({code:c,redirectURI:d,options:a,tokenEndpoint:b}),refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async c=>p8({refreshToken:c,options:{clientId:a.clientId,clientKey:a.clientKey,clientSecret:a.clientSecret},tokenEndpoint:b}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);let{data:c,error:d}=await p_("https://api.linear.app/graphql",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${b.accessToken}`},body:JSON.stringify({query:`
							query {
								viewer {
									id
									name
									email
									avatarUrl
									active
									createdAt
									updatedAt
								}
							}
						`})});if(d||!c?.data?.viewer)return null;let e=c.data.viewer,f=await a.mapProfileToUser?.(e);return{user:{id:c.data.viewer.id,name:c.data.viewer.name,email:c.data.viewer.email,image:c.data.viewer.avatarUrl,emailVerified:!1,...f},data:e}},options:a}},linkedin:a=>{let b="https://www.linkedin.com/oauth/v2/accessToken";return{id:"linkedin",name:"Linkedin",createAuthorizationURL:async({state:b,scopes:c,redirectURI:d,loginHint:e})=>{let f=a.disableDefaultScope?[]:["profile","email","openid"];return a.scope&&f.push(...a.scope),c&&f.push(...c),await p7({id:"linkedin",options:a,authorizationEndpoint:"https://www.linkedin.com/oauth/v2/authorization",scopes:f,state:b,loginHint:e,redirectURI:d})},validateAuthorizationCode:async({code:c,redirectURI:d})=>await p9({code:c,redirectURI:d,options:a,tokenEndpoint:b}),refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async c=>p8({refreshToken:c,options:{clientId:a.clientId,clientKey:a.clientKey,clientSecret:a.clientSecret},tokenEndpoint:b}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);let{data:c,error:d}=await p_("https://api.linkedin.com/v2/userinfo",{method:"GET",headers:{Authorization:`Bearer ${b.accessToken}`}});if(d)return null;let e=await a.mapProfileToUser?.(c);return{user:{id:c.sub,name:c.name,email:c.email,emailVerified:c.email_verified||!1,image:c.picture,...e},data:c}},options:a}},gitlab:a=>{let b,{authorizationEndpoint:c,tokenEndpoint:d,userinfoEndpoint:e}=(b=a.issuer||"https://gitlab.com",{authorizationEndpoint:qh(`${b}/oauth/authorize`),tokenEndpoint:qh(`${b}/oauth/token`),userinfoEndpoint:qh(`${b}/api/v4/user`)}),f="gitlab";return{id:f,name:"Gitlab",createAuthorizationURL:async({state:b,scopes:d,codeVerifier:e,loginHint:g,redirectURI:h})=>{let i=a.disableDefaultScope?[]:["read_user"];return a.scope&&i.push(...a.scope),d&&i.push(...d),await p7({id:f,options:a,authorizationEndpoint:c,scopes:i,state:b,redirectURI:h,codeVerifier:e,loginHint:g})},validateAuthorizationCode:async({code:b,redirectURI:c,codeVerifier:e})=>p9({code:b,redirectURI:c,options:a,codeVerifier:e,tokenEndpoint:d}),refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>p8({refreshToken:b,options:{clientId:a.clientId,clientKey:a.clientKey,clientSecret:a.clientSecret},tokenEndpoint:d}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);let{data:c,error:d}=await p_(e,{headers:{authorization:`Bearer ${b.accessToken}`}});if(d||"active"!==c.state||c.locked)return null;let f=await a.mapProfileToUser?.(c);return{user:{id:c.id,name:c.name??c.username,email:c.email,image:c.avatar_url,emailVerified:c.email_verified??!1,...f},data:c}},options:a}},tiktok:a=>({id:"tiktok",name:"TikTok",createAuthorizationURL({state:b,scopes:c,redirectURI:d}){let e=a.disableDefaultScope?[]:["user.info.profile"];return a.scope&&e.push(...a.scope),c&&e.push(...c),new URL(`https://www.tiktok.com/v2/auth/authorize?scope=${e.join(",")}&response_type=code&client_key=${a.clientKey}&redirect_uri=${encodeURIComponent(a.redirectURI||d)}&state=${b}`)},validateAuthorizationCode:async({code:b,redirectURI:c})=>p9({code:b,redirectURI:a.redirectURI||c,options:{clientKey:a.clientKey,clientSecret:a.clientSecret},tokenEndpoint:"https://open.tiktokapis.com/v2/oauth/token/"}),refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>p8({refreshToken:b,options:{clientSecret:a.clientSecret},tokenEndpoint:"https://open.tiktokapis.com/v2/oauth/token/",authentication:"post",extraParams:{client_key:a.clientKey}}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);let{data:c,error:d}=await p_("https://open.tiktokapis.com/v2/user/info/?fields=open_id,avatar_large_url,display_name,username",{headers:{authorization:`Bearer ${b.accessToken}`}});return d?null:{user:{email:c.data.user.email||c.data.user.username,id:c.data.user.open_id,name:c.data.user.display_name||c.data.user.username,image:c.data.user.avatar_large_url,emailVerified:!1},data:c}},options:a}),reddit:a=>({id:"reddit",name:"Reddit",createAuthorizationURL({state:b,scopes:c,redirectURI:d}){let e=a.disableDefaultScope?[]:["identity"];return a.scope&&e.push(...a.scope),c&&e.push(...c),p7({id:"reddit",options:a,authorizationEndpoint:"https://www.reddit.com/api/v1/authorize",scopes:e,state:b,redirectURI:d,duration:a.duration})},validateAuthorizationCode:async({code:b,redirectURI:c})=>{let d=new URLSearchParams({grant_type:"authorization_code",code:b,redirect_uri:a.redirectURI||c}),{data:e,error:f}=await p_("https://www.reddit.com/api/v1/access_token",{method:"POST",headers:{"content-type":"application/x-www-form-urlencoded",accept:"text/plain","user-agent":"better-auth",Authorization:`Basic ${cB.encode(`${a.clientId}:${a.clientSecret}`)}`},body:d.toString()});if(f)throw f;return p5(e)},refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>p8({refreshToken:b,options:{clientId:a.clientId,clientKey:a.clientKey,clientSecret:a.clientSecret},authentication:"basic",tokenEndpoint:"https://www.reddit.com/api/v1/access_token"}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);let{data:c,error:d}=await p_("https://oauth.reddit.com/api/v1/me",{headers:{Authorization:`Bearer ${b.accessToken}`,"User-Agent":"better-auth"}});if(d)return null;let e=await a.mapProfileToUser?.(c);return{user:{id:c.id,name:c.name,email:c.oauth_client_id,emailVerified:c.has_verified_email,image:c.icon_img?.split("?")[0],...e},data:c}},options:a}),roblox:a=>({id:"roblox",name:"Roblox",createAuthorizationURL({state:b,scopes:c,redirectURI:d}){let e=a.disableDefaultScope?[]:["openid","profile"];return a.scope&&e.push(...a.scope),c&&e.push(...c),new URL(`https://apis.roblox.com/oauth/v1/authorize?scope=${e.join("+")}&response_type=code&client_id=${a.clientId}&redirect_uri=${encodeURIComponent(a.redirectURI||d)}&state=${b}&prompt=${a.prompt||"select_account consent"}`)},validateAuthorizationCode:async({code:b,redirectURI:c})=>p9({code:b,redirectURI:a.redirectURI||c,options:a,tokenEndpoint:"https://apis.roblox.com/oauth/v1/token",authentication:"post"}),refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>p8({refreshToken:b,options:{clientId:a.clientId,clientKey:a.clientKey,clientSecret:a.clientSecret},tokenEndpoint:"https://apis.roblox.com/oauth/v1/token"}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);let{data:c,error:d}=await p_("https://apis.roblox.com/oauth/v1/userinfo",{headers:{authorization:`Bearer ${b.accessToken}`}});if(d)return null;let e=await a.mapProfileToUser?.(c);return{user:{id:c.sub,name:c.nickname||c.preferred_username||"",image:c.picture,email:c.preferred_username||null,emailVerified:!1,...e},data:{...c}}},options:a}),salesforce:a=>{let b=(a.environment??"production")==="sandbox",c=a.loginUrl?`https://${a.loginUrl}/services/oauth2/authorize`:b?"https://test.salesforce.com/services/oauth2/authorize":"https://login.salesforce.com/services/oauth2/authorize",d=a.loginUrl?`https://${a.loginUrl}/services/oauth2/token`:b?"https://test.salesforce.com/services/oauth2/token":"https://login.salesforce.com/services/oauth2/token",e=a.loginUrl?`https://${a.loginUrl}/services/oauth2/userinfo`:b?"https://test.salesforce.com/services/oauth2/userinfo":"https://login.salesforce.com/services/oauth2/userinfo";return{id:"salesforce",name:"Salesforce",async createAuthorizationURL({state:b,scopes:d,codeVerifier:e,redirectURI:f}){if(!a.clientId||!a.clientSecret)throw cl.i.error("Client Id and Client Secret are required for Salesforce. Make sure to provide them in the options."),new cn.t("CLIENT_ID_AND_SECRET_REQUIRED");if(!e)throw new cn.t("codeVerifier is required for Salesforce");let g=a.disableDefaultScope?[]:["openid","email","profile"];return a.scope&&g.push(...a.scope),d&&g.push(...d),p7({id:"salesforce",options:a,authorizationEndpoint:c,scopes:g,state:b,codeVerifier:e,redirectURI:a.redirectURI||f})},validateAuthorizationCode:async({code:b,codeVerifier:c,redirectURI:e})=>p9({code:b,codeVerifier:c,redirectURI:a.redirectURI||e,options:a,tokenEndpoint:d}),refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>p8({refreshToken:b,options:{clientId:a.clientId,clientSecret:a.clientSecret},tokenEndpoint:d}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);try{let{data:c}=await p_(e,{headers:{Authorization:`Bearer ${b.accessToken}`}});if(!c)return cl.i.error("Failed to fetch user info from Salesforce"),null;let d=await a.mapProfileToUser?.(c);return{user:{id:c.user_id,name:c.name,email:c.email,image:c.photos?.picture||c.photos?.thumbnail,emailVerified:c.email_verified??!1,...d},data:c}}catch(a){return cl.i.error("Failed to fetch user info from Salesforce:",a),null}},options:a}},vk:a=>({id:"vk",name:"VK",async createAuthorizationURL({state:b,scopes:c,codeVerifier:d,redirectURI:e}){let f=a.disableDefaultScope?[]:["email","phone"];return a.scope&&f.push(...a.scope),c&&f.push(...c),p7({id:"vk",options:a,authorizationEndpoint:"https://id.vk.com/authorize",scopes:f,state:b,redirectURI:e,codeVerifier:d})},validateAuthorizationCode:async({code:b,codeVerifier:c,redirectURI:d,deviceId:e})=>p9({code:b,codeVerifier:c,redirectURI:a.redirectURI||d,options:a,deviceId:e,tokenEndpoint:"https://id.vk.com/oauth2/auth"}),refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>p8({refreshToken:b,options:{clientId:a.clientId,clientKey:a.clientKey,clientSecret:a.clientSecret},tokenEndpoint:"https://id.vk.com/oauth2/auth"}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);if(!b.accessToken)return null;let c=new URLSearchParams({access_token:b.accessToken,client_id:a.clientId}).toString(),{data:d,error:e}=await p_("https://id.vk.com/oauth2/user_info",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:c});if(e)return null;let f=await a.mapProfileToUser?.(d);return d.user.email||f?.email?{user:{id:d.user.user_id,first_name:d.user.first_name,last_name:d.user.last_name,email:d.user.email,image:d.user.avatar,emailVerified:!1,birthday:d.user.birthday,sex:d.user.sex,name:`${d.user.first_name} ${d.user.last_name}`,...f},data:d}:null},options:a}),zoom:a=>{let b={pkce:!0,...a};return{id:"zoom",name:"Zoom",createAuthorizationURL:async({state:a,redirectURI:c,codeVerifier:d})=>{let e=new URLSearchParams({response_type:"code",redirect_uri:b.redirectURI?b.redirectURI:c,client_id:b.clientId,state:a});if(b.pkce){let a=await p6(d);e.set("code_challenge_method","S256"),e.set("code_challenge",a)}let f=new URL("https://zoom.us/oauth/authorize");return f.search=e.toString(),f},validateAuthorizationCode:async({code:a,redirectURI:c,codeVerifier:d})=>p9({code:a,redirectURI:b.redirectURI||c,codeVerifier:d,options:b,tokenEndpoint:"https://zoom.us/oauth/token",authentication:"post"}),refreshAccessToken:b.refreshAccessToken?b.refreshAccessToken:async a=>p8({refreshToken:a,options:{clientId:b.clientId,clientKey:b.clientKey,clientSecret:b.clientSecret},tokenEndpoint:"https://zoom.us/oauth/token"}),async getUserInfo(a){if(b.getUserInfo)return b.getUserInfo(a);let{data:c,error:d}=await p_("https://api.zoom.us/v2/users/me",{headers:{authorization:`Bearer ${a.accessToken}`}});if(d)return null;let e=await b.mapProfileToUser?.(c);return{user:{id:c.id,name:c.display_name,image:c.pic_url,email:c.email,emailVerified:!!c.verified,...e},data:{...c}}}}},notion:a=>{let b="https://api.notion.com/v1/oauth/token";return{id:"notion",name:"Notion",createAuthorizationURL({state:b,scopes:c,loginHint:d,redirectURI:e}){let f=(a.disableDefaultScope,[]);return a.scope&&f.push(...a.scope),c&&f.push(...c),p7({id:"notion",options:a,authorizationEndpoint:"https://api.notion.com/v1/oauth/authorize",scopes:f,state:b,redirectURI:e,loginHint:d,additionalParams:{owner:"user"}})},validateAuthorizationCode:async({code:c,redirectURI:d})=>p9({code:c,redirectURI:d,options:a,tokenEndpoint:b,authentication:"basic"}),refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async c=>p8({refreshToken:c,options:{clientId:a.clientId,clientKey:a.clientKey,clientSecret:a.clientSecret},tokenEndpoint:b}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);let{data:c,error:d}=await p_("https://api.notion.com/v1/users/me",{headers:{Authorization:`Bearer ${b.accessToken}`,"Notion-Version":"2022-06-28"}});if(d||!c)return null;let e=c.bot?.owner?.user;if(!e)return null;let f=await a.mapProfileToUser?.(e);return{user:{id:e.id,name:e.name||"Notion User",email:e.person?.email||null,image:e.avatar_url,emailVerified:!1,...f},data:e}},options:a}},kakao:a=>({id:"kakao",name:"Kakao",createAuthorizationURL({state:b,scopes:c,redirectURI:d}){let e=a.disableDefaultScope?[]:["account_email","profile_image","profile_nickname"];return a.scope&&e.push(...a.scope),c&&e.push(...c),p7({id:"kakao",options:a,authorizationEndpoint:"https://kauth.kakao.com/oauth/authorize",scopes:e,state:b,redirectURI:d})},validateAuthorizationCode:async({code:b,redirectURI:c})=>p9({code:b,redirectURI:c,options:a,tokenEndpoint:"https://kauth.kakao.com/oauth/token"}),refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>p8({refreshToken:b,options:{clientId:a.clientId,clientKey:a.clientKey,clientSecret:a.clientSecret},tokenEndpoint:"https://kauth.kakao.com/oauth/token"}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);let{data:c,error:d}=await p_("https://kapi.kakao.com/v2/user/me",{headers:{Authorization:`Bearer ${b.accessToken}`}});if(d||!c)return null;let e=await a.mapProfileToUser?.(c),f=c.kakao_account||{},g=f.profile||{};return{user:{id:String(c.id),name:g.nickname||f.name||void 0,email:f.email,image:g.profile_image_url||g.thumbnail_image_url,emailVerified:!!f.is_email_valid&&!!f.is_email_verified,...e},data:c}},options:a}),naver:a=>({id:"naver",name:"Naver",createAuthorizationURL({state:b,scopes:c,redirectURI:d}){let e=a.disableDefaultScope?[]:["profile","email"];return a.scope&&e.push(...a.scope),c&&e.push(...c),p7({id:"naver",options:a,authorizationEndpoint:"https://nid.naver.com/oauth2.0/authorize",scopes:e,state:b,redirectURI:d})},validateAuthorizationCode:async({code:b,redirectURI:c})=>p9({code:b,redirectURI:c,options:a,tokenEndpoint:"https://nid.naver.com/oauth2.0/token"}),refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>p8({refreshToken:b,options:{clientId:a.clientId,clientKey:a.clientKey,clientSecret:a.clientSecret},tokenEndpoint:"https://nid.naver.com/oauth2.0/token"}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);let{data:c,error:d}=await p_("https://openapi.naver.com/v1/nid/me",{headers:{Authorization:`Bearer ${b.accessToken}`}});if(d||!c||"00"!==c.resultcode)return null;let e=await a.mapProfileToUser?.(c),f=c.response||{};return{user:{id:f.id,name:f.name||f.nickname,email:f.email,image:f.profile_image,emailVerified:!1,...e},data:c}},options:a}),line:a=>{let b="https://api.line.me/oauth2/v2.1/token";return{id:"line",name:"LINE",async createAuthorizationURL({state:b,scopes:c,codeVerifier:d,redirectURI:e,loginHint:f}){let g=a.disableDefaultScope?[]:["openid","profile","email"];return a.scope&&g.push(...a.scope),c&&g.push(...c),await p7({id:"line",options:a,authorizationEndpoint:"https://access.line.me/oauth2/v2.1/authorize",scopes:g,state:b,codeVerifier:d,redirectURI:e,loginHint:f})},validateAuthorizationCode:async({code:c,codeVerifier:d,redirectURI:e})=>p9({code:c,codeVerifier:d,redirectURI:e,options:a,tokenEndpoint:b}),refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async c=>p8({refreshToken:c,options:{clientId:a.clientId,clientSecret:a.clientSecret},tokenEndpoint:b}),async verifyIdToken(b,c){if(a.disableIdTokenSignIn)return!1;if(a.verifyIdToken)return a.verifyIdToken(b,c);let d=new URLSearchParams;d.set("id_token",b),d.set("client_id",a.clientId),c&&d.set("nonce",c);let{data:e,error:f}=await p_("https://api.line.me/oauth2/v2.1/verify",{method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},body:d});return!f&&!!e&&e.aud===a.clientId&&(!e.nonce||e.nonce===c)},async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);let c=null;if(b.idToken)try{c=qe(b.idToken)}catch{}if(!c){let{data:a}=await p_("https://api.line.me/oauth2/v2.1/userinfo",{headers:{authorization:`Bearer ${b.accessToken}`}});c=a||null}if(!c)return null;let d=await a.mapProfileToUser?.(c),e=c.sub||c.userId,f=c.name||c.displayName,g=c.picture||c.pictureUrl||void 0;return{user:{id:e,name:f,email:c.email,image:g,emailVerified:!1,...d},data:c}},options:a}},paybin:a=>{let b=a.issuer||"https://idp.paybin.io",c=`${b}/oauth2/authorize`,d=`${b}/oauth2/token`;return{id:"paybin",name:"Paybin",async createAuthorizationURL({state:b,scopes:d,codeVerifier:e,redirectURI:f,loginHint:g}){if(!a.clientId||!a.clientSecret)throw cl.i.error("Client Id and Client Secret is required for Paybin. Make sure to provide them in the options."),new cn.t("CLIENT_ID_AND_SECRET_REQUIRED");if(!e)throw new cn.t("codeVerifier is required for Paybin");let h=a.disableDefaultScope?[]:["openid","email","profile"];return a.scope&&h.push(...a.scope),d&&h.push(...d),await p7({id:"paybin",options:a,authorizationEndpoint:c,scopes:h,state:b,codeVerifier:e,redirectURI:f,prompt:a.prompt,loginHint:g})},validateAuthorizationCode:async({code:b,codeVerifier:c,redirectURI:e})=>p9({code:b,codeVerifier:c,redirectURI:e,options:a,tokenEndpoint:d}),refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>p8({refreshToken:b,options:{clientId:a.clientId,clientKey:a.clientKey,clientSecret:a.clientSecret},tokenEndpoint:d}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);if(!b.idToken)return null;let c=qe(b.idToken),d=await a.mapProfileToUser?.(c);return{user:{id:c.sub,name:c.name||c.preferred_username||(c.email?c.email.split("@")[0]:"User")||"User",email:c.email,image:c.picture,emailVerified:c.email_verified||!1,...d},data:c}},options:a}},paypal:a=>{let b="sandbox"===(a.environment||"sandbox"),c=b?"https://www.sandbox.paypal.com/signin/authorize":"https://www.paypal.com/signin/authorize",d=b?"https://api-m.sandbox.paypal.com/v1/oauth2/token":"https://api-m.paypal.com/v1/oauth2/token",e=b?"https://api-m.sandbox.paypal.com/v1/identity/oauth2/userinfo":"https://api-m.paypal.com/v1/identity/oauth2/userinfo";return{id:"paypal",name:"PayPal",async createAuthorizationURL({state:b,codeVerifier:d,redirectURI:e}){if(!a.clientId||!a.clientSecret)throw cl.i.error("Client Id and Client Secret is required for PayPal. Make sure to provide them in the options."),new cn.t("CLIENT_ID_AND_SECRET_REQUIRED");return await p7({id:"paypal",options:a,authorizationEndpoint:c,scopes:[],state:b,codeVerifier:d,redirectURI:e,prompt:a.prompt})},validateAuthorizationCode:async({code:b,redirectURI:c})=>{let e=cB.encode(`${a.clientId}:${a.clientSecret}`);try{let a=await p_(d,{method:"POST",headers:{Authorization:`Basic ${e}`,Accept:"application/json","Accept-Language":"en_US","Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({grant_type:"authorization_code",code:b,redirect_uri:c}).toString()});if(!a.data)throw new cn.t("FAILED_TO_GET_ACCESS_TOKEN");let f=a.data;return{accessToken:f.access_token,refreshToken:f.refresh_token,accessTokenExpiresAt:f.expires_in?new Date(Date.now()+1e3*f.expires_in):void 0,idToken:f.id_token}}catch(a){throw cl.i.error("PayPal token exchange failed:",a),new cn.t("FAILED_TO_GET_ACCESS_TOKEN")}},refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>{let c=cB.encode(`${a.clientId}:${a.clientSecret}`);try{let a=await p_(d,{method:"POST",headers:{Authorization:`Basic ${c}`,Accept:"application/json","Accept-Language":"en_US","Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({grant_type:"refresh_token",refresh_token:b}).toString()});if(!a.data)throw new cn.t("FAILED_TO_REFRESH_ACCESS_TOKEN");let e=a.data;return{accessToken:e.access_token,refreshToken:e.refresh_token,accessTokenExpiresAt:e.expires_in?new Date(Date.now()+1e3*e.expires_in):void 0}}catch(a){throw cl.i.error("PayPal token refresh failed:",a),new cn.t("FAILED_TO_REFRESH_ACCESS_TOKEN")}},async verifyIdToken(b,c){if(a.disableIdTokenSignIn)return!1;if(a.verifyIdToken)return a.verifyIdToken(b,c);try{return!!qe(b).sub}catch(a){return cl.i.error("Failed to verify PayPal ID token:",a),!1}},async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);if(!b.accessToken)return cl.i.error("Access token is required to fetch PayPal user info"),null;try{let c=await p_(`${e}?schema=paypalv1.1`,{headers:{Authorization:`Bearer ${b.accessToken}`,Accept:"application/json"}});if(!c.data)return cl.i.error("Failed to fetch user info from PayPal"),null;let d=c.data,f=await a.mapProfileToUser?.(d);return{user:{id:d.user_id,name:d.name,email:d.email,image:d.picture,emailVerified:d.email_verified,...f},data:d}}catch(a){return cl.i.error("Failed to fetch user info from PayPal:",a),null}},options:a}},polar:a=>({id:"polar",name:"Polar",createAuthorizationURL({state:b,scopes:c,codeVerifier:d,redirectURI:e}){let f=a.disableDefaultScope?[]:["openid","profile","email"];return a.scope&&f.push(...a.scope),c&&f.push(...c),p7({id:"polar",options:a,authorizationEndpoint:"https://polar.sh/oauth2/authorize",scopes:f,state:b,codeVerifier:d,redirectURI:e,prompt:a.prompt})},validateAuthorizationCode:async({code:b,codeVerifier:c,redirectURI:d})=>p9({code:b,codeVerifier:c,redirectURI:d,options:a,tokenEndpoint:"https://api.polar.sh/v1/oauth2/token"}),refreshAccessToken:a.refreshAccessToken?a.refreshAccessToken:async b=>p8({refreshToken:b,options:{clientId:a.clientId,clientKey:a.clientKey,clientSecret:a.clientSecret},tokenEndpoint:"https://api.polar.sh/v1/oauth2/token"}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);let{data:c,error:d}=await p_("https://api.polar.sh/v1/oauth2/userinfo",{headers:{Authorization:`Bearer ${b.accessToken}`}});if(d)return null;let e=await a.mapProfileToUser?.(c);return{user:{id:c.id,name:c.public_name||c.username,email:c.email,image:c.avatar_url,emailVerified:c.email_verified??!1,...e},data:c}},options:a}),vercel:a=>({id:"vercel",name:"Vercel",createAuthorizationURL({state:b,scopes:c,codeVerifier:d,redirectURI:e}){let f;if(!d)throw new cn.t("codeVerifier is required for Vercel");return(void 0!==a.scope||void 0!==c)&&(f=[],a.scope&&f.push(...a.scope),c&&f.push(...c)),p7({id:"vercel",options:a,authorizationEndpoint:"https://vercel.com/oauth/authorize",scopes:f,state:b,codeVerifier:d,redirectURI:e})},validateAuthorizationCode:async({code:b,codeVerifier:c,redirectURI:d})=>p9({code:b,codeVerifier:c,redirectURI:d,options:a,tokenEndpoint:"https://api.vercel.com/login/oauth/token"}),async getUserInfo(b){if(a.getUserInfo)return a.getUserInfo(b);let{data:c,error:d}=await p_("https://api.vercel.com/login/oauth/userinfo",{headers:{Authorization:`Bearer ${b.accessToken}`}});if(d||!c)return null;let e=await a.mapProfileToUser?.(c);return{user:{id:c.sub,name:c.name??c.preferred_username,email:c.email,image:c.picture,emailVerified:c.email_verified??!1,...e},data:c}},options:a})},qk=mp(Object.keys(qj)).or(kJ()),ql=ol("/list-accounts",{method:"GET",use:[py],metadata:{openapi:{operationId:"listUserAccounts",description:"List all accounts linked to the user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"array",items:{type:"object",properties:{id:{type:"string"},providerId:{type:"string"},createdAt:{type:"string",format:"date-time"},updatedAt:{type:"string",format:"date-time"},accountId:{type:"string"},userId:{type:"string"},scopes:{type:"array",items:{type:"string"}}},required:["id","providerId","createdAt","updatedAt","accountId","userId","scopes"]}}}}}}}}},async a=>{let b=a.context.session,c=await a.context.internalAdapter.findAccounts(b.user.id);return a.json(c.map(a=>({id:a.id,providerId:a.providerId,createdAt:a.createdAt,updatedAt:a.updatedAt,accountId:a.accountId,userId:a.userId,scopes:a.scope?.split(",")||[]})))}),qm=ol("/link-social",{method:"POST",requireHeaders:!0,body:l3({callbackURL:kJ().meta({description:"The URL to redirect to after the user has signed in"}).optional(),provider:qk,idToken:l3({token:kJ(),nonce:kJ().optional(),accessToken:kJ().optional(),refreshToken:kJ().optional(),scopes:l0(kJ()).optional()}).optional(),requestSignUp:lF().optional(),scopes:l0(kJ()).meta({description:"Additional scopes to request from the provider"}).optional(),errorCallbackURL:kJ().meta({description:"The URL to redirect to if there is an error during the link process"}).optional(),disableRedirect:lF().meta({description:"Disable automatic redirection to the provider. Useful for handling the redirection yourself"}).optional(),additionalData:mh(kJ(),lS()).optional()}),use:[py],metadata:{openapi:{description:"Link a social account to the user",operationId:"linkSocialAccount",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{url:{type:"string",description:"The authorization URL to redirect the user to"},redirect:{type:"boolean",description:"Indicates if the user should be redirected to the authorization URL"},status:{type:"boolean"}},required:["redirect"]}}}}}}}},async a=>{let b=a.context.session,c=a.context.socialProviders.find(b=>b.id===a.body.provider);if(!c)throw a.context.logger.error("Provider not found. Make sure to add the provider in your auth config",{provider:a.body.provider}),new nA("NOT_FOUND",{message:oh.n.PROVIDER_NOT_FOUND});if(a.body.idToken){if(!c.verifyIdToken)throw a.context.logger.error("Provider does not support id token verification",{provider:a.body.provider}),new nA("NOT_FOUND",{message:oh.n.ID_TOKEN_NOT_SUPPORTED});let{token:d,nonce:e}=a.body.idToken;if(!await c.verifyIdToken(d,e))throw a.context.logger.error("Invalid id token",{provider:a.body.provider}),new nA("UNAUTHORIZED",{message:oh.n.INVALID_TOKEN});let f=await c.getUserInfo({idToken:d,accessToken:a.body.idToken.accessToken,refreshToken:a.body.idToken.refreshToken});if(!f||!f?.user)throw a.context.logger.error("Failed to get user info",{provider:a.body.provider}),new nA("UNAUTHORIZED",{message:oh.n.FAILED_TO_GET_USER_INFO});let g=String(f.user.id);if(!f.user.email)throw a.context.logger.error("User email not found",{provider:a.body.provider}),new nA("UNAUTHORIZED",{message:oh.n.USER_EMAIL_NOT_FOUND});if((await a.context.internalAdapter.findAccounts(b.user.id)).find(a=>a.providerId===c.id&&a.accountId===g))return a.json({url:"",status:!0,redirect:!1});if(!a.context.options.account?.accountLinking?.trustedProviders?.includes(c.id)&&!f.user.emailVerified||a.context.options.account?.accountLinking?.enabled===!1)throw new nA("UNAUTHORIZED",{message:"Account not linked - linking not allowed"});if(f.user.email!==b.user.email&&a.context.options.account?.accountLinking?.allowDifferentEmails!==!0)throw new nA("UNAUTHORIZED",{message:"Account not linked - different emails not allowed"});try{await a.context.internalAdapter.createAccount({userId:b.user.id,providerId:c.id,accountId:g,accessToken:a.body.idToken.accessToken,idToken:d,refreshToken:a.body.idToken.refreshToken,scope:a.body.idToken.scopes?.join(",")})}catch{throw new nA("EXPECTATION_FAILED",{message:"Account not linked - unable to create account"})}if(a.context.options.account?.accountLinking?.updateUserInfoOnLink===!0)try{await a.context.internalAdapter.updateUser(b.user.id,{name:f.user?.name,image:f.user?.image})}catch(a){console.warn("Could not update user - "+a.toString())}return a.json({url:"",status:!0,redirect:!1})}let d=await n1(a,{userId:b.user.id,email:b.user.email},a.body.additionalData),e=await c.createAuthorizationURL({state:d.state,codeVerifier:d.codeVerifier,redirectURI:`${a.context.baseURL}/callback/${c.id}`,scopes:a.body.scopes});return a.json({url:e.toString(),redirect:!a.body.disableRedirect})}),qn=ol("/unlink-account",{method:"POST",body:l3({providerId:kJ(),accountId:kJ().optional()}),use:[pA],metadata:{openapi:{description:"Unlink an account",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean"}}}}}}}}}},async a=>{let{providerId:b,accountId:c}=a.body,d=await a.context.internalAdapter.findAccounts(a.context.session.user.id);if(1===d.length&&!a.context.options.account?.accountLinking?.allowUnlinkingAll)throw new nA("BAD_REQUEST",{message:oh.n.FAILED_TO_UNLINK_LAST_ACCOUNT});let e=d.find(a=>c?a.accountId===c&&a.providerId===b:a.providerId===b);if(!e)throw new nA("BAD_REQUEST",{message:oh.n.ACCOUNT_NOT_FOUND});return await a.context.internalAdapter.deleteAccount(e.id),a.json({status:!0})}),qo=ol("/get-access-token",{method:"POST",body:l3({providerId:kJ().meta({description:"The provider ID for the OAuth provider"}),accountId:kJ().meta({description:"The account ID associated with the refresh token"}).optional(),userId:kJ().meta({description:"The user ID associated with the account"}).optional()}),metadata:{openapi:{description:"Get a valid access token, doing a refresh if needed",responses:{200:{description:"A Valid access token",content:{"application/json":{schema:{type:"object",properties:{tokenType:{type:"string"},idToken:{type:"string"},accessToken:{type:"string"},refreshToken:{type:"string"},accessTokenExpiresAt:{type:"string",format:"date-time"},refreshTokenExpiresAt:{type:"string",format:"date-time"}}}}}},400:{description:"Invalid refresh token or provider configuration"}}}}},async a=>{let b,{providerId:c,accountId:d,userId:e}=a.body||{},f=a.request,g=await px(a);if(f&&!g)throw a.error("UNAUTHORIZED");let h=g?.user?.id||e;if(!h)throw a.error("UNAUTHORIZED");if(!a.context.socialProviders.find(a=>a.id===c))throw new nA("BAD_REQUEST",{message:`Provider ${c} is not supported.`});let i=await pl(a);if(!(b=i&&c===i.providerId&&(!d||i.id===d)?i:(await a.context.internalAdapter.findAccounts(h)).find(a=>d?a.id===d&&a.providerId===c:a.providerId===c)))throw new nA("BAD_REQUEST",{message:"Account not found"});let j=a.context.socialProviders.find(a=>a.id===c);if(!j)throw new nA("BAD_REQUEST",{message:`Provider ${c} not found.`});try{let c=null,d=b.accessTokenExpiresAt&&new Date(b.accessTokenExpiresAt).getTime()-Date.now()<5e3;if(b.refreshToken&&d&&j.refreshAccessToken){let d=await pE(b.refreshToken,a.context);c=await j.refreshAccessToken(d);let e={accessToken:await pF(c.accessToken,a.context),accessTokenExpiresAt:c.accessTokenExpiresAt,refreshToken:await pF(c.refreshToken,a.context),refreshTokenExpiresAt:c.refreshTokenExpiresAt},f=null;b.id&&(f=await a.context.internalAdapter.updateAccount(b.id,e)),a.context.options.account?.storeAccountCookie&&await pk(a,{...b,...f??e})}let e={accessToken:c?.accessToken??await pE(b.accessToken??"",a.context),accessTokenExpiresAt:c?.accessTokenExpiresAt??b.accessTokenExpiresAt??void 0,scopes:b.scope?.split(",")??[],idToken:c?.idToken??b.idToken??void 0};return a.json(e)}catch(a){throw new nA("BAD_REQUEST",{message:"Failed to get a valid access token",cause:a})}}),qp=ol("/refresh-token",{method:"POST",body:l3({providerId:kJ().meta({description:"The provider ID for the OAuth provider"}),accountId:kJ().meta({description:"The account ID associated with the refresh token"}).optional(),userId:kJ().meta({description:"The user ID associated with the account"}).optional()}),metadata:{openapi:{description:"Refresh the access token using a refresh token",responses:{200:{description:"Access token refreshed successfully",content:{"application/json":{schema:{type:"object",properties:{tokenType:{type:"string"},idToken:{type:"string"},accessToken:{type:"string"},refreshToken:{type:"string"},accessTokenExpiresAt:{type:"string",format:"date-time"},refreshTokenExpiresAt:{type:"string",format:"date-time"}}}}}},400:{description:"Invalid refresh token or provider configuration"}}}}},async a=>{let b,c,{providerId:d,accountId:e,userId:f}=a.body,g=a.request,h=await px(a);if(g&&!h)throw a.error("UNAUTHORIZED");let i=h?.user?.id||f;if(!i)throw new nA("BAD_REQUEST",{message:"Either userId or session is required"});let j=a.context.socialProviders.find(a=>a.id===d);if(!j)throw new nA("BAD_REQUEST",{message:`Provider ${d} not found.`});if(!j.refreshAccessToken)throw new nA("BAD_REQUEST",{message:`Provider ${d} does not support token refreshing.`});let k=await pl(a);if(!(b=k&&(!d||d===k?.providerId)?k:(await a.context.internalAdapter.findAccounts(i)).find(a=>e?a.id===e&&a.providerId===d:a.providerId===d)))throw new nA("BAD_REQUEST",{message:"Account not found"});if(!(c=k&&d===k.providerId?k.refreshToken??void 0:b.refreshToken??void 0))throw new nA("BAD_REQUEST",{message:"Refresh token not found"});try{let e=await pE(c,a.context),f=await j.refreshAccessToken(e);if(b.id){let c={...b||{},accessToken:await pF(f.accessToken,a.context),refreshToken:await pF(f.refreshToken,a.context),accessTokenExpiresAt:f.accessTokenExpiresAt,refreshTokenExpiresAt:f.refreshTokenExpiresAt,scope:f.scopes?.join(",")||b.scope,idToken:f.idToken||b.idToken};await a.context.internalAdapter.updateAccount(b.id,c)}return k&&d===k.providerId&&a.context.options.account?.storeAccountCookie&&await pk(a,{...k,accessToken:await pF(f.accessToken,a.context),refreshToken:await pF(f.refreshToken,a.context),accessTokenExpiresAt:f.accessTokenExpiresAt,refreshTokenExpiresAt:f.refreshTokenExpiresAt,scope:f.scopes?.join(",")||k.scope,idToken:f.idToken||k.idToken}),a.json({accessToken:f.accessToken,refreshToken:f.refreshToken,accessTokenExpiresAt:f.accessTokenExpiresAt,refreshTokenExpiresAt:f.refreshTokenExpiresAt,scope:f.scopes?.join(",")||b.scope,idToken:f.idToken||b.idToken,providerId:b.providerId,accountId:b.accountId})}catch(a){throw new nA("BAD_REQUEST",{message:"Failed to refresh access token",cause:a})}}),qq=ol("/account-info",{method:"GET",use:[py],metadata:{openapi:{description:"Get the account info provided by the provider",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{user:{type:"object",properties:{id:{type:"string"},name:{type:"string"},email:{type:"string"},image:{type:"string"},emailVerified:{type:"boolean"}},required:["id","emailVerified"]},data:{type:"object",properties:{},additionalProperties:!0}},required:["user","data"],additionalProperties:!1}}}}}}},query:my(l3({accountId:kJ().meta({description:"The provider given account id for which to get the account info"}).optional()}))},async a=>{let b,c=a.query?.accountId;if(c){let d=await a.context.internalAdapter.findAccount(c);d&&(b=d)}else if(a.context.options.account?.storeAccountCookie){let c=await pl(a);c&&(b=c)}if(!b||b.userId!==a.context.session.user.id)throw new nA("BAD_REQUEST",{message:"Account not found"});let d=a.context.socialProviders.find(a=>a.id===b.providerId);if(!d)throw new nA("INTERNAL_SERVER_ERROR",{message:`Provider account provider is ${b.providerId} but it is not configured`});let e=await qo({...a,method:"POST",body:{accountId:b.id,providerId:b.providerId},returnHeaders:!1,returnStatus:!1});if(!e.accessToken)throw new nA("BAD_REQUEST",{message:"Access token not found"});let f=await d.getUserInfo({...e,accessToken:e.accessToken});return a.json(f)});async function qr(a,b,c,d=3600,e){return await cf({email:b.toLowerCase(),updateTo:c,...e},a,d)}async function qs(a,b){if(!a.context.options.emailVerification?.sendVerificationEmail)throw a.context.logger.error("Verification email isn't enabled."),new nA("BAD_REQUEST",{message:"Verification email isn't enabled"});let c=await qr(a.context.secret,b.email,void 0,a.context.options.emailVerification?.expiresIn),d=a.body.callbackURL?encodeURIComponent(a.body.callbackURL):encodeURIComponent("/"),e=`${a.context.baseURL}/verify-email?token=${c}&callbackURL=${d}`;await a.context.runInBackgroundOrAwait(a.context.options.emailVerification.sendVerificationEmail({user:b,url:e,token:c},a.request))}let qt=ol("/send-verification-email",{method:"POST",operationId:"sendVerificationEmail",body:l3({email:kM().meta({description:"The email to send the verification email to"}),callbackURL:kJ().meta({description:"The URL to use for email verification callback"}).optional()}),metadata:{openapi:{operationId:"sendVerificationEmail",description:"Send a verification email to the user",requestBody:{content:{"application/json":{schema:{type:"object",properties:{email:{type:"string",description:"The email to send the verification email to",example:"user@example.com"},callbackURL:{type:"string",description:"The URL to use for email verification callback",example:"https://example.com/callback",nullable:!0}},required:["email"]}}}},responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean",description:"Indicates if the email was sent successfully",example:!0}}}}}},400:{description:"Bad Request",content:{"application/json":{schema:{type:"object",properties:{message:{type:"string",description:"Error message",example:"Verification email isn't enabled"}}}}}}}}}},async a=>{if(!a.context.options.emailVerification?.sendVerificationEmail)throw a.context.logger.error("Verification email isn't enabled."),new nA("BAD_REQUEST",{message:"Verification email isn't enabled"});let{email:b}=a.body,c=await px(a);if(!c){let c=await a.context.internalAdapter.findUserByEmail(b);return c?await qs(a,c.user):await qr(a.context.secret,b,void 0,a.context.options.emailVerification?.expiresIn),a.json({status:!0})}if(c?.user.emailVerified)throw new nA("BAD_REQUEST",{message:"You can only send a verification email to an unverified email"});if(c?.user.email!==b)throw new nA("BAD_REQUEST",{message:"You can only send a verification email to your own email"});return await qs(a,c.user),a.json({status:!0})}),qu=ol("/verify-email",{method:"GET",operationId:"verifyEmail",query:l3({token:kJ().meta({description:"The token to verify the email"}),callbackURL:kJ().meta({description:"The URL to redirect to after email verification"}).optional()}),use:[on(a=>a.query.callbackURL)],metadata:{openapi:{description:"Verify the email of the user",parameters:[{name:"token",in:"query",description:"The token to verify the email",required:!0,schema:{type:"string"}},{name:"callbackURL",in:"query",description:"The URL to redirect to after email verification",required:!1,schema:{type:"string"}}],responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{user:{type:"object",$ref:"#/components/schemas/User"},status:{type:"boolean",description:"Indicates if the email was verified successfully"}},required:["user","status"]}}}}}}}},async a=>{let b;function c(b){if(a.query.callbackURL){if(a.query.callbackURL.includes("?"))throw a.redirect(`${a.query.callbackURL}&error=${b}`);throw a.redirect(`${a.query.callbackURL}?error=${b}`)}throw new nA("UNAUTHORIZED",{message:b})}let{token:d}=a.query;try{b=await ce(d,new TextEncoder().encode(a.context.secret),{algorithms:["HS256"]})}catch(a){if(a instanceof aL)return c("token_expired");return c("invalid_token")}let e=l3({email:kM(),updateTo:kJ().optional(),requestType:kJ().optional()}).parse(b.payload),f=await a.context.internalAdapter.findUserByEmail(e.email);if(!f)return c("user_not_found");if(e.updateTo){let b=await px(a);if(b&&b.user.email!==e.email)return c("unauthorized");if("change-email-confirmation"===e.requestType){let b=await qr(a.context.secret,e.email,e.updateTo,a.context.options.emailVerification?.expiresIn,{requestType:"change-email-verification"}),c=a.query.callbackURL?encodeURIComponent(a.query.callbackURL):encodeURIComponent("/"),d=`${a.context.baseURL}/verify-email?token=${b}&callbackURL=${c}`;if(a.context.options.emailVerification?.sendVerificationEmail&&await a.context.runInBackgroundOrAwait(a.context.options.emailVerification.sendVerificationEmail({user:{...f.user,email:e.updateTo},url:d,token:b},a.request)),a.query.callbackURL)throw a.redirect(a.query.callbackURL);return a.json({status:!0})}if(!b){let c=await a.context.internalAdapter.createSession(f.user.id);if(!c)throw new nA("INTERNAL_SERVER_ERROR",{message:"Failed to create session"});b={session:c,user:f.user}}if("change-email-verification"===e.requestType){let c=await a.context.internalAdapter.updateUserByEmail(e.email,{email:e.updateTo,emailVerified:!0});if(await pu(a,{session:b.session,user:{...b.user,email:e.updateTo,emailVerified:!0}}),a.query.callbackURL)throw a.redirect(a.query.callbackURL);return a.json({status:!0,user:c})}let d=await a.context.internalAdapter.updateUserByEmail(e.email,{email:e.updateTo,emailVerified:!1}),g=await qr(a.context.secret,e.updateTo),h=a.query.callbackURL?encodeURIComponent(a.query.callbackURL):encodeURIComponent("/");if(a.context.options.emailVerification?.sendVerificationEmail&&await a.context.runInBackgroundOrAwait(a.context.options.emailVerification.sendVerificationEmail({user:d,url:`${a.context.baseURL}/verify-email?token=${g}&callbackURL=${h}`,token:g},a.request)),await pu(a,{session:b.session,user:{...b.user,email:e.updateTo,emailVerified:!1}}),a.query.callbackURL)throw a.redirect(a.query.callbackURL);return a.json({status:!0,user:{id:d.id,email:d.email,name:d.name,image:d.image,emailVerified:d.emailVerified,createdAt:d.createdAt,updatedAt:d.updatedAt}})}if(f.user.emailVerified){if(a.query.callbackURL)throw a.redirect(a.query.callbackURL);return a.json({status:!0,user:null})}a.context.options.emailVerification?.onEmailVerification&&await a.context.options.emailVerification.onEmailVerification(f.user,a.request);let g=await a.context.internalAdapter.updateUserByEmail(e.email,{emailVerified:!0});if(a.context.options.emailVerification?.afterEmailVerification&&await a.context.options.emailVerification.afterEmailVerification(g,a.request),a.context.options.emailVerification?.autoSignInAfterVerification){let b=await px(a);if(b&&b.user.email===e.email)await pu(a,{session:b.session,user:{...b.user,emailVerified:!0}});else{let b=await a.context.internalAdapter.createSession(f.user.id);if(!b)throw new nA("INTERNAL_SERVER_ERROR",{message:"Failed to create session"});await pu(a,{session:b,user:{...f.user,emailVerified:!0}})}}if(a.query.callbackURL)throw a.redirect(a.query.callbackURL);return a.json({status:!0,user:null})});var n5=cl;async function qv(a,b){let{userInfo:c,account:d,callbackURL:e,disableSignUp:f,overrideUserInfo:g}=b,h=await a.context.internalAdapter.findOAuthUser(c.email.toLowerCase(),d.accountId,d.providerId).catch(b=>{oU.logger.error("Better auth was unable to query your database.\nError: ",b);let c=a.context.options.onAPIError?.errorURL||`${a.context.baseURL}/error`;throw a.redirect(`${c}?error=internal_server_error`)}),i=h?.user,j=!i;if(h){let e=h.accounts.find(a=>a.providerId===d.providerId&&a.accountId===d.accountId);if(e){if(a.context.options.account?.updateAccountOnSignIn!==!1){let b=Object.fromEntries(Object.entries({idToken:d.idToken,accessToken:await pF(d.accessToken,a.context),refreshToken:await pF(d.refreshToken,a.context),accessTokenExpiresAt:d.accessTokenExpiresAt,refreshTokenExpiresAt:d.refreshTokenExpiresAt,scope:d.scope}).filter(([a,b])=>void 0!==b));a.context.options.account?.storeAccountCookie&&await pk(a,{...d,...b}),Object.keys(b).length>0&&await a.context.internalAdapter.updateAccount(e.id,b)}c.emailVerified&&!h.user.emailVerified&&c.email.toLowerCase()===h.user.email&&await a.context.internalAdapter.updateUser(h.user.id,{emailVerified:!0})}else{let e=a.context.options.account?.accountLinking?.trustedProviders;if(!(b.isTrustedProvider||e?.includes(d.providerId))&&!c.emailVerified||a.context.options.account?.accountLinking?.enabled===!1)return(0,n5.d)()&&oU.logger.warn(`User already exist but account isn't linked to ${d.providerId}. To read more about how account linking works in Better Auth see https://www.better-auth.com/docs/concepts/users-accounts#account-linking.`),{error:"account not linked",data:null};try{await a.context.internalAdapter.linkAccount({providerId:d.providerId,accountId:c.id.toString(),userId:h.user.id,accessToken:await pF(d.accessToken,a.context),refreshToken:await pF(d.refreshToken,a.context),idToken:d.idToken,accessTokenExpiresAt:d.accessTokenExpiresAt,refreshTokenExpiresAt:d.refreshTokenExpiresAt,scope:d.scope})}catch(a){return oU.logger.error("Unable to link account",a),{error:"unable to link account",data:null}}c.emailVerified&&!h.user.emailVerified&&c.email.toLowerCase()===h.user.email&&await a.context.internalAdapter.updateUser(h.user.id,{emailVerified:!0})}if(g){let{id:b,...d}=c;i=await a.context.internalAdapter.updateUser(h.user.id,{...d,email:c.email.toLowerCase(),emailVerified:c.email.toLowerCase()===h.user.email&&h.user.emailVerified||c.emailVerified})}}else{if(f)return{error:"signup disabled",data:null,isRegister:!1};try{let{id:b,...f}=c,g={accessToken:await pF(d.accessToken,a.context),refreshToken:await pF(d.refreshToken,a.context),idToken:d.idToken,accessTokenExpiresAt:d.accessTokenExpiresAt,refreshTokenExpiresAt:d.refreshTokenExpiresAt,scope:d.scope,providerId:d.providerId,accountId:c.id.toString()},{user:h,account:j}=await a.context.internalAdapter.createOAuthUser({...f,email:c.email.toLowerCase()},g);if(i=h,a.context.options.account?.storeAccountCookie&&await pk(a,j),!c.emailVerified&&i&&a.context.options.emailVerification?.sendOnSignUp&&a.context.options.emailVerification?.sendVerificationEmail){let b=await qr(a.context.secret,i.email,void 0,a.context.options.emailVerification?.expiresIn),c=`${a.context.baseURL}/verify-email?token=${b}&callbackURL=${e}`;await a.context.runInBackgroundOrAwait(a.context.options.emailVerification.sendVerificationEmail({user:i,url:c,token:b},a.request))}}catch(a){if(oU.logger.error(a),a instanceof nA)return{error:a.message,data:null,isRegister:!1};return{error:"unable to create user",data:null,isRegister:!1}}}if(!i)return{error:"unable to create user",data:null,isRegister:!1};let k=await a.context.internalAdapter.createSession(i.id);return k?{data:{session:k,user:i},error:null,isRegister:j}:{error:"unable to create session",data:null,isRegister:!1}}var or=cm;let qw=l3({code:kJ().optional(),error:kJ().optional(),device_id:kJ().optional(),error_description:kJ().optional(),state:kJ().optional(),user:kJ().optional()}),qx=ol("/callback/:id",{method:["GET","POST"],operationId:"handleOAuthCallback",body:qw.optional(),query:qw.optional(),metadata:{...n3,allowedMediaTypes:["application/x-www-form-urlencoded","application/json"]}},async a=>{let b,c,d,e=a.context.options.onAPIError?.errorURL||`${a.context.baseURL}/error`;if("POST"===a.method){let b=a.body?qw.parse(a.body):{},c=a.query?qw.parse(a.query):{},d=qw.parse({...b,...c}),e=new URLSearchParams;for(let[a,b]of Object.entries(d))null!=b&&e.set(a,String(b));let f=`${a.context.baseURL}/callback/${a.params.id}?${e.toString()}`;throw a.redirect(f)}try{if("GET"===a.method)b=qw.parse(a.query);else if("POST"===a.method)b=qw.parse(a.body);else throw Error("Unsupported method")}catch(b){throw a.context.logger.error("INVALID_CALLBACK_REQUEST",b),a.redirect(`${e}?error=invalid_callback_request`)}let{code:f,error:g,state:h,error_description:i,device_id:j}=b;if(!h){a.context.logger.error("State not found",g);let b=`${e}${e.includes("?")?"&":"?"}state=state_not_found`;throw a.redirect(b)}let{codeVerifier:k,callbackURL:l,link:m,errorURL:n,newUserURL:o,requestSignUp:p}=await n2(a);function q(b,c){let d=n??e,f=new URLSearchParams({error:b});c&&f.set("error_description",c);let g=`${d}${d.includes("?")?"&":"?"}${f.toString()}`;throw a.redirect(g)}if(g&&q(g,i),!f)throw a.context.logger.error("Code not found"),q("no_code");let r=a.context.socialProviders.find(b=>b.id===a.params.id);if(!r)throw a.context.logger.error("Oauth provider with id",a.params.id,"not found"),q("oauth_provider_not_found");try{c=await r.validateAuthorizationCode({code:f,codeVerifier:k,deviceId:j,redirectURI:`${a.context.baseURL}/callback/${r.id}`})}catch(b){throw a.context.logger.error("",b),q("invalid_code")}let s=await r.getUserInfo({...c,user:a.body?.user?(0,or.n)(a.body.user):void 0}).then(a=>a?.user);if(!s)return a.context.logger.error("Unable to get user info"),q("unable_to_get_user_info");if(!l)throw a.context.logger.error("No callback URL found"),q("no_callback_url");if(m){let b;if(!a.context.options.account?.accountLinking?.trustedProviders?.includes(r.id)&&!s.emailVerified||a.context.options.account?.accountLinking?.enabled===!1)return a.context.logger.error("Unable to link account - untrusted provider"),q("unable_to_link_account");if(s.email!==m.email&&a.context.options.account?.accountLinking?.allowDifferentEmails!==!0)return q("email_doesn't_match");let d=await a.context.internalAdapter.findAccount(String(s.id));if(d){if(d.userId.toString()!==m.userId.toString())return q("account_already_linked_to_different_user");let b=Object.fromEntries(Object.entries({accessToken:await pF(c.accessToken,a.context),refreshToken:await pF(c.refreshToken,a.context),idToken:c.idToken,accessTokenExpiresAt:c.accessTokenExpiresAt,refreshTokenExpiresAt:c.refreshTokenExpiresAt,scope:c.scopes?.join(",")}).filter(([a,b])=>void 0!==b));await a.context.internalAdapter.updateAccount(d.id,b)}else if(!await a.context.internalAdapter.createAccount({userId:m.userId,providerId:r.id,accountId:String(s.id),...c,accessToken:await pF(c.accessToken,a.context),refreshToken:await pF(c.refreshToken,a.context),scope:c.scopes?.join(",")}))return q("unable_to_link_account");try{b=l.toString()}catch{b=l}throw a.redirect(b)}if(!s.email)return a.context.logger.error("Provider did not return email. This could be due to misconfiguration in the provider settings."),q("email_not_found");let t={providerId:r.id,accountId:String(s.id),...c,scope:c.scopes?.join(",")},u=await qv(a,{userInfo:{...s,id:String(s.id),email:s.email,name:s.name||s.email},account:t,callbackURL:l,disableSignUp:r.disableImplicitSignUp&&!p||r.options?.disableSignUp,overrideUserInfo:r.options?.overrideUserInfoOnSignIn});if(u.error)return a.context.logger.error(u.error.split(" ").join("_")),q(u.error.split(" ").join("_"));let{session:v,user:w}=u.data;await pu(a,{session:v,user:w});try{d=(u.isRegister&&o||l).toString()}catch{d=u.isRegister&&o||l}throw a.redirect(d)});var po=cl;function qy(a){return a.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/&(?!amp;|lt;|gt;|quot;|#39;|#x[0-9a-fA-F]+;|#[0-9]+;)/g,"&amp;")}let qz=ol("/error",{method:"GET",metadata:{...n3,openapi:{description:"Displays an error page",responses:{200:{description:"Success",content:{"text/html":{schema:{type:"string",description:"The HTML content of the error page"}}}}}}}},async a=>{let b=new URL(a.request?.url||""),c=b.searchParams.get("error")||"UNKNOWN",d=b.searchParams.get("error_description")||null,e=/^[\'A-Za-z0-9_-]+$/.test(c||"")?c:"UNKNOWN",f=d?qy(d):null,g=new URLSearchParams;g.set("error",e),d&&g.set("error_description",d);let h=a.context.options,i=h.onAPIError?.errorURL;return i?new Response(null,{status:302,headers:{Location:`${i}${i.includes("?")?"&":"?"}${g.toString()}`}}):po.f&&!h.onAPIError?.customizeDefaultErrorPage?new Response(null,{status:302,headers:{Location:`/?${g.toString()}`}}):new Response(((a,b="Unknown",c=null)=>{let d=a.onAPIError?.customizeDefaultErrorPage;return`<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Error</title>
    <style>
      * {
        box-sizing: border-box;
      }
      body {
        font-family: ${d?.font?.defaultFamily||"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif"};
        background: ${d?.colors?.background||"var(--background)"};
        color: var(--foreground);
        margin: 0;
      }
      :root,
      :host {
        --spacing: 0.25rem;
        --container-md: 28rem;
        --text-sm: ${d?.size?.textSm||"0.875rem"};
        --text-sm--line-height: calc(1.25 / 0.875);
        --text-2xl: ${d?.size?.text2xl||"1.5rem"};
        --text-2xl--line-height: calc(2 / 1.5);
        --text-4xl: ${d?.size?.text4xl||"2.25rem"};
        --text-4xl--line-height: calc(2.5 / 2.25);
        --text-6xl: ${d?.size?.text6xl||"3rem"};
        --text-6xl--line-height: 1;
        --font-weight-medium: 500;
        --font-weight-semibold: 600;
        --font-weight-bold: 700;
        --default-transition-duration: 150ms;
        --default-transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
        --radius: ${d?.size?.radiusSm||"0.625rem"};
        --default-mono-font-family: ${d?.font?.monoFamily||"var(--font-geist-mono)"};
        --primary: ${d?.colors?.primary||"black"};
        --primary-foreground: ${d?.colors?.primaryForeground||"white"};
        --background: ${d?.colors?.background||"white"};
        --foreground: ${d?.colors?.foreground||"oklch(0.271 0 0)"};
        --border: ${d?.colors?.border||"oklch(0.89 0 0)"};
        --destructive: ${d?.colors?.destructive||"oklch(0.55 0.15 25.723)"};
        --muted-foreground: ${d?.colors?.mutedForeground||"oklch(0.545 0 0)"};
        --corner-border: ${d?.colors?.cornerBorder||"#404040"};
      }

      button, .btn {
        cursor: pointer;
        background: none;
        border: none;
        color: inherit;
        font: inherit;
        transition: all var(--default-transition-duration)
          var(--default-transition-timing-function);
      }
      button:hover, .btn:hover {
        opacity: 0.8;
      }

      @media (prefers-color-scheme: dark) {
        :root,
        :host {
          --primary: ${d?.colors?.primary||"white"};
          --primary-foreground: ${d?.colors?.primaryForeground||"black"};
          --background: ${d?.colors?.background||"oklch(0.15 0 0)"};
          --foreground: ${d?.colors?.foreground||"oklch(0.98 0 0)"};
          --border: ${d?.colors?.border||"oklch(0.27 0 0)"};
          --destructive: ${d?.colors?.destructive||"oklch(0.65 0.15 25.723)"};
          --muted-foreground: ${d?.colors?.mutedForeground||"oklch(0.65 0 0)"};
          --corner-border: ${d?.colors?.cornerBorder||"#a0a0a0"};
        }
      }
      @media (max-width: 640px) {
        :root, :host {
          --text-6xl: 2.5rem;
          --text-2xl: 1.25rem;
          --text-sm: 0.8125rem;
        }
      }
      @media (max-width: 480px) {
        :root, :host {
          --text-6xl: 2rem;
          --text-2xl: 1.125rem;
        }
      }
    </style>
  </head>
  <body style="width: 100vw; min-height: 100vh; overflow-x: hidden; overflow-y: auto;">
    <div
        style="
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 1.5rem;
            position: relative;
            width: 100%;
            min-height: 100vh;
            padding: 1rem;
        "
        >
${d?.disableBackgroundGrid?"":`
      <div
        style="
          position: absolute;
          inset: 0;
          background-image: linear-gradient(to right, ${d?.colors?.gridColor||"var(--border)"} 1px, transparent 1px),
            linear-gradient(to bottom, ${d?.colors?.gridColor||"var(--border)"} 1px, transparent 1px);
          background-size: 40px 40px;
          opacity: 0.6;
          pointer-events: none;
          width: 100vw;
          height: 100vh;
        "
      ></div>
      <div
        style="
          position: absolute;
          inset: 0;
          display: flex;
          align-items: center;
          justify-content: center;
          background: ${d?.colors?.background||"var(--background)"};
          mask-image: radial-gradient(ellipse at center, transparent 20%, black);
          -webkit-mask-image: radial-gradient(ellipse at center, transparent 20%, black);
          pointer-events: none;
        "
      ></div>
`}

<div
  style="
    position: relative;
    z-index: 10;
    border: 2px solid var(--border);
    background: ${d?.colors?.cardBackground||"var(--background)"};
    padding: 1.5rem;
    max-width: 42rem;
    width: 100%;
  "
>
    ${d?.disableCornerDecorations?"":`
        <!-- Corner decorations -->
        <div
          style="
            position: absolute;
            top: -2px;
            left: -2px;
            width: 2rem;
            height: 2rem;
            border-top: 4px solid var(--corner-border);
            border-left: 4px solid var(--corner-border);
          "
        ></div>
        <div
          style="
            position: absolute;
            top: -2px;
            right: -2px;
            width: 2rem;
            height: 2rem;
            border-top: 4px solid var(--corner-border);
            border-right: 4px solid var(--corner-border);
          "
        ></div>
  
        <div
          style="
            position: absolute;
            bottom: -2px;
            left: -2px;
            width: 2rem;
            height: 2rem;
            border-bottom: 4px solid var(--corner-border);
            border-left: 4px solid var(--corner-border);
          "
        ></div>
        <div
          style="
            position: absolute;
            bottom: -2px;
            right: -2px;
            width: 2rem;
            height: 2rem;
            border-bottom: 4px solid var(--corner-border);
            border-right: 4px solid var(--corner-border);
          "
        ></div>`}

        <div style="text-align: center; margin-bottom: 1.5rem;">
          <div style="margin-bottom: 1.5rem;">
            <div
              style="
                display: inline-block;
                border: 2px solid ${d?.disableTitleBorder?"transparent":d?.colors?.titleBorder||"var(--destructive)"};
                padding: 0.375rem 1rem;
              "
            >
              <h1
                style="
                  font-size: var(--text-6xl);
                  font-weight: var(--font-weight-semibold);
                  color: ${d?.colors?.titleColor||"var(--foreground)"};
                  letter-spacing: -0.02em;
                  margin: 0;
                "
              >
                ERROR
              </h1>
            </div>
            <div
              style="
                height: 2px;
                background-color: var(--border);
                width: calc(100% + 3rem);
                margin-left: -1.5rem;
                margin-top: 1.5rem;
              "
            ></div>
          </div>

          <h2
            style="
              font-size: var(--text-2xl);
              font-weight: var(--font-weight-semibold);
              color: var(--foreground);
              margin: 0 0 1rem;
            "
          >
            Something went wrong
          </h2>

          <div
            style="
                display: inline-flex;
                align-items: center;
                gap: 0.5rem;
                border: 2px solid var(--border);
                background-color: var(--muted);
                padding: 0.375rem 0.75rem;
                margin: 0 0 1rem;
                flex-wrap: wrap;
                justify-content: center;
            "
            >
            <span
                style="
                font-size: 0.75rem;
                color: var(--muted-foreground);
                font-weight: var(--font-weight-semibold);
                "
            >
                CODE:
            </span>
            <span
                style="
                font-size: var(--text-sm);
                font-family: var(--default-mono-font-family, monospace);
                color: var(--foreground);
                word-break: break-all;
                "
            >
                ${qy(b)}
            </span>
            </div>

          <p
            style="
              color: var(--muted-foreground);
              max-width: 28rem;
              margin: 0 auto;
              font-size: var(--text-sm);
              line-height: 1.5;
              text-wrap: pretty;
            "
          >
            ${!c?`We encountered an unexpected error. Please try again or return to the home page. If you're a developer, you can find more information about the error <a href='https://better-auth.com/docs/errors/${encodeURIComponent(b)}' target='_blank' rel="noopener noreferrer" style='color: var(--foreground); text-decoration: underline;'>here</a>.`:c}
          </p>
        </div>

        <div
          style="
            display: flex;
            gap: 0.75rem;
            margin-top: 1.5rem;
            justify-content: center;
            flex-wrap: wrap;
          "
        >
          <a
            href="/"
            style="
              text-decoration: none;
            "
          >
            <div
              style="
                border: 2px solid var(--border);
                background: var(--primary);
                color: var(--primary-foreground);
                padding: 0.5rem 1rem;
                border-radius: 0;
                white-space: nowrap;
              "
              class="btn"
            >
              Go Home
            </div>
          </a>
          <a
            href="https://better-auth.com/docs/errors/${encodeURIComponent(b)}?askai=${encodeURIComponent(`What does the error code ${b} mean?`)}"
            target="_blank"
            rel="noopener noreferrer"
            style="
              text-decoration: none;
            "
          >
            <div
              style="
                border: 2px solid var(--border);
                background: transparent;
                color: var(--foreground);
                padding: 0.5rem 1rem;
                border-radius: 0;
                white-space: nowrap;
              "
              class="btn"
            >
              Ask AI
            </div>
          </a>
        </div>
      </div>
    </div>
  </body>
</html>`})(a.context.options,e,f),{headers:{"Content-Type":"text/html"}})}),qA=ol("/ok",{method:"GET",metadata:{...n3,openapi:{description:"Check if the API is working",responses:{200:{description:"API is working",content:{"application/json":{schema:{type:"object",properties:{ok:{type:"boolean",description:"Indicates if the API is working"}},required:["ok"]}}}}}}}},async a=>a.json({ok:!0}));var n4=cm,oh=cn;function qB(a,b,c){let d=b?new URL(b,a.baseURL):new URL(`${a.baseURL}/error`);return c&&Object.entries(c).forEach(([a,b])=>d.searchParams.set(a,b)),d.href}let qC=ol("/request-password-reset",{method:"POST",body:l3({email:kM().meta({description:"The email address of the user to send a password reset email to"}),redirectTo:kJ().meta({description:"The URL to redirect the user to reset their password. If the token isn't valid or expired, it'll be redirected with a query parameter `?error=INVALID_TOKEN`. If the token is valid, it'll be redirected with a query parameter `?token=VALID_TOKEN"}).optional()}),metadata:{openapi:{operationId:"requestPasswordReset",description:"Send a password reset email to the user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean"},message:{type:"string"}}}}}}}}}},async a=>{if(!a.context.options.emailAndPassword?.sendResetPassword)throw a.context.logger.error("Reset password isn't enabled.Please pass an emailAndPassword.sendResetPassword function in your auth config!"),new nA("BAD_REQUEST",{message:"Reset password isn't enabled"});let{email:b,redirectTo:c}=a.body,d=await a.context.internalAdapter.findUserByEmail(b,{includeAccounts:!0});if(!d)return(0,n4.r)(24),await a.context.internalAdapter.findVerificationValue("dummy-verification-token"),a.context.logger.error("Reset Password: User not found",{email:b}),a.json({status:!0,message:"If this email exists in our system, check your email for the reset link"});let e=ou(a.context.options.emailAndPassword.resetPasswordTokenExpiresIn||3600,"sec"),f=(0,n4.r)(24);await a.context.internalAdapter.createVerificationValue({value:d.user.id,identifier:`reset-password:${f}`,expiresAt:e});let g=c?encodeURIComponent(c):"",h=`${a.context.baseURL}/reset-password/${f}?callbackURL=${g}`;return await a.context.runInBackgroundOrAwait(a.context.options.emailAndPassword.sendResetPassword({user:d.user,url:h,token:f},a.request)),a.json({status:!0,message:"If this email exists in our system, check your email for the reset link"})}),qD=ol("/reset-password/:token",{method:"GET",operationId:"forgetPasswordCallback",query:l3({callbackURL:kJ().meta({description:"The URL to redirect the user to reset their password"})}),use:[on(a=>a.query.callbackURL)],metadata:{openapi:{operationId:"resetPasswordCallback",description:"Redirects the user to the callback URL with the token",parameters:[{name:"token",in:"path",required:!0,description:"The token to reset the password",schema:{type:"string"}},{name:"callbackURL",in:"query",required:!0,description:"The URL to redirect the user to reset their password",schema:{type:"string"}}],responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{token:{type:"string"}}}}}}}}}},async a=>{var b,c;let d,{token:e}=a.params,{callbackURL:f}=a.query;if(!e||!f)throw a.redirect(qB(a.context,f,{error:"INVALID_TOKEN"}));let g=await a.context.internalAdapter.findVerificationValue(`reset-password:${e}`);if(!g||g.expiresAt<new Date)throw a.redirect(qB(a.context,f,{error:"INVALID_TOKEN"}));throw a.redirect((b=a.context,c={token:e},d=new URL(f,b.baseURL),c&&Object.entries(c).forEach(([a,b])=>d.searchParams.set(a,b)),d.href))}),qE=ol("/reset-password",{method:"POST",operationId:"resetPassword",query:l3({token:kJ().optional()}).optional(),body:l3({newPassword:kJ().meta({description:"The new password to set"}),token:kJ().meta({description:"The token to reset the password"}).optional()}),metadata:{openapi:{operationId:"resetPassword",description:"Reset the password for a user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean"}}}}}}}}}},async a=>{let b=a.body.token||a.query?.token;if(!b)throw new nA("BAD_REQUEST",{message:oh.n.INVALID_TOKEN});let{newPassword:c}=a.body,d=a.context.password?.config.minPasswordLength,e=a.context.password?.config.maxPasswordLength;if(c.length<d)throw new nA("BAD_REQUEST",{message:oh.n.PASSWORD_TOO_SHORT});if(c.length>e)throw new nA("BAD_REQUEST",{message:oh.n.PASSWORD_TOO_LONG});let f=`reset-password:${b}`,g=await a.context.internalAdapter.findVerificationValue(f);if(!g||g.expiresAt<new Date)throw new nA("BAD_REQUEST",{message:oh.n.INVALID_TOKEN});let h=g.value,i=await a.context.password.hash(c);if((await a.context.internalAdapter.findAccounts(h)).find(a=>"credential"===a.providerId)?await a.context.internalAdapter.updatePassword(h,i):await a.context.internalAdapter.createAccount({userId:h,providerId:"credential",password:i,accountId:h}),await a.context.internalAdapter.deleteVerificationValue(g.id),a.context.options.emailAndPassword?.onPasswordReset){let b=await a.context.internalAdapter.findUserById(h);b&&await a.context.options.emailAndPassword.onPasswordReset({user:b},a.request)}return a.context.options.emailAndPassword?.revokeSessionsOnPasswordReset&&await a.context.internalAdapter.deleteSessions(h),a.json({status:!0})});var oh=cn;let qF=l3({callbackURL:kJ().meta({description:"Callback URL to redirect to after the user has signed in"}).optional(),newUserCallbackURL:kJ().optional(),errorCallbackURL:kJ().meta({description:"Callback URL to redirect to if an error happens"}).optional(),provider:qk,disableRedirect:lF().meta({description:"Disable automatic redirection to the provider. Useful for handling the redirection yourself"}).optional(),idToken:my(l3({token:kJ().meta({description:"ID token from the provider"}),nonce:kJ().meta({description:"Nonce used to generate the token"}).optional(),accessToken:kJ().meta({description:"Access token from the provider"}).optional(),refreshToken:kJ().meta({description:"Refresh token from the provider"}).optional(),expiresAt:lx().meta({description:"Expiry date of the token"}).optional()})),scopes:l0(kJ()).meta({description:"Array of scopes to request from the provider. This will override the default scopes passed."}).optional(),requestSignUp:lF().meta({description:"Explicitly request sign-up. Useful when disableImplicitSignUp is true for this provider"}).optional(),loginHint:kJ().meta({description:"The login hint to use for the authorization code request"}).optional(),additionalData:mh(kJ(),lS()).optional().meta({description:"Additional data to be passed through the OAuth flow"})}),qG=ol("/sign-out",{method:"POST",operationId:"signOut",requireHeaders:!0,metadata:{openapi:{operationId:"signOut",description:"Sign out the current user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{success:{type:"boolean"}}}}}}}}}},async a=>{let b=await a.getSignedCookie(a.context.authCookies.sessionToken.name,a.context.secret);if(b)try{await a.context.internalAdapter.deleteSession(b)}catch(b){a.context.logger.error("Failed to delete session from database",b)}return pv(a),a.json({success:!0})});var n5=cl,oh=cn;let qH=l3({name:kJ().nonempty(),email:kM(),password:kJ().nonempty(),image:kJ().optional(),callbackURL:kJ().optional(),rememberMe:lF().optional()}).and(mh(kJ(),lS()));var oh=cn;let qI=mh(kJ().meta({description:"Field name must be a string"}),lS()),qJ=ol("/change-password",{method:"POST",operationId:"changePassword",body:l3({newPassword:kJ().meta({description:"The new password to set"}),currentPassword:kJ().meta({description:"The current password is required"}),revokeOtherSessions:lF().meta({description:"Must be a boolean value"}).optional()}),use:[pz],metadata:{openapi:{operationId:"changePassword",description:"Change the password of the user",responses:{200:{description:"Password successfully changed",content:{"application/json":{schema:{type:"object",properties:{token:{type:"string",nullable:!0,description:"New session token if other sessions were revoked"},user:{type:"object",properties:{id:{type:"string",description:"The unique identifier of the user"},email:{type:"string",format:"email",description:"The email address of the user"},name:{type:"string",description:"The name of the user"},image:{type:"string",format:"uri",nullable:!0,description:"The profile image URL of the user"},emailVerified:{type:"boolean",description:"Whether the email has been verified"},createdAt:{type:"string",format:"date-time",description:"When the user was created"},updatedAt:{type:"string",format:"date-time",description:"When the user was last updated"}},required:["id","email","name","emailVerified","createdAt","updatedAt"]}},required:["user"]}}}}}}}},async a=>{let{newPassword:b,currentPassword:c,revokeOtherSessions:d}=a.body,e=a.context.session,f=a.context.password.config.minPasswordLength;if(b.length<f)throw a.context.logger.error("Password is too short"),new nA("BAD_REQUEST",{message:oh.n.PASSWORD_TOO_SHORT});let g=a.context.password.config.maxPasswordLength;if(b.length>g)throw a.context.logger.error("Password is too long"),new nA("BAD_REQUEST",{message:oh.n.PASSWORD_TOO_LONG});let h=(await a.context.internalAdapter.findAccounts(e.user.id)).find(a=>"credential"===a.providerId&&a.password);if(!h||!h.password)throw new nA("BAD_REQUEST",{message:oh.n.CREDENTIAL_ACCOUNT_NOT_FOUND});let i=await a.context.password.hash(b);if(!await a.context.password.verify({hash:h.password,password:c}))throw new nA("BAD_REQUEST",{message:oh.n.INVALID_PASSWORD});await a.context.internalAdapter.updateAccount(h.id,{password:i});let j=null;if(d){await a.context.internalAdapter.deleteSessions(e.user.id);let b=await a.context.internalAdapter.createSession(e.user.id);if(!b)throw new nA("INTERNAL_SERVER_ERROR",{message:oh.n.FAILED_TO_GET_SESSION});await pu(a,{session:b,user:e.user}),j=b.token}return a.json({token:j,user:{id:e.user.id,email:e.user.email,name:e.user.name,image:e.user.image,emailVerified:e.user.emailVerified,createdAt:e.user.createdAt,updatedAt:e.user.updatedAt}})}),qK=ol({method:"POST",body:l3({newPassword:kJ().meta({description:"The new password to set is required"})}),use:[pz]},async a=>{let{newPassword:b}=a.body,c=a.context.session,d=a.context.password.config.minPasswordLength;if(b.length<d)throw a.context.logger.error("Password is too short"),new nA("BAD_REQUEST",{message:oh.n.PASSWORD_TOO_SHORT});let e=a.context.password.config.maxPasswordLength;if(b.length>e)throw a.context.logger.error("Password is too long"),new nA("BAD_REQUEST",{message:oh.n.PASSWORD_TOO_LONG});let f=(await a.context.internalAdapter.findAccounts(c.user.id)).find(a=>"credential"===a.providerId&&a.password),g=await a.context.password.hash(b);if(!f)return await a.context.internalAdapter.linkAccount({userId:c.user.id,providerId:"credential",accountId:c.user.id,password:g}),a.json({status:!0});throw new nA("BAD_REQUEST",{message:"user already has a password"})}),qL=ol("/delete-user",{method:"POST",use:[pz],body:l3({callbackURL:kJ().meta({description:"The callback URL to redirect to after the user is deleted"}).optional(),password:kJ().meta({description:"The password of the user is required to delete the user"}).optional(),token:kJ().meta({description:"The token to delete the user is required"}).optional()}),metadata:{openapi:{operationId:"deleteUser",description:"Delete the user",requestBody:{content:{"application/json":{schema:{type:"object",properties:{callbackURL:{type:"string",description:"The callback URL to redirect to after the user is deleted"},password:{type:"string",description:"The user's password. Required if session is not fresh"},token:{type:"string",description:"The deletion verification token"}}}}}},responses:{200:{description:"User deletion processed successfully",content:{"application/json":{schema:{type:"object",properties:{success:{type:"boolean",description:"Indicates if the operation was successful"},message:{type:"string",enum:["User deleted","Verification email sent"],description:"Status message of the deletion process"}},required:["success","message"]}}}}}}}},async a=>{if(!a.context.options.user?.deleteUser?.enabled)throw a.context.logger.error("Delete user is disabled. Enable it in the options"),new nA("NOT_FOUND");let b=a.context.session;if(a.body.password){let c=(await a.context.internalAdapter.findAccounts(b.user.id)).find(a=>"credential"===a.providerId&&a.password);if(!c||!c.password)throw new nA("BAD_REQUEST",{message:oh.n.CREDENTIAL_ACCOUNT_NOT_FOUND});if(!await a.context.password.verify({hash:c.password,password:a.body.password}))throw new nA("BAD_REQUEST",{message:oh.n.INVALID_PASSWORD})}if(a.body.token)return await qM({...a,query:{token:a.body.token}}),a.json({success:!0,message:"User deleted"});if(a.context.options.user.deleteUser?.sendDeleteAccountVerification){let c=O(32,"0-9","a-z");await a.context.internalAdapter.createVerificationValue({value:b.user.id,identifier:`delete-account-${c}`,expiresAt:new Date(Date.now()+1e3*(a.context.options.user.deleteUser?.deleteTokenExpiresIn||86400))});let d=`${a.context.baseURL}/delete-user/callback?token=${c}&callbackURL=${a.body.callbackURL||"/"}`;return await a.context.runInBackgroundOrAwait(a.context.options.user.deleteUser.sendDeleteAccountVerification({user:b.user,url:d,token:c},a.request)),a.json({success:!0,message:"Verification email sent"})}if(!a.body.password&&0!==a.context.sessionConfig.freshAge){let c=new Date(b.session.createdAt).getTime(),d=1e3*a.context.sessionConfig.freshAge;if(Date.now()-c>1e3*d)throw new nA("BAD_REQUEST",{message:oh.n.SESSION_EXPIRED})}let c=a.context.options.user.deleteUser?.beforeDelete;c&&await c(b.user,a.request),await a.context.internalAdapter.deleteUser(b.user.id),await a.context.internalAdapter.deleteSessions(b.user.id),pv(a);let d=a.context.options.user.deleteUser?.afterDelete;return d&&await d(b.user,a.request),a.json({success:!0,message:"User deleted"})}),qM=ol("/delete-user/callback",{method:"GET",query:l3({token:kJ().meta({description:"The token to verify the deletion request"}),callbackURL:kJ().meta({description:"The URL to redirect to after deletion"}).optional()}),use:[on(a=>a.query.callbackURL)],metadata:{openapi:{description:"Callback to complete user deletion with verification token",responses:{200:{description:"User successfully deleted",content:{"application/json":{schema:{type:"object",properties:{success:{type:"boolean",description:"Indicates if the deletion was successful"},message:{type:"string",enum:["User deleted"],description:"Confirmation message"}},required:["success","message"]}}}}}}}},async a=>{if(!a.context.options.user?.deleteUser?.enabled)throw a.context.logger.error("Delete user is disabled. Enable it in the options"),new nA("NOT_FOUND");let b=await px(a);if(!b)throw new nA("NOT_FOUND",{message:oh.n.FAILED_TO_GET_USER_INFO});let c=await a.context.internalAdapter.findVerificationValue(`delete-account-${a.query.token}`);if(!c||c.expiresAt<new Date||c.value!==b.user.id)throw new nA("NOT_FOUND",{message:oh.n.INVALID_TOKEN});let d=a.context.options.user.deleteUser?.beforeDelete;d&&await d(b.user,a.request),await a.context.internalAdapter.deleteUser(b.user.id),await a.context.internalAdapter.deleteSessions(b.user.id),await a.context.internalAdapter.deleteAccounts(b.user.id),await a.context.internalAdapter.deleteVerificationValue(c.id),pv(a);let e=a.context.options.user.deleteUser?.afterDelete;if(e&&await e(b.user,a.request),a.query.callbackURL)throw a.redirect(a.query.callbackURL||"/");return a.json({success:!0,message:"User deleted"})}),qN=ol("/change-email",{method:"POST",body:l3({newEmail:kM().meta({description:"The new email address to set must be a valid email address"}),callbackURL:kJ().meta({description:"The URL to redirect to after email verification"}).optional()}),use:[pz],metadata:{openapi:{operationId:"changeEmail",responses:{200:{description:"Email change request processed successfully",content:{"application/json":{schema:{type:"object",properties:{user:{type:"object",$ref:"#/components/schemas/User"},status:{type:"boolean",description:"Indicates if the request was successful"},message:{type:"string",enum:["Email updated","Verification email sent"],description:"Status message of the email change process",nullable:!0}},required:["status"]}}}},422:{description:"Unprocessable Entity. Email already exists",content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}}}}}}},async a=>{if(!a.context.options.user?.changeEmail?.enabled)throw a.context.logger.error("Change email is disabled."),new nA("BAD_REQUEST",{message:"Change email is disabled"});let b=a.body.newEmail.toLowerCase();if(b===a.context.session.user.email)throw a.context.logger.error("Email is the same"),new nA("BAD_REQUEST",{message:"Email is the same"});if(await a.context.internalAdapter.findUserByEmail(b))throw a.context.logger.error("Email already exists"),new nA("UNPROCESSABLE_ENTITY",{message:oh.n.USER_ALREADY_EXISTS_USE_ANOTHER_EMAIL});if(!0!==a.context.session.user.emailVerified&&a.context.options.user.changeEmail.updateEmailWithoutVerification){if(await a.context.internalAdapter.updateUserByEmail(a.context.session.user.email,{email:b}),await pu(a,{session:a.context.session.session,user:{...a.context.session.user,email:b}}),a.context.options.emailVerification?.sendVerificationEmail){let c=await qr(a.context.secret,b,void 0,a.context.options.emailVerification?.expiresIn),d=`${a.context.baseURL}/verify-email?token=${c}&callbackURL=${a.body.callbackURL||"/"}`;await a.context.runInBackgroundOrAwait(a.context.options.emailVerification.sendVerificationEmail({user:{...a.context.session.user,email:b},url:d,token:c},a.request))}return a.json({status:!0})}if(a.context.session.user.emailVerified&&(a.context.options.user.changeEmail.sendChangeEmailConfirmation||a.context.options.user.changeEmail.sendChangeEmailVerification)){let c=await qr(a.context.secret,a.context.session.user.email,b,a.context.options.emailVerification?.expiresIn,{requestType:"change-email-confirmation"}),d=`${a.context.baseURL}/verify-email?token=${c}&callbackURL=${a.body.callbackURL||"/"}`,e=a.context.options.user.changeEmail.sendChangeEmailConfirmation||a.context.options.user.changeEmail.sendChangeEmailVerification;return e&&await a.context.runInBackgroundOrAwait(e({user:a.context.session.user,newEmail:b,url:d,token:c},a.request)),a.json({status:!0})}if(!a.context.options.emailVerification?.sendVerificationEmail)throw a.context.logger.error("Verification email isn't enabled."),new nA("BAD_REQUEST",{message:"Verification email isn't enabled"});let c=await qr(a.context.secret,a.context.session.user.email,b,a.context.options.emailVerification?.expiresIn,{requestType:"change-email-verification"}),d=`${a.context.baseURL}/verify-email?token=${c}&callbackURL=${a.body.callbackURL||"/"}`;return await a.context.runInBackgroundOrAwait(a.context.options.emailVerification.sendVerificationEmail({user:{...a.context.session.user,email:b},url:d,token:c},a.request)),a.json({status:!0})});function qO(a){if(null===a||"object"!=typeof a)return!1;let b=Object.getPrototypeOf(a);return(null===b||b===Object.prototype||null===Object.getPrototypeOf(b))&&!(Symbol.iterator in a)&&(!(Symbol.toStringTag in a)||"[object Module]"===Object.prototype.toString.call(a))}function qP(a){return(...b)=>b.reduce((b,c)=>(function a(b,c,d=".",e){if(!qO(c))return a(b,{},d,e);let f=Object.assign({},c);for(let c in b){if("__proto__"===c||"constructor"===c)continue;let g=b[c];null!=g&&(e&&e(f,c,g,d)||(Array.isArray(g)&&Array.isArray(f[c])?f[c]=[...g,...f[c]]:qO(g)&&qO(f[c])?f[c]=a(g,f[c],(d?`${d}.`:"")+c.toString(),e):f[c]=g))}return f})(b,c,"",a),{})}let qQ=qP();qP((a,b,c)=>{if(void 0!==a[b]&&"function"==typeof c)return a[b]=c(a[b]),!0}),qP((a,b,c)=>{if(Array.isArray(a[b])&&"function"==typeof c)return a[b]=c(a[b]),!0});let qR=qP((a,b,c)=>{if(Array.isArray(a[b])&&Array.isArray(c))return a[b]=c,!0}),qS=new WeakMap;async function qT(a,b){let c={};for(let d of b){let b=!1;try{b=d.matcher(a)}catch(c){let b=qS.get(d.handler)??"unknown";throw a.context.logger.error(`An error occurred during ${b} hook matcher execution:`,c),new nA("INTERNAL_SERVER_ERROR",{message:"An error occurred during hook matcher execution. Check the logs for more details."})}if(b){let b=await d.handler({...a,returnHeaders:!1}).catch(b=>{throw b instanceof nA&&(0,cl.a)(a.context.logger.level,"debug")&&(b.stack=b.errorStack),b});if(b&&"object"==typeof b){if("context"in b&&"object"==typeof b.context){let{headers:a,...d}=b.context;a instanceof Headers&&(c.headers?a.forEach((a,b)=>{c.headers?.set(b,a)}):c.headers=a),c=qR(d,c);continue}return b}}}return{context:c}}async function qU(a,b){for(let c of b)if(c.matcher(a)){let b=await c.handler(a).catch(b=>{if(b instanceof nA)return(0,cl.a)(a.context.logger.level,"debug")&&(b.stack=b.errorStack),{response:b,headers:b.headers?new Headers(b.headers):null};throw b});b.headers&&b.headers.forEach((b,c)=>{a.context.responseHeaders?"set-cookie"===c.toLowerCase()?a.context.responseHeaders.append(c,b):a.context.responseHeaders.set(c,b):a.context.responseHeaders=new Headers({[c]:b})}),b.response&&(a.context.returned=b.response)}return{response:a.context.returned,headers:a.context.responseHeaders}}function qV(a,b){let c=b.plugins?.reduce((a,b)=>({...a,...b.endpoints}),{})??{},d=b.plugins?.map(b=>b.middlewares?.map(b=>{let c=async c=>{let d=await a;return b.middleware({...c,context:{...d,...c.context}})};return c.options=b.middleware.options,{path:b.path,middleware:c}})).filter(a=>void 0!==a).flat()||[];return{api:function(a,b){let c={};for(let[d,e]of Object.entries(a))c[d]=async a=>{let c=async()=>{let c=await b,d={...a,context:{...c,returned:void 0,responseHeaders:void 0,session:null},path:e.path,headers:a?.headers?new Headers(a?.headers):void 0};return t(d,async()=>{let{beforeHooks:b,afterHooks:f}=function(a){let b=a.options.plugins||[],c=[],d=[],e=a.options.hooks?.before;e&&(qS.set(e,"user"),c.push({matcher:()=>!0,handler:e}));let f=a.options.hooks?.after;f&&(qS.set(f,"user"),d.push({matcher:()=>!0,handler:f}));let g=b.filter(a=>a.hooks?.before).map(a=>a.hooks?.before).flat(),h=b.filter(a=>a.hooks?.after).map(a=>a.hooks?.after).flat();return g.length&&c.push(...g),h.length&&d.push(...h),{beforeHooks:c,afterHooks:d}}(c),g=await qT(d,b);if("context"in g&&g.context&&"object"==typeof g.context){let{headers:a,...b}=g.context;a&&a.forEach((a,b)=>{d.headers.set(b,a)}),d=qR(b,d)}else if(g)return a?.asResponse?nF(g,{headers:a?.headers}):a?.returnHeaders?{headers:a?.headers,response:g}:g;d.asResponse=!1,d.returnHeaders=!0,d.returnStatus=!0;let h=await t(d,()=>e(d)).catch(a=>{if(a instanceof nA)return{response:a,status:a.statusCode,headers:a.headers?new Headers(a.headers):null};throw a});if(h&&h instanceof Response)return h;d.context.returned=h.response,d.context.responseHeaders=h.headers;let i=await qU(d,f);if(i.response&&(h.response=i.response),h.response instanceof nA&&(0,cl.a)(c.logger.level,"debug")&&(h.response.stack=h.response.errorStack),h.response instanceof nA&&!a?.asResponse)throw h.response;return a?.asResponse?nF(h.response,{headers:h.headers,status:h.status}):a?.returnHeaders?a?.returnStatus?{headers:h.headers,response:h.response,status:h.status}:{headers:h.headers,response:h.response}:a?.returnStatus?{response:h.response,status:h.status}:h.response})};return await w()?c():y(new WeakMap,c)},c[d].path=e.path,c[d].options=e.options;return c}({signInSocial:ol("/sign-in/social",{method:"POST",operationId:"socialSignIn",body:qF,metadata:{$Infer:{body:{},returned:{}},openapi:{description:"Sign in with a social provider",operationId:"socialSignIn",responses:{200:{description:"Success - Returns either session details or redirect URL",content:{"application/json":{schema:{type:"object",description:"Session response when idToken is provided",properties:{token:{type:"string"},user:{type:"object",$ref:"#/components/schemas/User"},url:{type:"string"},redirect:{type:"boolean",enum:[!1]}},required:["redirect","token","user"]}}}}}}}},async a=>{let b=a.context.socialProviders.find(b=>b.id===a.body.provider);if(!b)throw a.context.logger.error("Provider not found. Make sure to add the provider in your auth config",{provider:a.body.provider}),new nA("NOT_FOUND",{message:oh.n.PROVIDER_NOT_FOUND});if(a.body.idToken){if(!b.verifyIdToken)throw a.context.logger.error("Provider does not support id token verification",{provider:a.body.provider}),new nA("NOT_FOUND",{message:oh.n.ID_TOKEN_NOT_SUPPORTED});let{token:c,nonce:d}=a.body.idToken;if(!await b.verifyIdToken(c,d))throw a.context.logger.error("Invalid id token",{provider:a.body.provider}),new nA("UNAUTHORIZED",{message:oh.n.INVALID_TOKEN});let e=await b.getUserInfo({idToken:c,accessToken:a.body.idToken.accessToken,refreshToken:a.body.idToken.refreshToken});if(!e||!e?.user)throw a.context.logger.error("Failed to get user info",{provider:a.body.provider}),new nA("UNAUTHORIZED",{message:oh.n.FAILED_TO_GET_USER_INFO});if(!e.user.email)throw a.context.logger.error("User email not found",{provider:a.body.provider}),new nA("UNAUTHORIZED",{message:oh.n.USER_EMAIL_NOT_FOUND});let f=await qv(a,{userInfo:{...e.user,email:e.user.email,id:String(e.user.id),name:e.user.name||"",image:e.user.image,emailVerified:e.user.emailVerified||!1},account:{providerId:b.id,accountId:String(e.user.id),accessToken:a.body.idToken.accessToken},callbackURL:a.body.callbackURL,disableSignUp:b.disableImplicitSignUp&&!a.body.requestSignUp||b.disableSignUp});if(f.error)throw new nA("UNAUTHORIZED",{message:f.error});return await pu(a,f.data),a.json({redirect:!1,token:f.data.session.token,url:void 0,user:oy(a.context.options,f.data.user)})}let{codeVerifier:c,state:d}=await n1(a,void 0,a.body.additionalData),e=await b.createAuthorizationURL({state:d,codeVerifier:c,redirectURI:`${a.context.baseURL}/callback/${b.id}`,scopes:a.body.scopes,loginHint:a.body.loginHint});return a.json({url:e.toString(),redirect:!a.body.disableRedirect})}),callbackOAuth:qx,getSession:pw(),signOut:qG,signUpEmail:ol("/sign-up/email",{method:"POST",operationId:"signUpWithEmailAndPassword",use:[op],body:qH,metadata:{allowedMediaTypes:["application/x-www-form-urlencoded","application/json"],$Infer:{body:{},returned:{}},openapi:{operationId:"signUpWithEmailAndPassword",description:"Sign up a user using email and password",requestBody:{content:{"application/json":{schema:{type:"object",properties:{name:{type:"string",description:"The name of the user"},email:{type:"string",description:"The email of the user"},password:{type:"string",description:"The password of the user"},image:{type:"string",description:"The profile image URL of the user"},callbackURL:{type:"string",description:"The URL to use for email verification callback"},rememberMe:{type:"boolean",description:"If this is false, the session will not be remembered. Default is `true`."}},required:["name","email","password"]}}}},responses:{200:{description:"Successfully created user",content:{"application/json":{schema:{type:"object",properties:{token:{type:"string",nullable:!0,description:"Authentication token for the session"},user:{type:"object",properties:{id:{type:"string",description:"The unique identifier of the user"},email:{type:"string",format:"email",description:"The email address of the user"},name:{type:"string",description:"The name of the user"},image:{type:"string",format:"uri",nullable:!0,description:"The profile image URL of the user"},emailVerified:{type:"boolean",description:"Whether the email has been verified"},createdAt:{type:"string",format:"date-time",description:"When the user was created"},updatedAt:{type:"string",format:"date-time",description:"When the user was last updated"}},required:["id","email","name","emailVerified","createdAt","updatedAt"]}},required:["user"]}}}},422:{description:"Unprocessable Entity. User already exists or failed to create user.",content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}}}}}}},async a=>D(a.context.adapter,async()=>{let b;if(!a.context.options.emailAndPassword?.enabled||a.context.options.emailAndPassword?.disableSignUp)throw new nA("BAD_REQUEST",{message:"Email and password sign up is not enabled"});let c=a.body,{name:d,email:e,password:f,image:g,callbackURL:h,rememberMe:i,...j}=c;if(!kM().safeParse(e).success)throw new nA("BAD_REQUEST",{message:oh.n.INVALID_EMAIL});if(!f||"string"!=typeof f)throw new nA("BAD_REQUEST",{message:oh.n.INVALID_PASSWORD});let k=a.context.password.config.minPasswordLength;if(f.length<k)throw a.context.logger.error("Password is too short"),new nA("BAD_REQUEST",{message:oh.n.PASSWORD_TOO_SHORT});let l=a.context.password.config.maxPasswordLength;if(f.length>l)throw a.context.logger.error("Password is too long"),new nA("BAD_REQUEST",{message:oh.n.PASSWORD_TOO_LONG});if((await a.context.internalAdapter.findUserByEmail(e))?.user)throw a.context.logger.info(`Sign-up attempt for existing email: ${e}`),new nA("UNPROCESSABLE_ENTITY",{message:oh.n.USER_ALREADY_EXISTS_USE_ANOTHER_EMAIL});let m=await a.context.password.hash(f);try{let c=oC(a.context.options,j,"create");if(!(b=await a.context.internalAdapter.createUser({email:e.toLowerCase(),name:d,image:g,...c,emailVerified:!1})))throw new nA("BAD_REQUEST",{message:oh.n.FAILED_TO_CREATE_USER})}catch(b){if((0,n5.d)()&&a.context.logger.error("Failed to create user",b),b instanceof nA)throw b;throw a.context.logger?.error("Failed to create user",b),new nA("UNPROCESSABLE_ENTITY",{message:oh.n.FAILED_TO_CREATE_USER})}if(!b)throw new nA("UNPROCESSABLE_ENTITY",{message:oh.n.FAILED_TO_CREATE_USER});if(await a.context.internalAdapter.linkAccount({userId:b.id,providerId:"credential",accountId:b.id,password:m}),a.context.options.emailVerification?.sendOnSignUp||a.context.options.emailAndPassword.requireEmailVerification){let d=await qr(a.context.secret,b.email,void 0,a.context.options.emailVerification?.expiresIn),e=c.callbackURL?encodeURIComponent(c.callbackURL):encodeURIComponent("/"),f=`${a.context.baseURL}/verify-email?token=${d}&callbackURL=${e}`;a.context.options.emailVerification?.sendVerificationEmail&&await a.context.runInBackgroundOrAwait(a.context.options.emailVerification.sendVerificationEmail({user:b,url:f,token:d},a.request))}if(!1===a.context.options.emailAndPassword.autoSignIn||a.context.options.emailAndPassword.requireEmailVerification)return a.json({token:null,user:oy(a.context.options,b)});let n=await a.context.internalAdapter.createSession(b.id,!1===i);if(!n)throw new nA("BAD_REQUEST",{message:oh.n.FAILED_TO_CREATE_SESSION});return await pu(a,{session:n,user:b},!1===i),a.json({token:n.token,user:oy(a.context.options,b)})})),signInEmail:ol("/sign-in/email",{method:"POST",operationId:"signInEmail",use:[op],body:l3({email:kJ().meta({description:"Email of the user"}),password:kJ().meta({description:"Password of the user"}),callbackURL:kJ().meta({description:"Callback URL to use as a redirect for email verification"}).optional(),rememberMe:lF().meta({description:"If this is false, the session will not be remembered. Default is `true`."}).default(!0).optional()}),metadata:{allowedMediaTypes:["application/x-www-form-urlencoded","application/json"],$Infer:{body:{},returned:{}},openapi:{operationId:"signInEmail",description:"Sign in with email and password",responses:{200:{description:"Success - Returns either session details or redirect URL",content:{"application/json":{schema:{type:"object",description:"Session response when idToken is provided",properties:{redirect:{type:"boolean",enum:[!1]},token:{type:"string",description:"Session token"},url:{type:"string",nullable:!0},user:{type:"object",$ref:"#/components/schemas/User"}},required:["redirect","token","user"]}}}}}}}},async a=>{if(!a.context.options?.emailAndPassword?.enabled)throw a.context.logger.error("Email and password is not enabled. Make sure to enable it in the options on you `auth.ts` file. Check `https://better-auth.com/docs/authentication/email-password` for more!"),new nA("BAD_REQUEST",{message:"Email and password is not enabled"});let{email:b,password:c}=a.body;if(!kM().safeParse(b).success)throw new nA("BAD_REQUEST",{message:oh.n.INVALID_EMAIL});let d=await a.context.internalAdapter.findUserByEmail(b,{includeAccounts:!0});if(!d)throw await a.context.password.hash(c),a.context.logger.error("User not found",{email:b}),new nA("UNAUTHORIZED",{message:oh.n.INVALID_EMAIL_OR_PASSWORD});let e=d.accounts.find(a=>"credential"===a.providerId);if(!e)throw await a.context.password.hash(c),a.context.logger.error("Credential account not found",{email:b}),new nA("UNAUTHORIZED",{message:oh.n.INVALID_EMAIL_OR_PASSWORD});let f=e?.password;if(!f)throw await a.context.password.hash(c),a.context.logger.error("Password not found",{email:b}),new nA("UNAUTHORIZED",{message:oh.n.INVALID_EMAIL_OR_PASSWORD});if(!await a.context.password.verify({hash:f,password:c}))throw a.context.logger.error("Invalid password"),new nA("UNAUTHORIZED",{message:oh.n.INVALID_EMAIL_OR_PASSWORD});if(a.context.options?.emailAndPassword?.requireEmailVerification&&!d.user.emailVerified){if(!a.context.options?.emailVerification?.sendVerificationEmail)throw new nA("FORBIDDEN",{message:oh.n.EMAIL_NOT_VERIFIED});if(a.context.options?.emailVerification?.sendOnSignIn){let b=await qr(a.context.secret,d.user.email,void 0,a.context.options.emailVerification?.expiresIn),c=a.body.callbackURL?encodeURIComponent(a.body.callbackURL):encodeURIComponent("/"),e=`${a.context.baseURL}/verify-email?token=${b}&callbackURL=${c}`;await a.context.runInBackgroundOrAwait(a.context.options.emailVerification.sendVerificationEmail({user:d.user,url:e,token:b},a.request))}throw new nA("FORBIDDEN",{message:oh.n.EMAIL_NOT_VERIFIED})}let g=await a.context.internalAdapter.createSession(d.user.id,!1===a.body.rememberMe);if(!g)throw a.context.logger.error("Failed to create session"),new nA("UNAUTHORIZED",{message:oh.n.FAILED_TO_CREATE_SESSION});return await pu(a,{session:g,user:d.user},!1===a.body.rememberMe),a.json({redirect:!!a.body.callbackURL,token:g.token,url:a.body.callbackURL,user:oy(a.context.options,d.user)})}),resetPassword:qE,verifyEmail:qu,sendVerificationEmail:qt,changeEmail:qN,changePassword:qJ,setPassword:qK,updateUser:ol("/update-user",{method:"POST",operationId:"updateUser",body:qI,use:[py],metadata:{$Infer:{body:{}},openapi:{operationId:"updateUser",description:"Update the current user",requestBody:{content:{"application/json":{schema:{type:"object",properties:{name:{type:"string",description:"The name of the user"},image:{type:"string",description:"The image of the user",nullable:!0}}}}}},responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{user:{type:"object",$ref:"#/components/schemas/User"}}}}}}}}}},async a=>{let b=a.body;if("object"!=typeof b||Array.isArray(b))throw new nA("BAD_REQUEST",{message:"Body must be an object"});if(b.email)throw new nA("BAD_REQUEST",{message:oh.n.EMAIL_CAN_NOT_BE_UPDATED});let{name:c,image:d,...e}=b,f=a.context.session,g=oC(a.context.options,e,"update");if(void 0===d&&void 0===c&&0===Object.keys(g).length)throw new nA("BAD_REQUEST",{message:"No fields to update"});let h=await a.context.internalAdapter.updateUser(f.user.id,{name:c,image:d,...g})??{...f.user,...void 0!==c&&{name:c},...void 0!==d&&{image:d},...g};return await pu(a,{session:f.session,user:h}),a.json({status:!0})}),deleteUser:qL,requestPasswordReset:qC,requestPasswordResetCallback:qD,listSessions:ol("/list-sessions",{method:"GET",operationId:"listUserSessions",use:[py],requireHeaders:!0,metadata:{openapi:{operationId:"listUserSessions",description:"List all active sessions for the user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"array",items:{$ref:"#/components/schemas/Session"}}}}}}}}},async a=>{try{let b=(await a.context.internalAdapter.listSessions(a.context.session.user.id)).filter(a=>a.expiresAt>new Date);return a.json(b)}catch(b){throw a.context.logger.error(b),a.error("INTERNAL_SERVER_ERROR")}}),revokeSession:pB,revokeSessions:pC,revokeOtherSessions:pD,linkSocialAccount:qm,listUserAccounts:ql,deleteUserCallback:qM,unlinkAccount:qn,refreshToken:qp,getAccessToken:qo,accountInfo:qq,...c,ok:qA,error:qz},a),middlewares:d}}var n4=cm;let qW="better-auth-secret-12345678901234567890";function qX(a){return!!a&&("object"==typeof a||"function"==typeof a)&&"function"==typeof a.then}async function qY(a,b){let c=(await b.context.internalAdapter.findAccounts(a))?.find(a=>"credential"===a.providerId),d=c?.password;if(!c||!d||!b.body.password)throw new nA("BAD_REQUEST",{message:"No password credential found"});if(!await b.context.password.verify({hash:d,password:b.body.password}))throw new nA("BAD_REQUEST",{message:"Invalid password"});return!0}var n8=cl;async function qZ(a){let b=a.options,c=b.plugins||[],d=a,e=[];for(let a of c)if(a.init){let c,f=a.init(d);if("object"==typeof(c=qX(f)?await f:f)){if(c.options){let{databaseHooks:a,...d}=c.options;a&&e.push(a),b=qQ(b,d)}c.context&&(d={...d,...c.context})}}return e.push(b.databaseHooks),d.internalAdapter=o_(d.adapter,{options:b,logger:d.logger,hooks:e.filter(a=>void 0!==a),generateId:d.generateId}),d.options=b,{context:d}}async function q$(a,b){let c=ob(a.baseURL,a.basePath),d=c?[new URL(c).origin]:[];a.trustedOrigins&&(Array.isArray(a.trustedOrigins)&&d.push(...a.trustedOrigins),"function"==typeof a.trustedOrigins&&d.push(...await a.trustedOrigins(b)));let e=n8.c.BETTER_AUTH_TRUSTED_ORIGINS;if(e&&d.push(...e.split(",")),d.filter(a=>!a).length)throw new co.t("A provided trusted origin is invalid, make sure your trusted origins list is properly defined.");return d}var oT=oM,o5=cl,n8=cl,po=cl,n6=cl,n8=cl,n6=cl;async function q_(){if(d)return d;try{let a="undefined"!=typeof process&&"function"==typeof process.cwd?process.cwd():"";if(!a)return;let[{default:b},{default:c}]=await Promise.all([Function("mm","return import(mm)")("fs/promises"),Function("mm","return import(mm)")("path")]),e=await b.readFile(c.join(a,"package.json"),"utf-8");return d=JSON.parse(e)}catch{}}async function q0(a){if(d)return d.dependencies?.[a]||d.devDependencies?.[a]||d.peerDependencies?.[a];try{let b="undefined"!=typeof process&&"function"==typeof process.cwd?process.cwd():"";if(!b)throw Error("no-cwd");let[{default:c},{default:d}]=await Promise.all([Function("mm","return import(mm)")("fs/promises"),Function("mm","return import(mm)")("path")]),e=d.join(b,"node_modules",a,"package.json"),f=await c.readFile(e,"utf-8");return JSON.parse(f).version||await q1(a)||void 0}catch{}return await q1(a)}async function q1(a){let b=await q_();if(b)return({...b.dependencies,...b.devDependencies,...b.peerDependencies})[a]}async function q2(){return(await q_())?.name}let q3={pg:"postgresql",mysql:"mysql",mariadb:"mariadb",sqlite3:"sqlite","better-sqlite3":"sqlite","@prisma/client":"prisma",mongoose:"mongodb",mongodb:"mongodb","drizzle-orm":"drizzle"};async function q4(){for(let[a,b]of Object.entries(q3)){let c=await q0(a);if(c)return{name:b,version:c}}}let q5={next:"next",nuxt:"nuxt","@remix-run/server-runtime":"remix",astro:"astro","@sveltejs/kit":"sveltekit","solid-start":"solid-start","tanstack-start":"tanstack-start",hono:"hono",express:"express",elysia:"elysia",expo:"expo"};async function q6(){for(let[a,b]of Object.entries(q5)){let c=await q0(a);if(c)return{name:b,version:c}}}function q7(){let a=(...a)=>a.some(a=>!!n8.c[a]);return a("CF_PAGES","CF_PAGES_URL","CF_ACCOUNT_ID")||"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent?"cloudflare":a("VERCEL","VERCEL_URL","VERCEL_ENV")?"vercel":a("NETLIFY","NETLIFY_URL")?"netlify":a("RENDER","RENDER_URL","RENDER_INTERNAL_HOSTNAME","RENDER_SERVICE_ID")?"render":a("AWS_LAMBDA_FUNCTION_NAME","AWS_EXECUTION_ENV","LAMBDA_TASK_ROOT")?"aws":a("GOOGLE_CLOUD_FUNCTION_NAME","GOOGLE_CLOUD_PROJECT","GCP_PROJECT","K_SERVICE")?"gcp":a("AZURE_FUNCTION_NAME","FUNCTIONS_WORKER_RUNTIME","WEBSITE_INSTANCE_ID","WEBSITE_SITE_NAME")?"azure":a("DENO_DEPLOYMENT_ID","DENO_REGION")?"deno-deploy":a("FLY_APP_NAME","FLY_REGION","FLY_ALLOC_ID")?"fly-io":a("RAILWAY_STATIC_URL","RAILWAY_ENVIRONMENT_NAME")?"railway":a("DYNO","HEROKU_APP_NAME")?"heroku":a("DO_DEPLOYMENT_ID","DO_APP_NAME","DIGITALOCEAN")?"digitalocean":a("KOYEB","KOYEB_DEPLOYMENT_ID","KOYEB_APP_NAME")?"koyeb":null}async function q8(){try{if("cloudflare"===q7())return"cloudflare";let a=await Function("mm","return import(mm)")("os"),b=a.cpus();return{deploymentVendor:q7(),systemPlatform:a.platform(),systemRelease:a.release(),systemArchitecture:a.arch(),cpuCount:b.length,cpuModel:b.length?b[0].model:null,cpuSpeed:b.length?b[0].speed:null,memory:a.totalmem(),isWSL:await rc(),isDocker:await rb(),isTTY:"undefined"!=typeof process&&process.stdout?process.stdout.isTTY:null}}catch{return{systemPlatform:null,systemRelease:null,systemArchitecture:null,cpuCount:null,cpuModel:null,cpuSpeed:null,memory:null,isWSL:null,isDocker:null,isTTY:null}}}async function q9(){if("cloudflare"===q7())return!1;try{return(await Function("mm","return import(mm)")("fs")).statSync("/.dockerenv"),!0}catch{return!1}}async function ra(){if("cloudflare"===q7())return!1;try{return(await Function("mm","return import(mm)")("fs")).readFileSync("/proc/self/cgroup","utf8").includes("docker")}catch{return!1}}async function rb(){return"cloudflare"!==q7()&&(void 0===e&&(e=await q9()||await ra()),e)}async function rc(){try{if("cloudflare"===q7()||"undefined"==typeof process||process?.platform!=="linux")return!1;let a=await Function("mm","return import(mm)")("fs");if((await Function("mm","return import(mm)")("os")).release().toLowerCase().includes("microsoft")){if(await re())return!1;return!0}return!!a.readFileSync("/proc/version","utf8").toLowerCase().includes("microsoft")&&!await re()}catch{return!1}}let rd=async()=>{if("cloudflare"===q7())return!1;try{return(await Function("mm","return import(mm)")("fs")).statSync("/run/.containerenv"),!0}catch{return!1}};async function re(){return void 0===f&&(f=await rd()||await rb()),f}async function rf(a){let b=await cD("SHA-256").digest(a);return cB.encode(b)}let rg=null;async function rh(a){if(rg)return rg;let b=await q2();return b?rg=await rf(a?a+b:b):a?rg=await rf(a):rg=(0,N.createRandomStringGenerator)("a-z","A-Z","0-9")(32)}async function ri(a,b){let c,d=a.telemetry?.debug||(0,cl.l)("BETTER_AUTH_TELEMETRY_DEBUG",!1),e=cl.s.BETTER_AUTH_TELEMETRY_ENDPOINT,f=async a=>{b?.customTrack?await b.customTrack(a).catch(oU.logger.error):d?oU.logger.info("telemetry event",JSON.stringify(a,null,2)):await p_(e,{method:"POST",body:a}).catch(oU.logger.error)},g=async()=>{let c=a.telemetry?.enabled!==void 0&&a.telemetry.enabled;return((0,cl.l)("BETTER_AUTH_TELEMETRY",!1)||c)&&(b?.skipTestCheck||!(0,n6.p)())},h=await g();h&&(c=await rh(a.baseURL),f({type:"init",payload:{config:{database:b?.database,adapter:b?.adapter,emailVerification:{sendVerificationEmail:!!a.emailVerification?.sendVerificationEmail,sendOnSignUp:!!a.emailVerification?.sendOnSignUp,sendOnSignIn:!!a.emailVerification?.sendOnSignIn,autoSignInAfterVerification:!!a.emailVerification?.autoSignInAfterVerification,expiresIn:a.emailVerification?.expiresIn,onEmailVerification:!!a.emailVerification?.onEmailVerification,afterEmailVerification:!!a.emailVerification?.afterEmailVerification},emailAndPassword:{enabled:!!a.emailAndPassword?.enabled,disableSignUp:!!a.emailAndPassword?.disableSignUp,requireEmailVerification:!!a.emailAndPassword?.requireEmailVerification,maxPasswordLength:a.emailAndPassword?.maxPasswordLength,minPasswordLength:a.emailAndPassword?.minPasswordLength,sendResetPassword:!!a.emailAndPassword?.sendResetPassword,resetPasswordTokenExpiresIn:a.emailAndPassword?.resetPasswordTokenExpiresIn,onPasswordReset:!!a.emailAndPassword?.onPasswordReset,password:{hash:!!a.emailAndPassword?.password?.hash,verify:!!a.emailAndPassword?.password?.verify},autoSignIn:!!a.emailAndPassword?.autoSignIn,revokeSessionsOnPasswordReset:!!a.emailAndPassword?.revokeSessionsOnPasswordReset},socialProviders:Object.keys(a.socialProviders||{}).map(b=>{let c=a.socialProviders?.[b];return c?{id:b,mapProfileToUser:!!c.mapProfileToUser,disableDefaultScope:!!c.disableDefaultScope,disableIdTokenSignIn:!!c.disableIdTokenSignIn,disableImplicitSignUp:c.disableImplicitSignUp,disableSignUp:c.disableSignUp,getUserInfo:!!c.getUserInfo,overrideUserInfoOnSignIn:!!c.overrideUserInfoOnSignIn,prompt:c.prompt,verifyIdToken:!!c.verifyIdToken,scope:c.scope,refreshAccessToken:!!c.refreshAccessToken}:{}}),plugins:a.plugins?.map(a=>a.id.toString()),user:{modelName:a.user?.modelName,fields:a.user?.fields,additionalFields:a.user?.additionalFields,changeEmail:{enabled:a.user?.changeEmail?.enabled,sendChangeEmailVerification:!!a.user?.changeEmail?.sendChangeEmailVerification}},verification:{modelName:a.verification?.modelName,disableCleanup:a.verification?.disableCleanup,fields:a.verification?.fields},session:{modelName:a.session?.modelName,additionalFields:a.session?.additionalFields,cookieCache:{enabled:a.session?.cookieCache?.enabled,maxAge:a.session?.cookieCache?.maxAge,strategy:a.session?.cookieCache?.strategy},disableSessionRefresh:a.session?.disableSessionRefresh,expiresIn:a.session?.expiresIn,fields:a.session?.fields,freshAge:a.session?.freshAge,preserveSessionInDatabase:a.session?.preserveSessionInDatabase,storeSessionInDatabase:a.session?.storeSessionInDatabase,updateAge:a.session?.updateAge},account:{modelName:a.account?.modelName,fields:a.account?.fields,encryptOAuthTokens:a.account?.encryptOAuthTokens,updateAccountOnSignIn:a.account?.updateAccountOnSignIn,accountLinking:{enabled:a.account?.accountLinking?.enabled,trustedProviders:a.account?.accountLinking?.trustedProviders,updateUserInfoOnLink:a.account?.accountLinking?.updateUserInfoOnLink,allowUnlinkingAll:a.account?.accountLinking?.allowUnlinkingAll}},hooks:{after:!!a.hooks?.after,before:!!a.hooks?.before},secondaryStorage:!!a.secondaryStorage,advanced:{cookiePrefix:!!a.advanced?.cookiePrefix,cookies:!!a.advanced?.cookies,crossSubDomainCookies:{domain:!!a.advanced?.crossSubDomainCookies?.domain,enabled:a.advanced?.crossSubDomainCookies?.enabled,additionalCookies:a.advanced?.crossSubDomainCookies?.additionalCookies},database:{useNumberId:!!a.advanced?.database?.useNumberId||a.advanced?.database?.generateId==="serial",generateId:a.advanced?.database?.generateId,defaultFindManyLimit:a.advanced?.database?.defaultFindManyLimit},useSecureCookies:a.advanced?.useSecureCookies,ipAddress:{disableIpTracking:a.advanced?.ipAddress?.disableIpTracking,ipAddressHeaders:a.advanced?.ipAddress?.ipAddressHeaders},disableCSRFCheck:a.advanced?.disableCSRFCheck,cookieAttributes:{expires:a.advanced?.defaultCookieAttributes?.expires,secure:a.advanced?.defaultCookieAttributes?.secure,sameSite:a.advanced?.defaultCookieAttributes?.sameSite,domain:!!a.advanced?.defaultCookieAttributes?.domain,path:a.advanced?.defaultCookieAttributes?.path,httpOnly:a.advanced?.defaultCookieAttributes?.httpOnly}},trustedOrigins:a.trustedOrigins?.length,rateLimit:{storage:a.rateLimit?.storage,modelName:a.rateLimit?.modelName,window:a.rateLimit?.window,customStorage:!!a.rateLimit?.customStorage,enabled:a.rateLimit?.enabled,max:a.rateLimit?.max},onAPIError:{errorURL:a.onAPIError?.errorURL,onError:!!a.onAPIError?.onError,throw:a.onAPIError?.throw},logger:{disabled:a.logger?.disabled,level:a.logger?.level,log:!!a.logger?.log},databaseHooks:{user:{create:{after:!!a.databaseHooks?.user?.create?.after,before:!!a.databaseHooks?.user?.create?.before},update:{after:!!a.databaseHooks?.user?.update?.after,before:!!a.databaseHooks?.user?.update?.before}},session:{create:{after:!!a.databaseHooks?.session?.create?.after,before:!!a.databaseHooks?.session?.create?.before},update:{after:!!a.databaseHooks?.session?.update?.after,before:!!a.databaseHooks?.session?.update?.before}},account:{create:{after:!!a.databaseHooks?.account?.create?.after,before:!!a.databaseHooks?.account?.create?.before},update:{after:!!a.databaseHooks?.account?.update?.after,before:!!a.databaseHooks?.account?.update?.before}},verification:{create:{after:!!a.databaseHooks?.verification?.create?.after,before:!!a.databaseHooks?.verification?.create?.before},update:{after:!!a.databaseHooks?.verification?.update?.after,before:!!a.databaseHooks?.verification?.update?.before}}}},runtime:"undefined"!=typeof Deno?{name:"deno",version:Deno?.version?.deno??null}:"undefined"!=typeof Bun?{name:"bun",version:Bun?.version??null}:"undefined"!=typeof process&&process?.versions?.node?{name:"node",version:process.versions.node??null}:{name:"edge",version:null},database:await q4(),framework:await q6(),environment:"production"===(0,cl.u)("NODE_ENV")?"production":"false"!==n8.c.CI&&("BUILD_ID"in n8.c||"BUILD_NUMBER"in n8.c||"CI"in n8.c||"CI_APP_ID"in n8.c||"CI_BUILD_ID"in n8.c||"CI_BUILD_NUMBER"in n8.c||"CI_NAME"in n8.c||"CONTINUOUS_INTEGRATION"in n8.c||"RUN_ID"in n8.c)?"ci":(0,n6.p)()?"test":"development",systemInfo:await q8(),packageManager:function(){let a=n8.c.npm_config_user_agent;if(!a)return;let b=a.split(" ")[0],c=b.lastIndexOf("/"),d=b.substring(0,c);return{name:"npminstall"===d?"cnpm":d,version:b.substring(c+1)}}()},anonymousId:c}));return{publish:async b=>{h&&(c||(c=await rh(a.baseURL)),await f({type:b.type,payload:b.payload,anonymousId:c}))}}}async function rj(a,b,c){var d,e;let f,g,h,i,j,k,l,m;b.database||(b=qQ(b,{session:{cookieCache:{enabled:!0,strategy:"jwe",refreshCache:!0}},account:{storeStateStrategy:"cookie",storeAccountCookie:!0}}));let n=b.plugins||[],o=(d=b,d.advanced?.crossSubDomainCookies?.enabled,[]),p=(0,o5.n)(b.logger),q=ob(b.baseURL,b.basePath);q||p.warn("[better-auth] Base URL could not be determined. Please set a valid base URL using the baseURL config option or the BETTER_AUTH_BASE_URL environment variable. Without this, callbacks and redirects may not work correctly.");let r=b.secret||n8.c.BETTER_AUTH_SECRET||n8.c.AUTH_SECRET||qW,s=r===qW;if(!(0,n6.p)()){let a;if(s&&po.f)throw new co.t("You are using the default secret. Please set `BETTER_AUTH_SECRET` in your environment variables or pass `secret` in your auth config.");if(!r)throw new co.t("BETTER_AUTH_SECRET is missing. Set it in your environment or pass `secret` to betterAuth({ secret }).");r.length<32&&p.warn("[better-auth] Warning: your BETTER_AUTH_SECRET should be at least 32 characters long for adequate security. Generate one with `npx @better-auth/cli secret` or `openssl rand -base64 32`."),120>(0===(a=new Set(r).size)?0:Math.log2(Math.pow(a,r.length)))&&p.warn("[better-auth] Warning: your BETTER_AUTH_SECRET appears low-entropy. Use a randomly generated secret for production.")}!function(a,b){let c=new Map;a.plugins?.forEach(a=>{if(a.endpoints){for(let[b,d]of Object.entries(a.endpoints))if(d&&"path"in d&&"string"==typeof d.path){let e=d.path,f=[];d.options&&"method"in d.options&&(Array.isArray(d.options.method)?f=d.options.method:"string"==typeof d.options.method&&(f=[d.options.method])),0===f.length&&(f=["*"]),c.has(e)||c.set(e,[]),c.get(e).push({pluginId:a.id,endpointKey:b,methods:f})}}});let d=[];for(let[a,b]of c.entries())if(b.length>1){let c=new Map,e=!1;for(let a of b)for(let d of a.methods)c.has(d)||c.set(d,[]),c.get(d).push(a.pluginId),c.get(d).length>1&&(e=!0),"*"===d&&b.length>1?e=!0:"*"!==d&&c.has("*")&&(e=!0);if(e){let e=[...new Set(b.map(a=>a.pluginId))],f=[];for(let[a,d]of c.entries())(d.length>1||"*"===a&&b.length>1||"*"!==a&&c.has("*"))&&f.push(a);d.push({path:a,plugins:e,conflictingMethods:f})}}if(d.length>0){let a=d.map(a=>`  - "${a.path}" [${a.conflictingMethods.join(", ")}] used by plugins: ${a.plugins.join(", ")}`).join("\n");b.error(`Endpoint path conflicts detected! Multiple plugins are trying to use the same endpoint paths with conflicting HTTP methods:
${a}

To resolve this, you can:
	1. Use only one of the conflicting plugins
	2. Configure the plugins to use different paths (if supported)
	3. Ensure plugins use different HTTP methods for the same path
`)}}(b={...b,secret:r,baseURL:q?new URL(q).origin:"",basePath:b.basePath||"/api/auth",plugins:n.concat(o)},p);let t=(h=(g=ps(e=b))("session_token",{maxAge:e.session?.expiresIn||Math.round(function(a){let b,c=pn.exec("7d");if(!c||c[4]&&c[1])throw TypeError('Invalid time string format: "7d". Use formats like "7d", "30m", "1 hour", etc.');let d=parseFloat(c[2]),e=c[3].toLowerCase();switch(e){case"years":case"year":case"yrs":case"yr":case"y":b=315576e5*d;break;case"months":case"month":case"mo":b=2592e6*d;break;case"weeks":case"week":case"w":b=6048e5*d;break;case"days":case"day":case"d":b=864e5*d;break;case"hours":case"hour":case"hrs":case"hr":case"h":b=36e5*d;break;case"minutes":case"minute":case"mins":case"min":case"m":b=6e4*d;break;case"seconds":case"second":case"secs":case"sec":case"s":b=1e3*d;break;default:throw TypeError(`Unknown time unit: "${e}"`)}return"-"===c[1]||"ago"===c[4]?-b:b}("7d")/1e3)}),i=g("session_data",{maxAge:e.session?.cookieCache?.maxAge||300}),j=g("account_data",{maxAge:e.session?.cookieCache?.maxAge||300}),k=g("dont_remember"),{sessionToken:{name:h.name,options:h.attributes},sessionData:{name:i.name,options:i.attributes},dontRememberToken:{name:k.name,options:k.attributes},accountData:{name:j.name,options:j.attributes}}),u=(0,oT.t)(b),v=Object.entries(b.socialProviders||{}).map(([a,b])=>{if(null==b||!1===b.enabled)return null;b.clientId||p.warn(`Social provider ${a} is missing clientId or clientSecret`);let c=qj[a](b);return c.disableImplicitSignUp=b.disableImplicitSignUp,c}).filter(a=>null!==a),w=({model:a,size:c})=>"function"==typeof b.advanced?.generateId?b.advanced.generateId({model:a,size:c}):"function"==typeof b?.advanced?.database?.generateId?b.advanced.database.generateId({model:a,size:c}):(0,n4.r)(c),{publish:x}=await ri(b,{adapter:a.id,database:"function"==typeof b.database?"adapter":c(b.database)}),y=qZ({appName:b.appName||"Better Auth",socialProviders:v,options:b,oauthConfig:{storeStateStrategy:b.account?.storeStateStrategy||(b.database?"database":"cookie"),skipStateCookieCheck:!!b.account?.skipStateCookieCheck},tables:u,trustedOrigins:await q$(b),isTrustedOrigin(a,b){return this.trustedOrigins.some(c=>og(a,c,b))},baseURL:q||"",sessionConfig:{updateAge:b.session?.updateAge!==void 0?b.session.updateAge:86400,expiresIn:b.session?.expiresIn||604800,freshAge:b.session?.freshAge===void 0?86400:b.session.freshAge,cookieRefreshCache:(l=b.session?.cookieCache?.refreshCache,m=b.session?.cookieCache?.maxAge||300,(b.database||b.secondaryStorage)&&l?(p.warn("[better-auth] `session.cookieCache.refreshCache` is enabled while `database` or `secondaryStorage` is configured. `refreshCache` is meant for stateless (DB-less) setups. Disabling `refreshCache`  remove it from your config to silence this warning."),!1):!1!==l&&void 0!==l&&(!0===l?{enabled:!0,updateAge:Math.floor(.2*m)}:{enabled:!0,updateAge:void 0!==l.updateAge?l.updateAge:Math.floor(.2*m)}))},secret:r,rateLimit:{...b.rateLimit,enabled:b.rateLimit?.enabled??po.f,window:b.rateLimit?.window||10,max:b.rateLimit?.max||100,storage:b.rateLimit?.storage||(b.secondaryStorage?"secondary-storage":"memory")},authCookies:t,logger:p,generateId:w,session:null,secondaryStorage:b.secondaryStorage,password:{hash:b.emailAndPassword?.password?.hash||cv,verify:b.emailAndPassword?.password?.verify||cw,config:{minPasswordLength:b.emailAndPassword?.minPasswordLength||8,maxPasswordLength:b.emailAndPassword?.maxPasswordLength||128},checkPassword:qY},setNewSession(a){this.newSession=a},newSession:null,adapter:a,internalAdapter:o_(a,{options:b,logger:p,hooks:b.databaseHooks?[b.databaseHooks]:[],generateId:w}),createAuthCookie:ps(b),async runMigrations(){throw new co.t("runMigrations will be set by the specific init implementation")},publishTelemetry:x,skipCSRFCheck:!!b.advanced?.disableCSRFCheck,skipOriginCheck:b.advanced?.disableOriginCheck!==void 0?b.advanced.disableOriginCheck:!!(0,n6.p)(),runInBackground:b.advanced?.backgroundTasks?.handler??(a=>{a.catch(()=>{})}),async runInBackgroundOrAwait(a){try{b.advanced?.backgroundTasks?.handler?a instanceof Promise&&b.advanced.backgroundTasks.handler(a.catch(a=>{p.error("Failed to run background task:",a)})):await a}catch(a){p.error("Failed to run background task:",a)}}});return qX(y)?{context:f}=await y:{context:f}=y,f}var co=cn;let rk=async a=>{let b=await oW(a),c=await rj(b,a,a=>(0,o4.getKyselyDatabaseType)(a)||"unknown");return c.runMigrations=async function(){if(!a.database||"updateMany"in a.database)throw new co.t("Database is not provided or it's an adapter. Migrations are only supported with a database instance.");let{runMigrations:b}=await pb(a);await b()},c};var oh=cn,co=cn,rl=a.i(50413);let rm=globalThis.prisma??new rl.PrismaClient({log:["error"]}),rn=((a,b)=>{let c=b(a),{api:d}=qV(c,a);return{handler:async b=>{let d=await c,e=d.options.basePath||"/api/auth";if(!d.options.baseURL){let a=ob(void 0,e,b,void 0,d.options.advanced?.trustedProxyHeaders);if(a)d.baseURL=a,d.options.baseURL=oc(d.baseURL)||void 0;else throw new co.t("Could not get base URL from request. Please provide a valid base URL.")}d.trustedOrigins=await q$(d.options,b);let{handler:f}=((a,b)=>{let{api:c,middlewares:d}=qV(a,b),e=new URL(a.baseURL).pathname;return((a,b)=>{if(!b?.openapi?.disabled){let c={path:"/api/reference",...b?.openapi};a.openapi=nR(c.path,{method:"GET"},async b=>{let d,e;return new Response((d=await nX(a),e=c.scalar,`<!doctype html>
<html>
  <head>
    <title>Scalar API Reference</title>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1" />
  </head>
  <body>
    <script
      id="api-reference"
      type="application/json">
    ${JSON.stringify(d)}
    </script>
	 <script>
      var configuration = {
	  	favicon: ${e?.logo?`data:image/svg+xml;utf8,${encodeURIComponent(e.logo)}`:void 0} ,
	   	theme: ${e?.theme||"saturn"},
        metaData: {
			title: ${e?.title||"Open API Reference"},
			description: ${e?.description||"Better Call Open API"},
		}
      }
      document.getElementById('api-reference').dataset.configuration =
        JSON.stringify(configuration)
    </script>
	  <script src="https://cdn.jsdelivr.net/npm/@scalar/api-reference"></script>
  </body>
</html>`),{headers:{"Content-Type":"text/html"}})})}let c=nZ(),d=nZ();for(let b of Object.values(a))if(!(!b.options||!b.path||b.options?.metadata?.SERVER_ONLY))for(let a of Array.isArray(b.options?.method)?b.options.method:[b.options?.method])n0(c,a,b.path,b);if(b?.routerMiddleware?.length)for(let{path:a,middleware:c}of b.routerMiddleware)n0(d,"*",a,c);let e=async a=>{let e=new URL(a.url),f=e.pathname,g=b?.basePath&&"/"!==b.basePath?f.split(b.basePath).reduce((a,c,d)=>(0!==d&&(d>1?a.push(`${b.basePath}${c}`):a.push(c)),a),[]).join(""):e.pathname;if(!g?.length||/\/{2,}/.test(g))return new Response(null,{status:404,statusText:"Not Found"});let h=function(a,b="",c,d){47===c.charCodeAt(c.length-1)&&(c=c.slice(0,-1));let e=a.static[c];if(e&&e.methods){let a=e.methods[b]||e.methods[""];if(void 0!==a)return a[0]}let f=n$(c),g=function a(b,c,d,e,f){if(f===e.length){if(c.methods){let a=c.methods[d]||c.methods[""];if(a)return a}if(c.param&&c.param.methods){let a=c.param.methods[d]||c.param.methods[""];if(a){let b=a[0].paramsMap;if(b?.[b?.length-1]?.[2])return a}}if(c.wildcard&&c.wildcard.methods){let a=c.wildcard.methods[d]||c.wildcard.methods[""];if(a){let b=a[0].paramsMap;if(b?.[b?.length-1]?.[2])return a}}return}let g=e[f];if(c.static){let h=c.static[g];if(h){let c=a(b,h,d,e,f+1);if(c)return c}}if(c.param){let h=a(b,c.param,d,e,f+1);if(h){if(c.param.hasRegexParam){let a=h.find(a=>a.paramsRegexp[f]?.test(g))||h.find(a=>!a.paramsRegexp[f]);return a?[a]:void 0}return h}}if(c.wildcard&&c.wildcard.methods)return c.wildcard.methods[d]||c.wildcard.methods[""]}(a,a.root,b,f,0)?.[0];if(void 0!==g)return{data:g.data,params:g.paramsMap?n_(f,g.paramsMap):void 0}}(c,a.method,g);if(g.endsWith("/")!==h?.data?.path?.endsWith("/")&&!b?.skipTrailingSlashes||!h?.data)return new Response(null,{status:404,statusText:"Not Found"});let i={};e.searchParams.forEach((a,b)=>{b in i?Array.isArray(i[b])?i[b].push(a):i[b]=[i[b],a]:i[b]=a});let j=h.data;try{let c=j.options.metadata?.allowedMediaTypes||b?.allowedMediaTypes,e={path:g,method:a.method,headers:a.headers,params:h.params?JSON.parse(JSON.stringify(h.params)):{},request:a,body:j.options.disableBody?void 0:await nC(j.options.cloneRequest?a.clone():a,c),query:i,_flag:"router",asResponse:!0,context:b?.routerContext},f=function(a,b="",c,d){47===c.charCodeAt(c.length-1)&&(c=c.slice(0,-1));let e=n$(c);return(function a(b,c,d,e,f,g=[]){let h=e[f];if(c.wildcard&&c.wildcard.methods){let a=c.wildcard.methods[d]||c.wildcard.methods[""];a&&g.push(...a)}if(c.param&&(a(b,c.param,d,e,f+1,g),f===e.length&&c.param.methods)){let a=c.param.methods[d]||c.param.methods[""];if(a){let b=a[0].paramsMap;b?.[b?.length-1]?.[2]&&g.push(...a)}}let i=c.static?.[h];if(i&&a(b,i,d,e,f+1,g),f===e.length&&c.methods){let a=c.methods[d]||c.methods[""];a&&g.push(...a)}return g})(a,a.root,b,e,0).map(a=>({data:a.data,params:a.paramsMap?n_(e,a.paramsMap):void 0}))}(d,"*",g);if(f?.length)for(let{data:a,params:b}of f){let c=await a({...e,params:b,asResponse:!1});if(c instanceof Response)return c}return await j(e)}catch(a){if(b?.onError)try{let c=await b.onError(a);if(c instanceof Response)return nF(c)}catch(a){if(nD(a))return nF(a);throw a}if(b?.throwError)throw a;if(nD(a))return nF(a);return console.error("# SERVER_ERROR: ",a),new Response(null,{status:500,statusText:"Internal Server Error"})}};return{handler:async a=>{let c=await b?.onRequest?.(a);if(c instanceof Response)return c;let d=await e(c instanceof Request?c:a),f=await b?.onResponse?.(d);return f instanceof Response?f:d},endpoints:a}})(c,{routerContext:a,openapi:{disabled:!0},basePath:e,routerMiddleware:[{path:"/**",middleware:om},...d],allowedMediaTypes:["application/json"],async onRequest(b){let c=a.options.disabledPaths||[],d=new URL(b.url).pathname.replace(/\/+$/,"")||"/",f="/"===e?d:d.startsWith(e)?d.slice(e.length).replace(/\/+$/,"")||"/":d;if(c.includes(f))return new Response("Not Found",{status:404});let g=b;for(let b of a.options.plugins||[])if(b.onRequest){let c=await b.onRequest(g,a);if(c&&"response"in c)return c.response;c&&"request"in c&&(g=c.request)}return await ot(g,a)||g},async onResponse(b){for(let c of a.options.plugins||[])if(c.onResponse){let d=await c.onResponse(b,a);if(d)return d.response}return b},onError(c){if(c instanceof nA&&"FOUND"===c.status)return;if(b.onAPIError?.throw)throw c;if(b.onAPIError?.onError)return void b.onAPIError.onError(c,a);let d=b.logger?.level,e="error"===d||"warn"===d||"debug"===d?oU.logger:void 0;if(b.logger?.disabled!==!0){if(c&&"object"==typeof c&&"message"in c&&"string"==typeof c.message&&(c.message.includes("no column")||c.message.includes("column")||c.message.includes("relation")||c.message.includes("table")||c.message.includes("does not exist")))return void a.logger?.error(c.message);c instanceof nA?("INTERNAL_SERVER_ERROR"===c.status&&a.logger.error(c.status,c),e?.error(c.message)):a.logger?.error(c&&"object"==typeof c&&"name"in c?c.name:"",c)}}})})(d,a);return C(d.adapter,()=>f(b))},api:d,options:a,$context:c,$ERROR_CODES:{...a.plugins?.reduce((a,b)=>b.$ERROR_CODES?{...a,...b.$ERROR_CODES}:a,{}),...oh.n}}})({database:(J={provider:"postgresql"},k=null,l=a=>({getFieldName:b,getModelName:c,getFieldAttributes:d,getDefaultModelName:e,schema:f})=>{let g=(a,d,g)=>{if(!a&&!g)return;let i={};if(a)for(let c of a)i[b({model:d,field:c})]=!0;if(g){if(!a){let a=f[e(d)]?.fields||{};for(let c of(a.id={type:"string"},Object.keys(a)))i[b({model:d,field:c})]=!0}for(let[a,b]of Object.entries(g)){let e=h(d,c(a),f);"one-to-one"===b.relation?i[e]=!0:i[e]={take:b.limit}}}return i},h=(a,b,d)=>{try{let f=e(a),g=e(b),h=c(b).toLowerCase(),i=Object.entries(d[g]?.fields||{}).filter(([a,b])=>b.references&&e(b.references.model)===f);if(i.length>0){let[a,b]=i[0];return b?.unique===!0||!0===J.usePlural?h:`${h}s`}if((i=Object.entries(d[f]?.fields||{}).filter(([a,b])=>b.references&&e(b.references.model)===g)).length>0)return h}catch{}return`${c(b).toLowerCase()}s`};function i(a){switch(a){case"starts_with":return"startsWith";case"ends_with":return"endsWith";case"ne":return"not";case"not_in":return"notIn";default:return a}}let j=({action:a,model:c,where:d})=>{if(!d||!d.length)return{};let e=a=>{let d=b({model:c,field:a.field});if("ne"===a.operator&&null===a.value)return{};if(("in"===a.operator||"not_in"===a.operator)&&Array.isArray(a.value)){let b=a.value.filter(a=>null!=a);if(0===b.length)if("in"===a.operator)return{AND:[{[d]:{equals:"__never__"}},{[d]:{not:"__never__"}}]};else return{};return{[d]:{[i(a.operator)]:b}}}return"eq"!==a.operator&&a.operator?{[d]:{[i(a.operator)]:a.value}}:{[d]:a.value}};if("delete"===a){let a=d.find(a=>"id"===a.field);if(a){let f=b({model:c,field:"id"}),g=e(a),h=d.filter(a=>"id"!==a.field);if(0===h.length)return g;let i=h.filter(a=>"AND"===a.connector||!a.connector),j=h.filter(a=>"OR"===a.connector),k=i.map(a=>e(a)),l=j.map(a=>e(a)),m={};return f in g?m[f]=g[f]:Object.assign(m,g),k.length>0&&(m.AND=k),l.length>0&&(m.OR=l),m}}if(1===d.length){let a=d[0];if(!a)return;return e(a)}let f=d.filter(a=>"AND"===a.connector||!a.connector),g=d.filter(a=>"OR"===a.connector),h=f.map(a=>e(a)),j=g.map(a=>e(a));return{...h.length?{AND:h}:{},...j.length?{OR:j}:{}}};return{async create({model:b,data:c,select:d}){if(!a[b])throw new co.t(`Model ${b} does not exist in the database. If you haven't generated the Prisma client, you need to run 'npx prisma generate'`);return await a[b].create({data:c,select:g(d,b)})},async findOne({model:b,where:d,select:e,join:i}){let k=j({model:b,where:d,action:"findOne"});if(!a[b])throw new co.t(`Model ${b} does not exist in the database. If you haven't generated the Prisma client, you need to run 'npx prisma generate'`);let l=new Map;for(let a of Object.keys(i??{})){let d=h(b,a,f);l.set(d,c(a))}let m=g(e,b,i),n=await a[b].findFirst({where:k,select:m});if(i&&n)for(let[a,b]of l.entries())a!==b&&a in n&&(n[b]=n[a],delete n[a]);return n},async findMany({model:d,where:e,limit:i,offset:k,sortBy:l,join:m}){let n=j({model:d,where:e,action:"findMany"});if(!a[d])throw new co.t(`Model ${d} does not exist in the database. If you haven't generated the Prisma client, you need to run 'npx prisma generate'`);let o=new Map;if(m)for(let[a,b]of Object.entries(m)){let b=h(d,a,f);o.set(b,c(a))}let p=g(void 0,d,m),q=await a[d].findMany({where:n,take:i||100,skip:k||0,...l?.field?{orderBy:{[b({model:d,field:l.field})]:"desc"===l.direction?"desc":"asc"}}:{},select:p});if(m&&Array.isArray(q))for(let a of q)for(let[b,c]of o.entries())b!==c&&b in a&&(a[c]=a[b],delete a[b]);return q},async count({model:b,where:c}){let d=j({model:b,where:c,action:"count"});if(!a[b])throw new co.t(`Model ${b} does not exist in the database. If you haven't generated the Prisma client, you need to run 'npx prisma generate'`);return await a[b].count({where:d})},async update({model:b,where:c,update:d}){if(!a[b])throw new co.t(`Model ${b} does not exist in the database. If you haven't generated the Prisma client, you need to run 'npx prisma generate'`);let e=j({model:b,where:c,action:"update"});return await a[b].update({where:e,data:d})},async updateMany({model:b,where:c,update:d}){if(!a[b])throw new co.t(`Model ${b} does not exist in the database. If you haven't generated the Prisma client, you need to run 'npx prisma generate'`);let e=j({model:b,where:c,action:"updateMany"}),f=await a[b].updateMany({where:e,data:d});return f?f.count:0},async delete({model:b,where:c}){if(!a[b])throw new co.t(`Model ${b} does not exist in the database. If you haven't generated the Prisma client, you need to run 'npx prisma generate'`);let d=j({model:b,where:c,action:"delete"});try{await a[b].delete({where:d})}catch(a){if(a?.meta?.cause==="Record to delete does not exist.")return;console.log(a)}},async deleteMany({model:b,where:c}){let d=j({model:b,where:c,action:"deleteMany"}),e=await a[b].deleteMany({where:d});return e?e.count:0},options:J}},m=null,m={config:{adapterId:"prisma",adapterName:"Prisma Adapter",usePlural:J.usePlural??!1,debugLogs:J.debugLogs??!1,supportsUUIDs:"postgresql"===J.provider,supportsArrays:"postgresql"===J.provider||"mongodb"===J.provider,transaction:!!J.transaction&&(a=>rm.$transaction(b=>a((0,o7.createAdapterFactory)({config:m.config,adapter:l(b)})(k))))},adapter:l(rm)},n=(0,o7.createAdapterFactory)(m),a=>(k=a,n(a))),emailAndPassword:{enabled:!0,minPasswordLength:8},session:{expiresIn:604800,updateAge:86400,cookieCache:{enabled:!0,maxAge:300}},user:{additionalFields:{role:{type:"string",required:!1,defaultValue:"ATHLETE",input:!0}}}},rk);var ro=a.i(87972),rp=a.i(57098);let rq=(0,rp.cache)(async()=>await rn.api.getSession({headers:await (0,ro.headers)()}));(0,rp.cache)(async()=>{let a=await rq();return a?.user??null}),a.s(["getSession",0,rq],82241)}];

//# sourceMappingURL=_14070d93._.js.map